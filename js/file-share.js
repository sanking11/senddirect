const _0x316d19=_0x5040;(function(_0x40e288,_0x49cac8){const _0xcb10e9=_0x5040,_0x43f6ad=_0x40e288();while(!![]){try{const _0x27ae45=-parseInt(_0xcb10e9(0x29a))/0x1*(-parseInt(_0xcb10e9(0x286))/0x2)+-parseInt(_0xcb10e9(0x318))/0x3*(-parseInt(_0xcb10e9(0x28e))/0x4)+parseInt(_0xcb10e9(0x1e9))/0x5*(-parseInt(_0xcb10e9(0x21e))/0x6)+-parseInt(_0xcb10e9(0x2ac))/0x7*(parseInt(_0xcb10e9(0x30b))/0x8)+-parseInt(_0xcb10e9(0x2d1))/0x9*(-parseInt(_0xcb10e9(0x234))/0xa)+-parseInt(_0xcb10e9(0x1e3))/0xb*(parseInt(_0xcb10e9(0x246))/0xc)+parseInt(_0xcb10e9(0x236))/0xd;if(_0x27ae45===_0x49cac8)break;else _0x43f6ad['push'](_0x43f6ad['shift']());}catch(_0x5d783e){_0x43f6ad['push'](_0x43f6ad['shift']());}}}(_0xee7f,0xe9e30));function _0x5040(_0x197716,_0x30e191){_0x197716=_0x197716-0x19f;const _0xee7fa2=_0xee7f();let _0x504020=_0xee7fa2[_0x197716];return _0x504020;}class FileShare{constructor(){const _0x3eae58=_0x5040;this['files']=[],this['peerConnection']=null,this['dataChannel']=null,this['ws']=null,this[_0x3eae58(0x259)]=null,this['isHost']=![],this[_0x3eae58(0x2d7)]=[],this['receivedFileInfo']=null,this['chunkSize']=0x40*0x400,this[_0x3eae58(0x251)]=null,this['totalBytesTransferred']=0x0,this['transferComplete']=![],this[_0x3eae58(0x29d)]=null,this['webLock']=null,this[_0x3eae58(0x1bc)]=0x0,this['receivedTotalBytes']=0x0,this['isUsingRelay']=![],this['connectionType']=_0x3eae58(0x297),this[_0x3eae58(0x2fa)]=0xc8,this['forceRelayMode']=![],this['connectionAttempt']=0x0,this[_0x3eae58(0x2a0)]=null,this[_0x3eae58(0x213)]=null,this[_0x3eae58(0x2e9)]=0x2,this['init']();}['init'](){const _0x3c76a9=_0x5040;this[_0x3c76a9(0x2a6)](),this[_0x3c76a9(0x229)](),this[_0x3c76a9(0x2e3)]();}async['detectConnectionType'](){const _0x49d65b=_0x5040;if(!this['peerConnection'])return'unknown';try{const _0x405d49=await this[_0x49d65b(0x20e)]['getStats']();let _0x539795=null,_0x3959eb=null,_0x17cafc=null;_0x405d49['forEach'](_0x41e769=>{const _0x3afd36=_0x49d65b;_0x41e769[_0x3afd36(0x2eb)]==='transport'&&_0x41e769['selectedCandidatePairId']&&(_0x539795=_0x41e769[_0x3afd36(0x2fd)]),_0x41e769[_0x3afd36(0x2eb)]==='candidate-pair'&&_0x41e769['state']==='succeeded'&&_0x41e769['nominated']&&(_0x3959eb=_0x41e769[_0x3afd36(0x2f8)],_0x17cafc=_0x41e769[_0x3afd36(0x2b0)]);});let _0x2e9d28=_0x49d65b(0x297),_0x6980bc=_0x49d65b(0x297);_0x405d49[_0x49d65b(0x31f)](_0x2e0ddc=>{const _0x502834=_0x49d65b;_0x2e0ddc[_0x502834(0x2eb)]==='local-candidate'&&_0x2e0ddc['id']===_0x3959eb&&(_0x2e9d28=_0x2e0ddc[_0x502834(0x311)]),_0x2e0ddc['type']==='remote-candidate'&&_0x2e0ddc['id']===_0x17cafc&&(_0x6980bc=_0x2e0ddc['candidateType']);}),console[_0x49d65b(0x24d)](_0x49d65b(0x2d3)+_0x2e9d28+',\x20Remote:\x20'+_0x6980bc);if(_0x2e9d28===_0x49d65b(0x1f1)||_0x6980bc===_0x49d65b(0x1f1))return this['isUsingRelay']=!![],this[_0x49d65b(0x281)]='relay','relay';else return _0x2e9d28==='host'&&_0x6980bc===_0x49d65b(0x2a4)?(this['isUsingRelay']=![],this[_0x49d65b(0x281)]=_0x49d65b(0x328),'direct'):(this['isUsingRelay']=![],this['connectionType']=_0x49d65b(0x328),'direct');}catch(_0x113f8f){return console[_0x49d65b(0x25d)](_0x49d65b(0x1f3),_0x113f8f),_0x49d65b(0x297);}}[_0x316d19(0x243)](){const _0x2325d2=_0x316d19,_0x1ca810=new Date()[_0x2325d2(0x24e)]()['slice'](0x0,0x7),_0x55ac3c=localStorage['getItem']('relayUsage');if(_0x55ac3c){const _0x200fc8=JSON[_0x2325d2(0x239)](_0x55ac3c);if(_0x200fc8['month']===_0x1ca810)return _0x200fc8[_0x2325d2(0x1d7)]||0x0;}return 0x0;}['updateRelayUsage'](_0x54afbc){const _0x4f6b68=_0x316d19,_0x1bcd0a=new Date()['toISOString']()['slice'](0x0,0x7),_0xa468d6=this[_0x4f6b68(0x243)](),_0x272f33=_0xa468d6+_0x54afbc;return localStorage['setItem']('relayUsage',JSON['stringify']({'month':_0x1bcd0a,'bytesUsed':_0x272f33})),this[_0x4f6b68(0x2e1)](_0x54afbc),_0x272f33;}async[_0x316d19(0x2e1)](_0x530581){const _0x5aa96d=_0x316d19;try{await fetch('/api/relay-usage',{'method':'POST','headers':{'Content-Type':_0x5aa96d(0x25a)},'body':JSON[_0x5aa96d(0x244)]({'bytes':_0x530581})});}catch(_0x334d58){console['error'](_0x5aa96d(0x1f7),_0x334d58);}}['hasExceededRelayLimit'](){const _0x453703=_0x316d19,_0x4bb8b9=this[_0x453703(0x243)](),_0x12df28=this[_0x453703(0x2fa)]*0x400*0x400*0x400;return _0x4bb8b9>=_0x12df28;}['getRemainingRelayQuota'](){const _0x5c2f20=_0x316d19,_0x284ff7=this['getRelayUsage'](),_0x5156eb=this[_0x5c2f20(0x2fa)]*0x400*0x400*0x400;return Math['max'](0x0,_0x5156eb-_0x284ff7);}[_0x316d19(0x2d9)](_0x249451){const _0x184c69=_0x249451/(0x400*0x400*0x400);if(_0x184c69>=0x1)return _0x184c69['toFixed'](0x2)+'\x20GB';const _0x4b7f74=_0x249451/(0x400*0x400);return _0x4b7f74['toFixed'](0x1)+'\x20MB';}['showRelayWarning'](){const _0x2584a1=_0x316d19,_0x198e73=document[_0x2584a1(0x320)]('relayWarningBanner');if(_0x198e73)_0x198e73['remove']();const _0x5cf7ac=this['getRelayUsage'](),_0x4cd8d4=this[_0x2584a1(0x312)](),_0x27a642=Math[_0x2584a1(0x1d3)](_0x5cf7ac/(this['MONTHLY_RELAY_LIMIT_GB']*0x400*0x400*0x400)*0x64),_0x17cb83=document[_0x2584a1(0x1e4)](_0x2584a1(0x2dc));_0x17cb83['id']='relayWarningBanner',_0x17cb83['className']='relay-warning-banner',_0x17cb83[_0x2584a1(0x326)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-icon\x22>‚ö°</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Relayed\x20Connection</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Direct\x20peer\x20entanglement\x20unavailable.\x20Data\x20is\x20transmitted\x20via\x20an\x20encrypted,\x20indirect\x20quantum\x20channel.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22relay-usage\x22>Monthly\x20usage:\x20'+this[_0x2584a1(0x2d9)](_0x5cf7ac)+_0x2584a1(0x274)+this['MONTHLY_RELAY_LIMIT_GB']+'\x20GB\x20('+_0x27a642+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22relay-warning-close\x22\x20onclick=\x22this.parentElement.parentElement.remove()\x22>‚úï</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-usage-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-usage-fill\x22\x20style=\x22width:\x20'+Math[_0x2584a1(0x315)](_0x27a642,0x64)+'%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x2584a1(0x2bb)]();const _0x3bec54=document['getElementById']('transferSection');_0x3bec54?_0x3bec54['insertBefore'](_0x17cb83,_0x3bec54['firstChild']):document[_0x2584a1(0x317)][_0x2584a1(0x1d4)](_0x17cb83);}['showDirectConnectionBadge'](){const _0x1c9149=_0x316d19,_0x1c8c96=document[_0x1c9149(0x320)](_0x1c9149(0x257));if(_0x1c8c96)_0x1c8c96[_0x1c9149(0x1c4)]();const _0x476fc7=document[_0x1c9149(0x1e4)](_0x1c9149(0x2dc));_0x476fc7['id']='directConnectionBadge',_0x476fc7[_0x1c9149(0x2a9)]='direct-connection-badge',_0x476fc7[_0x1c9149(0x326)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22direct-badge-icon\x22>üîó</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22direct-badge-text\x22>Direct\x20P2P\x20-\x20No\x20relay\x20limits</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x1c9149(0x2bb)]();const _0x2b4431=document[_0x1c9149(0x320)](_0x1c9149(0x330));_0x2b4431&&_0x2b4431[_0x1c9149(0x310)]['appendChild'](_0x476fc7);}[_0x316d19(0x2bb)](){const _0x134a92=_0x316d19;if(document[_0x134a92(0x320)]('relayWarningStyles'))return;const _0x22a5df=document[_0x134a92(0x1e4)]('style');_0x22a5df['id']='relayWarningStyles',_0x22a5df['textContent']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-banner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20rgba(251,\x20146,\x2060,\x200.15),\x20rgba(239,\x2068,\x2068,\x200.15));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(251,\x20146,\x2060,\x200.4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20slideDown\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20slideDown\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20{\x20opacity:\x200;\x20transform:\x20translateY(-10px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20flex-start;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-icon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fb923c;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.95rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20span\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.7);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.85rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9)\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-close:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage-fill\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#4ade80,\x20#fb923c,\x20#ef4444);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-connection-badge\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(74,\x20222,\x20128,\x200.15);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(74,\x20222,\x20128,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.35rem\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-badge-icon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-badge-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#4ade80;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-limit-exceeded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20rgba(239,\x2068,\x2068,\x200.2),\x20rgba(239,\x2068,\x2068,\x200.1));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-limit-exceeded\x20.relay-warning-text\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x134a92(0x1da)][_0x134a92(0x1d4)](_0x22a5df);}async['checkRelayLimitBeforeTransfer'](){const _0x14681a=_0x316d19;if(!this['isUsingRelay'])return!![];if(this[_0x14681a(0x238)]())return this[_0x14681a(0x2cb)](_0x14681a(0x27f),_0x14681a(0x25d)),this[_0x14681a(0x224)](),![];const _0x42667c=this['files'][_0x14681a(0x227)]((_0x4451b7,_0xb25a87)=>_0x4451b7+_0xb25a87[_0x14681a(0x1bd)],0x0),_0x55c37c=this[_0x14681a(0x312)]();if(_0x42667c>_0x55c37c){const _0x3071b1=this['formatRelayUsage'](_0x55c37c);return this['showNotification'](_0x14681a(0x1f4)+_0x3071b1+'.\x20File\x20size:\x20'+this[_0x14681a(0x2c5)](_0x42667c),'error'),![];}return!![];}['showRelayLimitExceededBanner'](){const _0x4e1754=_0x316d19,_0x3966cb=document[_0x4e1754(0x320)]('relayWarningBanner');if(_0x3966cb)_0x3966cb[_0x4e1754(0x1c4)]();const _0x351563=document[_0x4e1754(0x1e4)]('div');_0x351563['id']=_0x4e1754(0x268),_0x351563[_0x4e1754(0x2a9)]=_0x4e1754(0x332),_0x351563['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-icon\x22>üö´</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Monthly\x20Relay\x20Limit\x20Reached</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>You\x27ve\x20used\x20your\x20200GB\x20monthly\x20relay\x20quota.\x20Direct\x20P2P\x20transfers\x20are\x20still\x20unlimited.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22relay-usage\x22>Limit\x20resets\x20on\x20the\x201st\x20of\x20next\x20month.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x4e1754(0x2bb)]();const _0x3f20ec=document[_0x4e1754(0x320)](_0x4e1754(0x322));_0x3f20ec?_0x3f20ec[_0x4e1754(0x232)](_0x351563,_0x3f20ec['firstChild']):document['body']['appendChild'](_0x351563);}['setupBackgroundSupport'](){const _0x29f095=_0x316d19;document['addEventListener'](_0x29f095(0x23f),()=>{const _0x43b9af=_0x29f095;document[_0x43b9af(0x216)]&&this[_0x43b9af(0x23d)]()&&this[_0x43b9af(0x25c)]();});}[_0x316d19(0x23d)](){const _0x28f269=_0x316d19;return this['dataChannel']&&this['dataChannel'][_0x28f269(0x266)]==='open'&&!this['transferComplete'];}async[_0x316d19(0x25c)](){const _0x5b2330=_0x316d19;if('wakeLock'in navigator)try{this[_0x5b2330(0x29d)]=await navigator['wakeLock'][_0x5b2330(0x252)]('screen'),console['log']('Wake\x20lock\x20acquired\x20for\x20background\x20transfer'),this[_0x5b2330(0x29d)]['addEventListener']('release',()=>{const _0x1dc315=_0x5b2330;console[_0x1dc315(0x24d)](_0x1dc315(0x1d2));});}catch(_0x18be64){console[_0x5b2330(0x24d)](_0x5b2330(0x2e7),_0x18be64['message']);}}[_0x316d19(0x231)](){const _0x4c18cd=_0x316d19;this['wakeLock']&&(this[_0x4c18cd(0x29d)]['release'](),this['wakeLock']=null);}async['acquireWebLock'](){const _0x386959=_0x316d19;if('locks'in navigator)try{navigator['locks'][_0x386959(0x252)](_0x386959(0x242),{'mode':'exclusive'},async _0x44cd9a=>{const _0x52b769=_0x386959;console[_0x52b769(0x24d)]('Web\x20lock\x20acquired\x20-\x20transfer\x20protected'),await new Promise(_0x2cd4fd=>{const _0x1dbfe7=_0x52b769;this[_0x1dbfe7(0x31c)]=_0x2cd4fd;});});}catch(_0x351463){console['log'](_0x386959(0x1e5),_0x351463['message']);}}[_0x316d19(0x2a6)](){const _0x5d79d1=_0x316d19,_0x311d54=document[_0x5d79d1(0x320)](_0x5d79d1(0x1ea)),_0x23a5ad=document[_0x5d79d1(0x320)](_0x5d79d1(0x279)),_0x4b7ed4=document['getElementById'](_0x5d79d1(0x2b7)),_0x925e4=document[_0x5d79d1(0x320)](_0x5d79d1(0x1fc)),_0x482396=document[_0x5d79d1(0x321)](_0x5d79d1(0x1a3));_0x311d54&&(_0x311d54[_0x5d79d1(0x2b1)](_0x5d79d1(0x20d),_0x1de3f1=>this[_0x5d79d1(0x1e2)](_0x1de3f1)),_0x311d54['addEventListener'](_0x5d79d1(0x249),_0x581c51=>this[_0x5d79d1(0x329)](_0x581c51)),_0x311d54['addEventListener']('drop',_0xf4f781=>this[_0x5d79d1(0x2de)](_0xf4f781)),_0x311d54['addEventListener'](_0x5d79d1(0x235),()=>_0x23a5ad?.['click']()));if(_0x23a5ad)_0x23a5ad['addEventListener'](_0x5d79d1(0x1cf),_0xe64c56=>this[_0x5d79d1(0x2aa)](_0xe64c56));if(_0x482396)_0x482396[_0x5d79d1(0x2b1)]('click',_0x1d483b=>{_0x1d483b['stopPropagation'](),_0x23a5ad?.['click']();});if(_0x4b7ed4)_0x4b7ed4['addEventListener']('click',()=>this['createShareLink']());if(_0x925e4)_0x925e4['addEventListener'](_0x5d79d1(0x235),()=>this['copyShareLink']());const _0xc6e1e2=document[_0x5d79d1(0x320)]('clearFiles');if(_0xc6e1e2)_0xc6e1e2[_0x5d79d1(0x2b1)](_0x5d79d1(0x235),()=>this['clearAllFiles']());const _0x54f9e3=document[_0x5d79d1(0x320)]('enablePassword'),_0xe6a40b=document[_0x5d79d1(0x320)]('sharePassword');_0x54f9e3&&_0xe6a40b&&_0x54f9e3[_0x5d79d1(0x2b1)](_0x5d79d1(0x1cf),_0x58d6a0=>{const _0x15c6ff=_0x5d79d1;_0xe6a40b['style']['display']=_0x58d6a0[_0x15c6ff(0x2f2)]['checked']?'block':'none';if(!_0x58d6a0['target'][_0x15c6ff(0x287)])_0xe6a40b[_0x15c6ff(0x1c6)]='';});this['transferMode']='link';const _0x4f3e9=document['getElementById']('modeLinkBtn'),_0x51bc9b=document[_0x5d79d1(0x320)](_0x5d79d1(0x1a2)),_0x23c47a=document[_0x5d79d1(0x320)]('emailForm'),_0xb5191f=document['getElementById']('shareBtnText');_0x4f3e9&&_0x51bc9b&&(_0x4f3e9['addEventListener'](_0x5d79d1(0x235),()=>{const _0x1c62f1=_0x5d79d1;this[_0x1c62f1(0x1ce)]=_0x1c62f1(0x247),_0x4f3e9[_0x1c62f1(0x29c)][_0x1c62f1(0x307)]('active'),_0x51bc9b[_0x1c62f1(0x29c)]['remove'](_0x1c62f1(0x27a));if(_0x23c47a)_0x23c47a['style']['display']=_0x1c62f1(0x1f0);if(_0xb5191f)_0xb5191f[_0x1c62f1(0x265)]=_0x1c62f1(0x2f1);}),_0x51bc9b['addEventListener']('click',()=>{const _0x3ab099=_0x5d79d1;this[_0x3ab099(0x1ce)]='email',_0x51bc9b['classList']['add'](_0x3ab099(0x27a)),_0x4f3e9[_0x3ab099(0x29c)][_0x3ab099(0x1c4)]('active');if(_0x23c47a)_0x23c47a[_0x3ab099(0x2cd)]['display']=_0x3ab099(0x221);if(_0xb5191f)_0xb5191f[_0x3ab099(0x265)]='Send\x20Files';})),window[_0x5d79d1(0x2b1)](_0x5d79d1(0x299),()=>{if(this['ws'])this['ws']['close']();});}['clearAllFiles'](){const _0x411e52=_0x316d19;this['files']=[],this['updateFilesList'](),this[_0x411e52(0x1d6)](),this['updateShareButton']();const _0x5b262e=document['getElementById']('dropZone');if(_0x5b262e)_0x5b262e['classList']['remove']('has-files');const _0x12216f=document['querySelector'](_0x411e52(0x24b));if(_0x12216f)_0x12216f[_0x411e52(0x29c)][_0x411e52(0x1c4)](_0x411e52(0x2d2));const _0x125570=document[_0x411e52(0x320)]('shareOptions');if(_0x125570)_0x125570[_0x411e52(0x2cd)]['display']=_0x411e52(0x1f0);}['handleDragOver'](_0x1a4ad6){const _0x1394e4=_0x316d19;_0x1a4ad6[_0x1394e4(0x23b)](),_0x1a4ad6['stopPropagation'](),_0x1a4ad6[_0x1394e4(0x1d5)]['classList'][_0x1394e4(0x307)](_0x1394e4(0x264));}['handleDragLeave'](_0x2f0c3a){const _0x433507=_0x316d19;_0x2f0c3a['preventDefault'](),_0x2f0c3a[_0x433507(0x1df)](),_0x2f0c3a['currentTarget']['classList']['remove'](_0x433507(0x264));}[_0x316d19(0x2de)](_0x21e356){const _0x2190a0=_0x316d19;_0x21e356[_0x2190a0(0x23b)](),_0x21e356[_0x2190a0(0x1df)](),_0x21e356[_0x2190a0(0x1d5)][_0x2190a0(0x29c)][_0x2190a0(0x1c4)](_0x2190a0(0x264)),this['addFiles'](Array[_0x2190a0(0x1db)](_0x21e356['dataTransfer']['files']));}['handleFileSelect'](_0x13b5df){const _0x1ef931=_0x316d19;this[_0x1ef931(0x1fa)](Array['from'](_0x13b5df['target']['files']));}['addFiles'](_0x337335){const _0x452e1c=_0x316d19;this['files']=[...this[_0x452e1c(0x226)],..._0x337335],this['updateFilesList'](),this[_0x452e1c(0x28f)](),this[_0x452e1c(0x31e)]();const _0x167fb8=document['getElementById'](_0x452e1c(0x1ea));_0x167fb8&&this['files'][_0x452e1c(0x1fd)]>0x0&&_0x167fb8[_0x452e1c(0x29c)][_0x452e1c(0x307)]('has-files');const _0x34e634=document['querySelector']('.hero-card');_0x34e634&&this[_0x452e1c(0x226)][_0x452e1c(0x1fd)]>0x0&&_0x34e634[_0x452e1c(0x29c)]['add']('data-flowing');const _0x3c3e1b=document[_0x452e1c(0x320)]('shareOptions');_0x3c3e1b&&this[_0x452e1c(0x226)]['length']>0x0&&(_0x3c3e1b['style']['display']=_0x452e1c(0x221));}[_0x316d19(0x324)](_0x141a6a){const _0x5b9854=_0x316d19;this['files'][_0x5b9854(0x272)](_0x141a6a,0x1),this[_0x5b9854(0x225)](),this[_0x5b9854(0x31e)]();if(this[_0x5b9854(0x226)][_0x5b9854(0x1fd)]===0x0){this[_0x5b9854(0x1d6)]();const _0x2cac86=document[_0x5b9854(0x320)]('dropZone');if(_0x2cac86)_0x2cac86['classList'][_0x5b9854(0x1c4)](_0x5b9854(0x1f8));const _0x52499a=document[_0x5b9854(0x321)]('.hero-card');if(_0x52499a)_0x52499a['classList']['remove'](_0x5b9854(0x2d2));const _0x446510=document['getElementById']('shareOptions');if(_0x446510)_0x446510['style']['display']='none';}}['updateShareButton'](){const _0x380d65=_0x316d19,_0x132c76=document[_0x380d65(0x320)](_0x380d65(0x2b7));if(_0x132c76)_0x132c76[_0x380d65(0x32f)]=this['files']['length']===0x0;}[_0x316d19(0x225)](){const _0x1beca0=_0x316d19,_0x1ba9bd=document[_0x1beca0(0x320)](_0x1beca0(0x1b2));if(!_0x1ba9bd)return;_0x1ba9bd[_0x1beca0(0x326)]=this['files'][_0x1beca0(0x2a8)]((_0x17c3cb,_0x4d5069)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-icon\x22>'+this[_0x1beca0(0x1a4)](_0x17c3cb['type'])+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-name\x22>'+this[_0x1beca0(0x228)](_0x17c3cb[_0x1beca0(0x2af)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-size\x22>'+this[_0x1beca0(0x2c5)](_0x17c3cb['size'])+_0x1beca0(0x269)+_0x4d5069+_0x1beca0(0x209))[_0x1beca0(0x2ee)](''),_0x1ba9bd[_0x1beca0(0x1ac)](_0x1beca0(0x1ae))[_0x1beca0(0x31f)](_0x557979=>{const _0x4ce994=_0x1beca0;_0x557979[_0x4ce994(0x2b1)]('click',_0x126d5b=>{const _0x2ce67b=_0x4ce994;_0x126d5b[_0x2ce67b(0x1df)](),this['removeFile'](parseInt(_0x557979[_0x2ce67b(0x31d)]['index']));});});const _0x233dff=this['files'][_0x1beca0(0x227)]((_0xbf2d1c,_0x49c3a1)=>_0xbf2d1c+_0x49c3a1['size'],0x0),_0x445073=document[_0x1beca0(0x320)](_0x1beca0(0x24a)),_0x1eb3d1=document['getElementById'](_0x1beca0(0x1dc));if(_0x445073)_0x445073[_0x1beca0(0x265)]=this[_0x1beca0(0x2c5)](_0x233dff);if(_0x1eb3d1)_0x1eb3d1['textContent']=this[_0x1beca0(0x226)][_0x1beca0(0x1fd)]+_0x1beca0(0x28d)+(this[_0x1beca0(0x226)]['length']!==0x1?'s':'');}['showSelectedFiles'](){const _0x570d2f=_0x316d19,_0x2dbf2a=document[_0x570d2f(0x320)]('selectedFiles');if(_0x2dbf2a&&this[_0x570d2f(0x226)]['length']>0x0)_0x2dbf2a[_0x570d2f(0x2cd)]['display']=_0x570d2f(0x221);}[_0x316d19(0x1d6)](){const _0x551355=_0x316d19,_0x2fb864=document[_0x551355(0x320)](_0x551355(0x301));if(_0x2fb864)_0x2fb864['style'][_0x551355(0x1c0)]='none';}[_0x316d19(0x1a4)](_0x59e75c){const _0x8c0f5a=_0x316d19;if(!_0x59e75c)return'üìÅ';if(_0x59e75c[_0x8c0f5a(0x2d6)]('image/'))return'üñºÔ∏è';if(_0x59e75c['startsWith']('video/'))return'üé¨';if(_0x59e75c['startsWith']('audio/'))return'üéµ';if(_0x59e75c['includes'](_0x8c0f5a(0x205)))return'üìÑ';if(_0x59e75c['includes']('zip')||_0x59e75c['includes'](_0x8c0f5a(0x302))||_0x59e75c[_0x8c0f5a(0x1f2)]('7z'))return'üì¶';if(_0x59e75c[_0x8c0f5a(0x1f2)]('text')||_0x59e75c[_0x8c0f5a(0x1f2)]('document'))return'üìù';return'üìÅ';}[_0x316d19(0x2c5)](_0x51a6f1){const _0x46349b=_0x316d19;if(_0x51a6f1===0x0)return'0\x20Bytes';const _0x3455e8=0x400,_0x37808b=['Bytes','KB','MB','GB','TB'],_0x27b271=Math[_0x46349b(0x1cc)](Math['log'](_0x51a6f1)/Math[_0x46349b(0x24d)](_0x3455e8));return parseFloat((_0x51a6f1/Math['pow'](_0x3455e8,_0x27b271))['toFixed'](0x2))+'\x20'+_0x37808b[_0x27b271];}['escapeHtml'](_0x359248){const _0x2686c4=_0x316d19,_0x16e59f=document[_0x2686c4(0x1e4)](_0x2686c4(0x2dc));return _0x16e59f[_0x2686c4(0x265)]=_0x359248,_0x16e59f['innerHTML'];}['generateRoomId'](){const _0xeace52=_0x316d19,_0x296bb6=_0xeace52(0x270);let _0x4a85cc='';for(let _0x22ac4a=0x0;_0x22ac4a<0xc;_0x22ac4a++)_0x4a85cc+=_0x296bb6['charAt'](Math['floor'](Math['random']()*_0x296bb6[_0xeace52(0x1fd)]));return _0x4a85cc;}[_0x316d19(0x30a)](){const _0x453266=_0x316d19,_0x497781=window['location']['protocol']==='https:'?_0x453266(0x24f):_0x453266(0x223);return _0x497781+'//'+window[_0x453266(0x1c7)]['host']+_0x453266(0x22d);}['connectToServer'](_0x25640e=0x3){return new Promise((_0x253776,_0x5dcc55)=>{const _0x552d9d=_0x5040,_0x162adf=this['getWebSocketUrl']();console['log'](_0x552d9d(0x2df),_0x162adf);const _0x3f4d9f=_0x38f439=>{const _0x46a64f=_0x552d9d;this['ws']=new WebSocket(_0x162adf),this['ws']['onopen']=()=>{const _0x539962=_0x5040;console['log'](_0x539962(0x2bf)),this[_0x539962(0x2bc)]=0x0,_0x253776();},this['ws'][_0x46a64f(0x2c1)]=()=>{const _0x327c90=_0x46a64f;console[_0x327c90(0x24d)](_0x327c90(0x2f4)),this[_0x327c90(0x20c)]&&this[_0x327c90(0x259)]&&this[_0x327c90(0x1a7)]();},this['ws'][_0x46a64f(0x1ec)]=_0x3b5558=>{const _0x562a70=_0x46a64f;console[_0x562a70(0x25d)](_0x562a70(0x2ec),_0x3b5558),_0x38f439<_0x25640e?(console['log']('Retrying...\x20('+(_0x38f439+0x1)+'/'+_0x25640e+')'),setTimeout(()=>_0x3f4d9f(_0x38f439+0x1),0x3e8)):_0x5dcc55(new Error(_0x562a70(0x20b)+_0x25640e+'\x20attempts'));},this['ws']['onmessage']=_0x26bb9f=>{const _0x253ab0=_0x46a64f;try{this[_0x253ab0(0x1ca)](JSON[_0x253ab0(0x239)](_0x26bb9f['data']));}catch(_0x51f2f4){console['error'](_0x253ab0(0x240),_0x51f2f4);}},setTimeout(()=>{const _0x33c098=_0x46a64f;this['ws'][_0x33c098(0x266)]!==WebSocket[_0x33c098(0x1c3)]&&_0x38f439>=_0x25640e&&(this['ws']['close'](),_0x5dcc55(new Error('Connection\x20timeout')));},0x2710);};_0x3f4d9f(0x1);});}['attemptReconnect'](){const _0x320d18=_0x316d19;if(this[_0x320d18(0x2bc)]>=0x5){this[_0x320d18(0x2cb)]('Connection\x20lost.\x20Please\x20refresh\x20the\x20page.',_0x320d18(0x25d));return;}this[_0x320d18(0x2bc)]=(this[_0x320d18(0x2bc)]||0x0)+0x1,console['log']('Reconnecting...\x20attempt',this['reconnectAttempts']),setTimeout(async()=>{const _0x59d270=_0x320d18;try{await this['connectToServer'](0x1),this['isHost']&&this['roomId']&&this['send']({'type':'create-room','roomId':this[_0x59d270(0x259)]});}catch(_0xf2e48b){this['attemptReconnect']();}},0x7d0);}[_0x316d19(0x1b5)](_0x135b77){const _0x10757e=_0x316d19;this['ws']&&this['ws']['readyState']===WebSocket[_0x10757e(0x1c3)]&&this['ws']['send'](JSON[_0x10757e(0x244)](_0x135b77));}async[_0x316d19(0x1ca)](_0x23c32c){const _0x1c5ec1=_0x316d19;console[_0x1c5ec1(0x24d)]('Received:',_0x23c32c[_0x1c5ec1(0x2eb)]);switch(_0x23c32c['type']){case _0x1c5ec1(0x253):console['log'](_0x1c5ec1(0x2c9),_0x23c32c[_0x1c5ec1(0x259)]);if(this[_0x1c5ec1(0x26c)])this[_0x1c5ec1(0x26c)]();break;case _0x1c5ec1(0x1e8):this['updateTransferStatus']('Connected!\x20Waiting\x20for\x20sender...');break;case'peer-joined':this[_0x1c5ec1(0x20c)]&&(this[_0x1c5ec1(0x2cb)](_0x1c5ec1(0x208),'success'),this['updateShareStatus']('Establishing\x20connection...'),this['scrollToTransferSection'](),await this[_0x1c5ec1(0x1b0)]());break;case'peer-left':this[_0x1c5ec1(0x1f9)]?this['updateConnectionStatus'](_0x1c5ec1(0x214)):(this[_0x1c5ec1(0x2cb)](_0x23c32c['message']||'Peer\x20disconnected','error'),this[_0x1c5ec1(0x32e)](_0x1c5ec1(0x214)),this['updateConnectionStatus']('Peer\x20disconnected'));break;case'offer':await this[_0x1c5ec1(0x1a5)](_0x23c32c);break;case'answer':await this[_0x1c5ec1(0x1e1)](_0x23c32c);break;case _0x1c5ec1(0x1af):await this['handleIceCandidate'](_0x23c32c);break;case'retry-relay':await this[_0x1c5ec1(0x202)]();break;case'password-required':this['pendingRoomId']=_0x23c32c['roomId'],this['showPasswordPrompt']();break;case _0x1c5ec1(0x256):this['showNotification'](_0x23c32c['reason']||_0x1c5ec1(0x1cb),_0x1c5ec1(0x31b)),this['updateTransferStatus'](_0x23c32c[_0x1c5ec1(0x25f)]||'Room\x20closed');break;case'error':this['showNotification'](_0x23c32c[_0x1c5ec1(0x28b)],'error');if(_0x23c32c[_0x1c5ec1(0x28b)]==='Room\x20not\x20found')this[_0x1c5ec1(0x32e)]('Share\x20link\x20expired\x20or\x20invalid.\x20Ask\x20sender\x20for\x20a\x20new\x20link.');else _0x23c32c[_0x1c5ec1(0x28b)]==='Incorrect\x20password'?this[_0x1c5ec1(0x293)](!![]):this['updateTransferStatus'](_0x23c32c['message']);break;}}[_0x316d19(0x293)](_0x4cffe6=![]){const _0x7d2c35=_0x316d19,_0x50fbec=prompt(_0x4cffe6?'Incorrect\x20password.\x20Please\x20try\x20again:':'This\x20file\x20is\x20password\x20protected.\x20Enter\x20password:');_0x50fbec?this[_0x7d2c35(0x1b5)]({'type':'verify-password','roomId':this[_0x7d2c35(0x292)],'password':_0x50fbec}):(this['showNotification']('Password\x20required\x20to\x20access\x20files',_0x7d2c35(0x25d)),this[_0x7d2c35(0x32e)](_0x7d2c35(0x280)));}['getShareOptions'](){const _0x2a1618=_0x316d19,_0x20b168=document['getElementById'](_0x2a1618(0x219)),_0xe14f1d=document['getElementById'](_0x2a1618(0x1ad)),_0x281bf7=document['getElementById'](_0x2a1618(0x2cc)),_0x9f079b=document[_0x2a1618(0x320)]('sharePassword');return{'maxDownloads':_0x20b168?parseInt(_0x20b168[_0x2a1618(0x1c6)]):0x1,'expiryHours':_0xe14f1d?parseInt(_0xe14f1d['value']):0x18,'password':_0x281bf7?.['checked']&&_0x9f079b?.[_0x2a1618(0x1c6)]?_0x9f079b[_0x2a1618(0x1c6)]:null};}[_0x316d19(0x1fb)](){const _0x1b0aff=_0x316d19;return{'recipients':document[_0x1b0aff(0x320)]('recipientEmails')?.[_0x1b0aff(0x1c6)]||'','senderEmail':document['getElementById'](_0x1b0aff(0x1bb))?.['value']||'','title':document[_0x1b0aff(0x320)](_0x1b0aff(0x26b))?.[_0x1b0aff(0x1c6)]||'','message':document['getElementById'](_0x1b0aff(0x2be))?.[_0x1b0aff(0x1c6)]||''};}[_0x316d19(0x26a)](_0x20ee24){const _0x384591=_0x316d19;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x384591(0x2b9)](_0x20ee24[_0x384591(0x288)]());}async['sendEmailNotification'](_0xb25641,_0x437c70){const _0x373202=_0x316d19;try{const _0x29c700=this[_0x373202(0x226)]['reduce']((_0x1f9e38,_0x17fca9)=>_0x1f9e38+_0x17fca9[_0x373202(0x1bd)],0x0),_0x452334=await fetch('/api/send-email',{'method':'POST','headers':{'Content-Type':_0x373202(0x25a)},'body':JSON['stringify']({'recipients':_0x437c70['recipients'],'senderEmail':_0x437c70['senderEmail'],'title':_0x437c70[_0x373202(0x300)],'message':_0x437c70['message'],'link':_0xb25641,'fileCount':this['files']['length'],'totalSize':this[_0x373202(0x2c5)](_0x29c700),'password':this['shareOptions']['password'],'expiryHours':this['shareOptions']['expiryHours']})});if(!_0x452334['ok']){const _0xa8cfc6=await _0x452334['json']();throw new Error(_0xa8cfc6['message']||'Failed\x20to\x20send\x20email');}return await _0x452334['json']();}catch(_0x4bd1b4){console[_0x373202(0x25d)]('Email\x20send\x20error:',_0x4bd1b4);throw _0x4bd1b4;}}async[_0x316d19(0x207)](){const _0x37219b=_0x316d19;if(this[_0x37219b(0x226)][_0x37219b(0x1fd)]===0x0){this['showNotification']('Please\x20select\x20files',_0x37219b(0x25d));return;}const _0x5b5846=document[_0x37219b(0x320)]('enablePassword'),_0x49bdf4=document[_0x37219b(0x320)]('sharePassword');if(_0x5b5846?.[_0x37219b(0x287)]&&!_0x49bdf4?.[_0x37219b(0x1c6)]){this[_0x37219b(0x2cb)]('Please\x20enter\x20a\x20password','error');return;}if(this['transferMode']===_0x37219b(0x2b5)){const _0x23cd30=this[_0x37219b(0x1fb)]();if(!_0x23cd30['recipients']['trim']()){this['showNotification']('Please\x20enter\x20recipient\x20email(s)',_0x37219b(0x25d));return;}const _0x2ae967=_0x23cd30['recipients'][_0x37219b(0x22f)](',')[_0x37219b(0x2a8)](_0x5adc49=>_0x5adc49['trim']())[_0x37219b(0x262)](_0x5b2b42=>_0x5b2b42),_0x575f9f=_0x2ae967['filter'](_0x2db491=>!this[_0x37219b(0x26a)](_0x2db491));if(_0x575f9f[_0x37219b(0x1fd)]>0x0){this['showNotification']('Invalid\x20email(s):\x20'+_0x575f9f[_0x37219b(0x2ee)](',\x20'),_0x37219b(0x25d));return;}if(!_0x23cd30['senderEmail']['trim']()){this['showNotification'](_0x37219b(0x1d1),_0x37219b(0x25d));return;}if(!this['validateEmail'](_0x23cd30[_0x37219b(0x1bb)])){this[_0x37219b(0x2cb)]('Please\x20enter\x20a\x20valid\x20sender\x20email','error');return;}}this[_0x37219b(0x20c)]=!![],this['roomId']=this['generateRoomId'](),this[_0x37219b(0x1e0)]=this[_0x37219b(0x275)]();try{await this[_0x37219b(0x1c9)]();const _0x1bd8ad=new Promise((_0xa4ebfe,_0x35e2dd)=>{this['onRoomCreated']=_0xa4ebfe,setTimeout(()=>_0x35e2dd(new Error('Room\x20creation\x20timeout')),0x2710);});this['send']({'type':_0x37219b(0x2ae),'roomId':this['roomId'],'options':this[_0x37219b(0x1e0)]}),await _0x1bd8ad;const _0x16731e=document[_0x37219b(0x320)](_0x37219b(0x263)),_0x20ce05=document['getElementById'](_0x37219b(0x254)),_0x85a117=window['location']['pathname']['replace'](/index\.html$/,''),_0x2d4716=''+window['location'][_0x37219b(0x2ca)]+_0x85a117+'?Q-Gate='+this['roomId'];let _0x574bb1=![];if(this['transferMode']==='email'){const _0x2f53c9=this['getEmailData']();try{await this[_0x37219b(0x2e2)](_0x2d4716,_0x2f53c9),_0x574bb1=!![];}catch(_0x355e8b){this['showNotification'](_0x37219b(0x285)+_0x355e8b['message'],'error');}}if(_0x16731e&&_0x20ce05){_0x20ce05['value']=_0x2d4716,_0x16731e['style']['display']='block';const _0x359deb=document[_0x37219b(0x321)](_0x37219b(0x24b));if(_0x359deb)_0x359deb['classList']['remove'](_0x37219b(0x2d2));const _0x283d58=document['querySelector']('.status-title'),_0x518e02=document[_0x37219b(0x321)](_0x37219b(0x1a1)),_0x44be84=document[_0x37219b(0x321)](_0x37219b(0x27b));if(this['transferMode']===_0x37219b(0x2b5)&&_0x574bb1){if(_0x283d58)_0x283d58['textContent']=_0x37219b(0x25b);if(_0x518e02)_0x518e02['textContent']='The\x20recipient\x20will\x20receive\x20an\x20email\x20with\x20the\x20download\x20link.';if(_0x44be84)_0x44be84[_0x37219b(0x326)]=_0x37219b(0x331);}else{if(this[_0x37219b(0x1ce)]==='email'&&!_0x574bb1){if(_0x283d58)_0x283d58[_0x37219b(0x265)]='Email\x20Failed\x20-\x20Share\x20Link\x20Instead';if(_0x518e02)_0x518e02['textContent']='Copy\x20this\x20link\x20and\x20share\x20it\x20manually\x20with\x20the\x20recipient.';}}setTimeout(()=>{const _0x2323d0=_0x37219b;_0x16731e[_0x2323d0(0x28a)]({'behavior':_0x2323d0(0x248),'block':_0x2323d0(0x2ad)});},0x64),this['generateAnimatedQRCode'](_0x2d4716);}await this[_0x37219b(0x222)]();if(this['transferMode']===_0x37219b(0x2b5)&&_0x574bb1)this[_0x37219b(0x2cb)](_0x37219b(0x314),_0x37219b(0x2a1));else this['transferMode']==='link'&&this['showNotification']('Share\x20link\x20created!',_0x37219b(0x2a1));this['startKeepalive']();}catch(_0x100c5e){console['error'](_0x37219b(0x309),_0x100c5e),this['showNotification']('Failed\x20to\x20connect:\x20'+_0x100c5e['message'],'error');}}[_0x316d19(0x32b)](){const _0x40cfc6=_0x316d19;this[_0x40cfc6(0x1a0)]=setInterval(()=>{const _0x56e0b8=_0x40cfc6;this['ws']&&this['ws'][_0x56e0b8(0x266)]===WebSocket['OPEN']&&this[_0x56e0b8(0x1b5)]({'type':_0x56e0b8(0x2fe)});},0x61a8);}['generateAnimatedQRCode'](_0x57fc23){const _0x517781=_0x316d19,_0x16c6cc=document[_0x517781(0x320)](_0x517781(0x22e)),_0x8d0571=document['querySelector'](_0x517781(0x319));if(!_0x16c6cc)return;const _0x81b496=['Initializing\x20quantum\x20state...','Merging\x20qubits...',_0x517781(0x2d5),'Entangling\x20particles...',_0x517781(0x2bd),'Locking\x20dimensional\x20rift...','Synchronizing\x20timelines...','Quantum\x20link\x20established!'];_0x16c6cc[_0x517781(0x326)]=_0x517781(0x282)+_0x81b496[0x0]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x8d0571)_0x8d0571['style']['opacity']='0';let _0x1d707a=0x0;const _0x449114=setInterval(()=>{const _0x3bdc87=_0x517781;_0x1d707a++;const _0x2cb86d=_0x16c6cc[_0x3bdc87(0x321)](_0x3bdc87(0x2a5));_0x2cb86d&&_0x1d707a<_0x81b496[_0x3bdc87(0x1fd)]-0x1&&(_0x2cb86d['style']['opacity']='0',setTimeout(()=>{_0x2cb86d['textContent']=_0x81b496[_0x1d707a],_0x2cb86d['style']['opacity']='1';},0xc8));},0x3e8);setTimeout(()=>{const _0x42c178=_0x517781;clearInterval(_0x449114);const _0x435915=_0x16c6cc[_0x42c178(0x321)](_0x42c178(0x2a5));_0x435915&&(_0x435915[_0x42c178(0x2cd)][_0x42c178(0x2e6)]='0',setTimeout(()=>{const _0x42d177=_0x42c178;_0x435915[_0x42d177(0x265)]=_0x81b496[_0x81b496[_0x42d177(0x1fd)]-0x1],_0x435915[_0x42d177(0x2cd)]['opacity']='1';},0xc8)),setTimeout(()=>{const _0x56a9d7=_0x42c178;this[_0x56a9d7(0x291)](_0x57fc23),_0x8d0571&&(_0x8d0571[_0x56a9d7(0x2cd)][_0x56a9d7(0x2e6)]='1',_0x8d0571[_0x56a9d7(0x2cd)][_0x56a9d7(0x2ba)]=_0x56a9d7(0x1ee));},0x3e8);},0x1b58);}[_0x316d19(0x291)](_0x3341d8){const _0x16b5aa=_0x316d19,_0x10fb6c=document['getElementById']('qrCode');if(!_0x10fb6c)return;const _0x3667b0=qrcode(0x0,'M');_0x3667b0[_0x16b5aa(0x203)](_0x3341d8),_0x3667b0['make']();const _0x383d80=_0x3667b0['getModuleCount'](),_0x9e3b74=0x5,_0x9dc7ca=_0x383d80*_0x9e3b74,_0x7f2318=0xf,_0x4f390d=_0x9dc7ca+_0x7f2318*0x2;let _0x4c580e=_0x16b5aa(0x335)+_0x4f390d+'\x22\x20height=\x22'+_0x4f390d+_0x16b5aa(0x31a)+_0x4f390d+'\x20'+_0x4f390d+'\x22\x20class=\x22qr-animated\x22>';_0x4c580e+='<rect\x20width=\x22100%\x22\x20height=\x22100%\x22\x20fill=\x22rgba(255,255,255,0.1)\x22\x20rx=\x2212\x22/>';let _0x14ea5c=0x0;for(let _0x1c3a8c=0x0;_0x1c3a8c<_0x383d80;_0x1c3a8c++){for(let _0x3a9324=0x0;_0x3a9324<_0x383d80;_0x3a9324++){if(_0x3667b0['isDark'](_0x1c3a8c,_0x3a9324)){const _0x6b1102=_0x7f2318+_0x3a9324*_0x9e3b74+_0x9e3b74/0x2,_0x318f0e=_0x7f2318+_0x1c3a8c*_0x9e3b74+_0x9e3b74/0x2,_0x1af618=_0x14ea5c*0x5%0x1f4,_0x5119a8=this[_0x16b5aa(0x1c8)](_0x1c3a8c,_0x3a9324,_0x383d80),_0x3caede=_0x5119a8?_0x9e3b74/0x2:_0x9e3b74/2.5;_0x4c580e+=_0x16b5aa(0x2f3)+_0x6b1102+'\x22\x20cy=\x22'+_0x318f0e+_0x16b5aa(0x2a7)+_0x3caede+'\x22\x20fill=\x22#4ade80\x22\x20class=\x22qr-dot\x22\x20style=\x22animation-delay:\x20'+_0x1af618+_0x16b5aa(0x28c),_0x4c580e+=_0x16b5aa(0x260)+_0x1af618+_0x16b5aa(0x245),_0x4c580e+='</circle>',_0x14ea5c++;}}}_0x4c580e+=_0x16b5aa(0x1b3),_0x10fb6c[_0x16b5aa(0x326)]=_0x4c580e+_0x16b5aa(0x1b8);}[_0x316d19(0x1c8)](_0x1d427f,_0x109062,_0x3104ff){const _0x25fe97=0x7;if(_0x1d427f<_0x25fe97&&_0x109062<_0x25fe97)return!![];if(_0x1d427f<_0x25fe97&&_0x109062>=_0x3104ff-_0x25fe97)return!![];if(_0x1d427f>=_0x3104ff-_0x25fe97&&_0x109062<_0x25fe97)return!![];return![];}async['copyShareLink'](){const _0x5d6490=_0x316d19,_0x238065=document[_0x5d6490(0x320)]('shareLink');if(!_0x238065)return;try{await navigator['clipboard']['writeText'](_0x238065[_0x5d6490(0x1c6)]),this[_0x5d6490(0x2cb)](_0x5d6490(0x2c8),_0x5d6490(0x2a1));}catch(_0x1a8093){_0x238065[_0x5d6490(0x237)](),document[_0x5d6490(0x241)](_0x5d6490(0x2e0)),this[_0x5d6490(0x2cb)](_0x5d6490(0x2c8),'success');}}['scrollToTransferSection'](){const _0x3ec3da=_0x316d19,_0x1831ea=document[_0x3ec3da(0x320)](_0x3ec3da(0x322));_0x1831ea&&(_0x1831ea['style'][_0x3ec3da(0x1c0)]='block',setTimeout(()=>{const _0xc4e8c1=_0x3ec3da;_0x1831ea['scrollIntoView']({'behavior':_0xc4e8c1(0x248),'block':'center'});},0x64));}[_0x316d19(0x229)](){const _0x2b77cb=_0x316d19,_0x43c910=new URLSearchParams(window[_0x2b77cb(0x1c7)]['search']),_0x5a108a=_0x43c910[_0x2b77cb(0x1e7)](_0x2b77cb(0x21b))||_0x43c910[_0x2b77cb(0x1e7)](_0x2b77cb(0x2dd));_0x5a108a&&(this[_0x2b77cb(0x20c)]=![],this[_0x2b77cb(0x259)]=_0x5a108a,this['showReceiverMode'](),setTimeout(()=>this['joinRoom'](),0x1f4));}async[_0x316d19(0x2f0)](){const _0x2a491c=_0x316d19;try{this['updateTransferStatus']('Connecting...'),await this[_0x2a491c(0x1c9)](),await this[_0x2a491c(0x222)](),this[_0x2a491c(0x1b5)]({'type':_0x2a491c(0x306),'roomId':this['roomId']}),this[_0x2a491c(0x32e)](_0x2a491c(0x27d));}catch(_0x1e7367){console[_0x2a491c(0x25d)]('Join\x20error:',_0x1e7367),this['showNotification'](_0x2a491c(0x23c)+_0x1e7367['message'],'error'),this[_0x2a491c(0x32e)](_0x2a491c(0x206));}}['showReceiverMode'](){const _0x3ddf41=_0x316d19,_0xd1e97=document['querySelector']('.hero-title'),_0x523021=document['querySelector'](_0x3ddf41(0x2e4)),_0x191046=document[_0x3ddf41(0x320)]('dropZone'),_0x2beb05=document['getElementById'](_0x3ddf41(0x301)),_0x1e9b04=document[_0x3ddf41(0x320)]('shareBtn');if(_0xd1e97)_0xd1e97[_0x3ddf41(0x326)]='Receiving\x20<span\x20class=\x22highlight\x22>Files</span>';if(_0x523021)_0x523021[_0x3ddf41(0x265)]='Connecting\x20to\x20sender...';if(_0x191046)_0x191046[_0x3ddf41(0x2cd)]['display']='none';if(_0x2beb05)_0x2beb05[_0x3ddf41(0x2cd)][_0x3ddf41(0x1c0)]=_0x3ddf41(0x1f0);if(_0x1e9b04)_0x1e9b04[_0x3ddf41(0x2cd)]['display']='none';const _0x2f4db5=document[_0x3ddf41(0x320)](_0x3ddf41(0x322));_0x2f4db5&&(_0x2f4db5['style']['display']=_0x3ddf41(0x221),this['updateTransferStatus'](_0x3ddf41(0x278)));}['updateShareStatus'](_0x19f58f){const _0x272ccc=_0x316d19,_0x33d16e=document['querySelector'](_0x272ccc(0x1de));if(_0x33d16e)_0x33d16e['textContent']=_0x19f58f;}async[_0x316d19(0x222)](_0x59ac73=![]){const _0x3c3be8=_0x316d19;this['connectionTimeout']&&(clearTimeout(this['connectionTimeout']),this[_0x3c3be8(0x213)]=null);this[_0x3c3be8(0x2c2)]=_0x59ac73,this['connectionAttempt']++,console[_0x3c3be8(0x24d)]('FileShare:\x20Initializing\x20WebRTC\x20(attempt\x20'+this[_0x3c3be8(0x1d8)]+',\x20forceRelay='+_0x59ac73+')');const _0x26a730=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x3c3be8(0x22a)}];let _0x4e2538=_0x26a730;if(this['cachedIceServers'])_0x4e2538=this[_0x3c3be8(0x2a0)],console['log']('FileShare:\x20Using\x20cached\x20ICE\x20servers');else try{const _0x5a68ad=await fetch(_0x3c3be8(0x325)),_0x45a075=await _0x5a68ad[_0x3c3be8(0x2ff)]();Array['isArray'](_0x45a075)&&_0x45a075[_0x3c3be8(0x1fd)]>0x0?(_0x4e2538=_0x45a075,this[_0x3c3be8(0x2a0)]=_0x45a075,console[_0x3c3be8(0x24d)](_0x3c3be8(0x21c),_0x4e2538[_0x3c3be8(0x1fd)],_0x3c3be8(0x2c4)),_0x4e2538['forEach']((_0x3afc92,_0x18ac1b)=>{const _0x543ad7=_0x3c3be8;console['log'](_0x543ad7(0x308)+_0x18ac1b+':',JSON['stringify'](_0x3afc92));})):console['warn'](_0x3c3be8(0x1d9));}catch(_0x4ea5ce){console[_0x3c3be8(0x25d)]('Failed\x20to\x20fetch\x20TURN\x20credentials:',_0x4ea5ce);}const _0x40cd38=_0x59ac73?_0x3c3be8(0x1f1):'all';console[_0x3c3be8(0x24d)]('FileShare:\x20Using\x20iceTransportPolicy:\x20'+_0x40cd38);const _0x146249={'iceServers':_0x4e2538,'iceCandidatePoolSize':0xa,'iceTransportPolicy':_0x40cd38};this['peerConnection']=new RTCPeerConnection(_0x146249),this[_0x3c3be8(0x20e)][_0x3c3be8(0x2d4)]=_0xc22e94=>{const _0x246e14=_0x3c3be8;_0xc22e94[_0x246e14(0x2da)]&&this['send']({'type':'ice-candidate','roomId':this[_0x246e14(0x259)],'candidate':_0xc22e94[_0x246e14(0x2da)]});},this['peerConnection']['onconnectionstatechange']=async()=>{const _0xca5fd7=_0x3c3be8,_0x34f35a=this['peerConnection'][_0xca5fd7(0x2b8)];console[_0xca5fd7(0x24d)]('Connection\x20state:',_0x34f35a);if(_0x34f35a===_0xca5fd7(0x1d0))this[_0xca5fd7(0x32e)](_0xca5fd7(0x233)),this[_0xca5fd7(0x201)](_0xca5fd7(0x278)),!this['forceRelayMode']&&this[_0xca5fd7(0x1d8)]<this[_0xca5fd7(0x2e9)]&&(this['connectionTimeout']=setTimeout(()=>{const _0x22b52c=_0xca5fd7;this['peerConnection']&&this[_0x22b52c(0x20e)][_0x22b52c(0x2b8)]==='connecting'&&(console['log'](_0x22b52c(0x323)),this[_0x22b52c(0x250)]());},0x3a98));else{if(_0x34f35a===_0xca5fd7(0x2c0)){this[_0xca5fd7(0x213)]&&(clearTimeout(this['connectionTimeout']),this[_0xca5fd7(0x213)]=null);const _0x487d48=await this[_0xca5fd7(0x1be)]();console['log']('Connection\x20type\x20detected:',_0x487d48);_0x487d48===_0xca5fd7(0x1f1)?(this['showNotification'](_0xca5fd7(0x2c3),_0xca5fd7(0x31b)),this[_0xca5fd7(0x201)](_0xca5fd7(0x210)),this['showRelayWarning']()):(this[_0xca5fd7(0x2cb)]('Direct\x20P2P\x20connected!','success'),this['updateConnectionStatus']('Direct\x20P2P\x20Connected'),this[_0xca5fd7(0x1ff)]());if(this['isHost'])this['updateShareStatus']('Transfer\x20starting...');}else{if(_0x34f35a===_0xca5fd7(0x32c)||_0x34f35a===_0xca5fd7(0x1a8)){this['connectionTimeout']&&(clearTimeout(this[_0xca5fd7(0x213)]),this['connectionTimeout']=null);if(this['transferComplete'])console[_0xca5fd7(0x24d)](_0xca5fd7(0x32a)),this[_0xca5fd7(0x201)](_0xca5fd7(0x30c));else _0x34f35a==='failed'?!this['forceRelayMode']&&this['connectionAttempt']<this[_0xca5fd7(0x2e9)]?(console['log'](_0xca5fd7(0x304)),this[_0xca5fd7(0x250)]()):(this[_0xca5fd7(0x2cb)](_0xca5fd7(0x2c7),_0xca5fd7(0x25d)),this[_0xca5fd7(0x32e)]('Connection\x20failed\x20-\x20try\x20again'),this[_0xca5fd7(0x201)](_0xca5fd7(0x206))):(this[_0xca5fd7(0x32e)](_0xca5fd7(0x215)),this[_0xca5fd7(0x201)]('Disconnected'));}}}},this['peerConnection'][_0x3c3be8(0x26e)]=()=>{const _0x5e99ef=_0x3c3be8,_0xa95a70=this[_0x5e99ef(0x20e)]['iceConnectionState'];console['log']('ICE\x20state:',_0xa95a70);if(_0xa95a70==='checking')this[_0x5e99ef(0x32e)](_0x5e99ef(0x2a3));else _0xa95a70==='failed'&&!this[_0x5e99ef(0x1f9)]&&(!this['forceRelayMode']&&this[_0x5e99ef(0x1d8)]<this[_0x5e99ef(0x2e9)]?(console['log'](_0x5e99ef(0x26f)),this['retryWithRelayMode']()):(this[_0x5e99ef(0x2cb)](_0x5e99ef(0x27c),_0x5e99ef(0x25d)),this[_0x5e99ef(0x32e)]('Network\x20error\x20-\x20check\x20firewall')));},this['isHost']?(this['dataChannel']=this[_0x3c3be8(0x20e)]['createDataChannel'](_0x3c3be8(0x30e),{'ordered':!![]}),this[_0x3c3be8(0x1dd)]()):this['peerConnection']['ondatachannel']=_0x2ab0ab=>{const _0x2a5117=_0x3c3be8;this['dataChannel']=_0x2ab0ab[_0x2a5117(0x1eb)],this['setupDataChannel']();};}async[_0x316d19(0x250)](){const _0x182621=_0x316d19;console['log']('FileShare:\x20Retrying\x20connection\x20with\x20relay-only\x20mode\x20(VPN\x20fallback)...'),this[_0x182621(0x2cb)]('Trying\x20VPN-compatible\x20mode...','info'),this['updateTransferStatus'](_0x182621(0x1aa)),this['updateConnectionStatus']('Switching\x20to\x20relay\x20mode...'),this[_0x182621(0x20e)]&&(this['peerConnection'][_0x182621(0x2d4)]=null,this['peerConnection']['onconnectionstatechange']=null,this[_0x182621(0x20e)][_0x182621(0x26e)]=null,this['peerConnection'][_0x182621(0x1b1)]=null,this['peerConnection']['close'](),this[_0x182621(0x20e)]=null),this[_0x182621(0x30f)]&&(this['dataChannel']['close'](),this['dataChannel']=null),await this['initializeWebRTC'](!![]),this[_0x182621(0x20c)]?(this[_0x182621(0x1b5)]({'type':'retry-relay','roomId':this['roomId']}),setTimeout(()=>{this['createAndSendOffer']();},0x1f4)):this[_0x182621(0x1b5)]({'type':'retry-relay','roomId':this[_0x182621(0x259)]});}async['handleRetryRelay'](){const _0x3c7b44=_0x316d19;console[_0x3c7b44(0x24d)]('FileShare:\x20Received\x20retry-relay\x20signal,\x20switching\x20to\x20relay\x20mode...'),this['showNotification'](_0x3c7b44(0x1ab),_0x3c7b44(0x31b)),this['updateTransferStatus']('Switching\x20to\x20relay\x20mode...'),this['peerConnection']&&(this['peerConnection'][_0x3c7b44(0x2d4)]=null,this[_0x3c7b44(0x20e)]['onconnectionstatechange']=null,this[_0x3c7b44(0x20e)][_0x3c7b44(0x26e)]=null,this[_0x3c7b44(0x20e)][_0x3c7b44(0x1b1)]=null,this['peerConnection'][_0x3c7b44(0x255)](),this['peerConnection']=null),this[_0x3c7b44(0x30f)]&&(this[_0x3c7b44(0x30f)][_0x3c7b44(0x255)](),this[_0x3c7b44(0x30f)]=null),await this[_0x3c7b44(0x222)](!![]),this['isHost']&&setTimeout(()=>{const _0x488cef=_0x3c7b44;this[_0x488cef(0x1b0)]();},0x1f4);}async['createAndSendOffer'](){const _0x5be7ed=_0x316d19;try{const _0x5dbdf=await this['peerConnection']['createOffer']();await this['peerConnection']['setLocalDescription'](_0x5dbdf),this[_0x5be7ed(0x1b5)]({'type':_0x5be7ed(0x298),'roomId':this[_0x5be7ed(0x259)],'sdp':_0x5dbdf[_0x5be7ed(0x19f)]});}catch(_0x29a63d){console['error']('Offer\x20error:',_0x29a63d),this[_0x5be7ed(0x2cb)]('Connection\x20failed',_0x5be7ed(0x25d));}}async[_0x316d19(0x1a5)](_0x216019){const _0x44181c=_0x316d19;try{await this['peerConnection'][_0x44181c(0x334)](new RTCSessionDescription({'type':_0x44181c(0x298),'sdp':_0x216019[_0x44181c(0x19f)]}));const _0x1cc762=await this['peerConnection']['createAnswer']();await this['peerConnection'][_0x44181c(0x2f7)](_0x1cc762),this[_0x44181c(0x1b5)]({'type':_0x44181c(0x220),'roomId':this['roomId'],'sdp':_0x1cc762[_0x44181c(0x19f)]}),this['updateTransferStatus']('Connected!\x20Waiting\x20for\x20files...'),this['updateConnectionStatus']('Waiting\x20for\x20files...');}catch(_0x1506df){console['error'](_0x44181c(0x316),_0x1506df);}}async[_0x316d19(0x1e1)](_0x2242a2){const _0x3c4cbe=_0x316d19;try{await this[_0x3c4cbe(0x20e)]['setRemoteDescription'](new RTCSessionDescription({'type':'answer','sdp':_0x2242a2[_0x3c4cbe(0x19f)]}));}catch(_0x1b9dc2){console['error'](_0x3c4cbe(0x1ed),_0x1b9dc2);}}async[_0x316d19(0x20f)](_0x192c7e){const _0x29b516=_0x316d19;try{_0x192c7e['candidate']&&await this['peerConnection']['addIceCandidate'](new RTCIceCandidate(_0x192c7e['candidate']));}catch(_0x533395){console[_0x29b516(0x25d)]('ICE\x20error:',_0x533395);}}['setupDataChannel'](){const _0x2d9bab=_0x316d19;this['dataChannel'][_0x2d9bab(0x333)]=_0x2d9bab(0x1a9),this[_0x2d9bab(0x30f)]['onopen']=()=>{const _0x2deaed=_0x2d9bab;console[_0x2deaed(0x24d)]('Data\x20channel\x20open'),this['isHost']?(this[_0x2deaed(0x2cb)]('Starting\x20transfer...','success'),this[_0x2deaed(0x201)]('Sending\x20files...'),this[_0x2deaed(0x2a2)]()):(this[_0x2deaed(0x32e)]('Receiving\x20files...'),this[_0x2deaed(0x201)](_0x2deaed(0x20a)));},this['dataChannel']['onclose']=()=>console[_0x2d9bab(0x24d)]('Data\x20channel\x20closed'),this['dataChannel']['onerror']=_0x1b219f=>{const _0xfb816f=_0x2d9bab;console['error']('Data\x20channel\x20error:',_0x1b219f),this[_0xfb816f(0x2cb)]('Transfer\x20error',_0xfb816f(0x25d));},this[_0x2d9bab(0x30f)][_0x2d9bab(0x2ea)]=_0x33c984=>this['handleDataChannelMessage'](_0x33c984);}async['handleDataChannelMessage'](_0x583f9){const _0xc083bd=_0x316d19;if(typeof _0x583f9['data']===_0xc083bd(0x1b6)){const _0x545698=JSON[_0xc083bd(0x239)](_0x583f9['data']);if(_0x545698[_0xc083bd(0x2eb)]===_0xc083bd(0x271))_0x545698[_0xc083bd(0x2b3)]===0x1&&(await this[_0xc083bd(0x25c)](),await this[_0xc083bd(0x29b)]()),this['receivedFileInfo']=_0x545698,this['receivedChunks']=[],this['totalBytesTransferred']=0x0,this[_0xc083bd(0x251)]=Date['now'](),this['updateTransferStatus']('Receiving:\x20'+_0x545698[_0xc083bd(0x2af)]+'\x20('+_0x545698[_0xc083bd(0x2b3)]+'/'+_0x545698['totalFiles']+')'),this[_0xc083bd(0x289)](_0x545698[_0xc083bd(0x2af)]);else{if(_0x545698['type']===_0xc083bd(0x284))this['receivedFileInfo']&&(this[_0xc083bd(0x1bc)]++,this[_0xc083bd(0x1cd)]+=this['receivedFileInfo']['size']),this['assembleAndDownloadFile']();else{if(_0x545698['type']==='all-complete'){this[_0xc083bd(0x1f9)]=!![],this['updateTransferStatus']('Transfer\x20Complete!'),this[_0xc083bd(0x201)]('All\x20files\x20received\x20successfully'),this[_0xc083bd(0x267)](0x64),this[_0xc083bd(0x2cb)](_0xc083bd(0x23a),_0xc083bd(0x2a1));const _0x26ad3f=Date[_0xc083bd(0x283)]()-this['transferStartTime'];window['globalStats']&&this['receivedFilesCount']>0x0&&window['globalStats']['addTransfer'](this['receivedFilesCount'],this[_0xc083bd(0x1cd)],_0x26ad3f);if(this['isUsingRelay']&&this['receivedTotalBytes']>0x0){const _0x36f767=this[_0xc083bd(0x2ce)](this[_0xc083bd(0x1cd)]);console['log']('Relay\x20usage\x20updated\x20(receiver):',this['formatRelayUsage'](_0x36f767));}if(window[_0xc083bd(0x2ef)]&&this[_0xc083bd(0x1bc)]>0x0){const _0x326349=this['receivedTotalBytes']/(_0x26ad3f/0x3e8)/(0x400*0x400);window['statsWidgets'][_0xc083bd(0x32d)](this['receivedFilesCount'],_0x326349,_0x26ad3f);}this['send']({'type':'transfer-complete','roomId':this['roomId']}),this[_0xc083bd(0x231)]();if(this['releaseWebLock'])this[_0xc083bd(0x31c)]();}}}}else this['receivedChunks']['push'](_0x583f9[_0xc083bd(0x1ef)]),this[_0xc083bd(0x1b4)]+=_0x583f9['data'][_0xc083bd(0x1b9)],this['updateProgress']();}async['startFileTransfer'](){const _0x1f46a4=_0x316d19,_0x11746c=document[_0x1f46a4(0x320)](_0x1f46a4(0x322));if(_0x11746c)_0x11746c[_0x1f46a4(0x2cd)]['display']='block';if(this['isUsingRelay']){const _0x4c6c41=await this['checkRelayLimitBeforeTransfer']();if(!_0x4c6c41){this[_0x1f46a4(0x32e)]('Transfer\x20blocked\x20-\x20relay\x20limit\x20exceeded');return;}}await this[_0x1f46a4(0x25c)](),await this[_0x1f46a4(0x29b)](),this[_0x1f46a4(0x251)]=Date[_0x1f46a4(0x283)]();for(let _0x38ec45=0x0;_0x38ec45<this[_0x1f46a4(0x226)][_0x1f46a4(0x1fd)];_0x38ec45++){await this['sendFile'](this[_0x1f46a4(0x226)][_0x38ec45],_0x38ec45+0x1,this[_0x1f46a4(0x226)]['length']);}this[_0x1f46a4(0x30f)][_0x1f46a4(0x1b5)](JSON[_0x1f46a4(0x244)]({'type':_0x1f46a4(0x303)})),this['transferComplete']=!![],this[_0x1f46a4(0x32e)](_0x1f46a4(0x211)),this[_0x1f46a4(0x22b)]('Transfer\x20Complete!'),this[_0x1f46a4(0x201)]('All\x20files\x20sent\x20successfully'),this['updateProgressBar'](0x64),this['showNotification']('All\x20files\x20sent!',_0x1f46a4(0x2a1));const _0x6fe325=this[_0x1f46a4(0x226)]['reduce']((_0x169200,_0x1a5144)=>_0x169200+_0x1a5144[_0x1f46a4(0x1bd)],0x0),_0x4fcd30=Date['now']()-this['transferStartTime'];window[_0x1f46a4(0x217)]&&window[_0x1f46a4(0x217)]['addTransfer'](this['files'][_0x1f46a4(0x1fd)],_0x6fe325,_0x4fcd30);if(this['isUsingRelay']){const _0x2b28a1=this['updateRelayUsage'](_0x6fe325);console['log'](_0x1f46a4(0x30d),this['formatRelayUsage'](_0x2b28a1));}if(window[_0x1f46a4(0x2ef)]){const _0x1a8d50=_0x6fe325/(_0x4fcd30/0x3e8)/(0x400*0x400);window['statsWidgets'][_0x1f46a4(0x32d)](this[_0x1f46a4(0x226)][_0x1f46a4(0x1fd)],_0x1a8d50,_0x4fcd30);}this['releaseWakeLock']();if(this[_0x1f46a4(0x31c)])this['releaseWebLock']();}async['sendFile'](_0x33973f,_0x1b6eee,_0x486e22){return new Promise(_0x3dbec7=>{const _0x39945c=_0x5040;this[_0x39945c(0x30f)][_0x39945c(0x1b5)](JSON[_0x39945c(0x244)]({'type':'file-info','name':_0x33973f['name'],'size':_0x33973f['size'],'mimeType':_0x33973f['type'],'currentIndex':_0x1b6eee,'totalFiles':_0x486e22})),this['updateTransferStatus'](_0x39945c(0x2e5)+_0x33973f['name']+'\x20('+_0x1b6eee+'/'+_0x486e22+')'),this[_0x39945c(0x289)](_0x33973f['name']);const _0x12a6f3=new FileReader();let _0xb118de=0x0;this[_0x39945c(0x1b4)]=0x0;const _0x3cf4da=()=>{const _0xdee24f=_0x39945c;_0x12a6f3[_0xdee24f(0x212)](_0x33973f['slice'](_0xb118de,_0xb118de+this['chunkSize']));};_0x12a6f3['onload']=_0x5d7190=>{const _0x2f0cbd=()=>{const _0x1e803f=_0x5040;if(this['dataChannel'][_0x1e803f(0x2f5)]>this[_0x1e803f(0x1e6)]*0x10){setTimeout(_0x2f0cbd,0xa);return;}this['dataChannel'][_0x1e803f(0x1b5)](_0x5d7190[_0x1e803f(0x2f2)][_0x1e803f(0x294)]),this['totalBytesTransferred']=_0xb118de+_0x5d7190['target']['result']['byteLength'],_0xb118de+=this[_0x1e803f(0x1e6)],this[_0x1e803f(0x267)](Math['round'](Math[_0x1e803f(0x315)](_0xb118de,_0x33973f[_0x1e803f(0x1bd)])/_0x33973f[_0x1e803f(0x1bd)]*0x64)),this[_0x1e803f(0x1b7)](_0x33973f['size']),_0xb118de<_0x33973f['size']?_0x3cf4da():(this['dataChannel'][_0x1e803f(0x1b5)](JSON[_0x1e803f(0x244)]({'type':_0x1e803f(0x284)})),setTimeout(_0x3dbec7,0x64));};_0x2f0cbd();},_0x3cf4da();});}['updateProgressBar'](_0x48c89f){const _0x345255=_0x316d19,_0x27aac5=document['getElementById']('progressFill'),_0x230d31=document[_0x345255(0x320)](_0x345255(0x2b4));if(_0x27aac5)_0x27aac5['style'][_0x345255(0x22c)]=_0x48c89f+'%';if(_0x230d31)_0x230d31['textContent']=_0x48c89f+'%';}['updateTransferSpeed'](_0x36a60f){const _0x569fc5=_0x316d19;if(!this['transferStartTime'])return;const _0x5c9ef1=(Date[_0x569fc5(0x283)]()-this['transferStartTime'])/0x3e8,_0x467866=this['totalBytesTransferred']/_0x5c9ef1,_0x4ec97a=document[_0x569fc5(0x320)](_0x569fc5(0x21d)),_0x45ea23=document['getElementById']('transferredSize'),_0x43e870=document['getElementById']('remainingSize'),_0x66c77c=document[_0x569fc5(0x320)]('timeLeft');if(_0x4ec97a)_0x4ec97a[_0x569fc5(0x265)]=this['formatFileSize'](_0x467866)+'/s';if(_0x45ea23)_0x45ea23[_0x569fc5(0x265)]=this[_0x569fc5(0x2c5)](this['totalBytesTransferred']);if(_0x43e870)_0x43e870[_0x569fc5(0x265)]=this['formatFileSize'](Math[_0x569fc5(0x2c6)](0x0,_0x36a60f-this[_0x569fc5(0x1b4)]));if(_0x66c77c&&_0x467866>0x0){const _0x15cf10=(_0x36a60f-this[_0x569fc5(0x1b4)])/_0x467866;_0x66c77c['textContent']=_0x15cf10<0x3c?Math[_0x569fc5(0x2f9)](_0x15cf10)+'s':Math['ceil'](_0x15cf10/0x3c)+'m';}}['updateCurrentFileName'](_0x4a923f){const _0x730972=_0x316d19,_0x4fe993=document['getElementById'](_0x730972(0x313));if(_0x4fe993)_0x4fe993[_0x730972(0x265)]=_0x4a923f;}['updateProgress'](){const _0x1bbf9b=_0x316d19;if(!this['receivedFileInfo'])return;const _0x3fbeba=this['receivedChunks']['reduce']((_0x4f76c6,_0x331ae8)=>_0x4f76c6+_0x331ae8['byteLength'],0x0);this[_0x1bbf9b(0x267)](Math[_0x1bbf9b(0x315)](Math[_0x1bbf9b(0x1d3)](_0x3fbeba/this[_0x1bbf9b(0x204)]['size']*0x64),0x64)),this[_0x1bbf9b(0x1b7)](this[_0x1bbf9b(0x204)][_0x1bbf9b(0x1bd)]);}[_0x316d19(0x1c2)](){const _0x35b810=_0x316d19;if(!this[_0x35b810(0x204)]||!this['receivedChunks']['length'])return;const _0x908550=new Blob(this['receivedChunks'],{'type':this[_0x35b810(0x204)][_0x35b810(0x1fe)]||'application/octet-stream'}),_0x1945a7=URL[_0x35b810(0x230)](_0x908550),_0x48cf6a=document[_0x35b810(0x1e4)]('a');_0x48cf6a[_0x35b810(0x200)]=_0x1945a7,_0x48cf6a['download']=this[_0x35b810(0x204)]['name'],document[_0x35b810(0x317)]['appendChild'](_0x48cf6a),_0x48cf6a['click'](),document['body']['removeChild'](_0x48cf6a),URL['revokeObjectURL'](_0x1945a7),this['showNotification'](_0x35b810(0x1c5)+this['receivedFileInfo']['name'],_0x35b810(0x2a1)),this[_0x35b810(0x2d7)]=[],this[_0x35b810(0x204)]=null,this['totalBytesTransferred']=0x0,this[_0x35b810(0x251)]=Date['now']();}['updateTransferStatus'](_0x5164f3){const _0x33716c=_0x316d19,_0x4d0429=document['querySelector'](_0x33716c(0x1bf));if(_0x4d0429)_0x4d0429[_0x33716c(0x265)]=_0x5164f3;_0x5164f3===_0x33716c(0x211)&&this[_0x33716c(0x290)]();}['showTransferComplete'](){const _0x370473=_0x316d19,_0x1b3af6=document['querySelector'](_0x370473(0x1c1)),_0x4b0fb3=document[_0x370473(0x321)](_0x370473(0x1bf));if(_0x1b3af6)_0x1b3af6['classList'][_0x370473(0x307)]('completed');if(_0x4b0fb3)_0x4b0fb3[_0x370473(0x29c)]['add'](_0x370473(0x2fb));const _0x1aa200=document[_0x370473(0x321)](_0x370473(0x27b));_0x1aa200&&(_0x1aa200['innerHTML']=_0x370473(0x218));const _0xc78f99=document[_0x370473(0x321)](_0x370473(0x1de)),_0x597f2d=document['querySelector']('.status-text');if(_0xc78f99)_0xc78f99['textContent']='Transfer\x20Complete!';if(_0x597f2d)_0x597f2d['textContent']=_0x370473(0x21a);}[_0x316d19(0x201)](_0xa8e599){const _0x4e97b5=_0x316d19,_0x4feebd=document['getElementById']('connectionStatus');if(_0x4feebd)_0x4feebd[_0x4e97b5(0x265)]=_0xa8e599;}[_0x316d19(0x2cb)](_0x35ef6f,_0x232d9d='info'){const _0x41e1bf=_0x316d19,_0x406520=document[_0x41e1bf(0x321)]('.notification-toast');if(_0x406520)_0x406520['remove']();const _0x2172c6=document[_0x41e1bf(0x1e4)](_0x41e1bf(0x2dc));_0x2172c6['className']=_0x41e1bf(0x21f)+_0x232d9d,_0x2172c6[_0x41e1bf(0x326)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-icon\x22>'+(_0x232d9d===_0x41e1bf(0x2a1)?'‚úì':_0x232d9d==='error'?'‚úï':'‚Ñπ')+_0x41e1bf(0x1f5)+this[_0x41e1bf(0x228)](_0x35ef6f)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['body'][_0x41e1bf(0x1d4)](_0x2172c6),setTimeout(()=>_0x2172c6[_0x41e1bf(0x29c)][_0x41e1bf(0x307)](_0x41e1bf(0x2d8)),0xa),setTimeout(()=>{const _0x2bc836=_0x41e1bf;_0x2172c6[_0x2bc836(0x29c)][_0x2bc836(0x1c4)](_0x2bc836(0x2d8)),setTimeout(()=>_0x2172c6['remove'](),0x12c);},0xfa0);}}function _0xee7f(){const _0x17ccb9=['relay','includes','Error\x20detecting\x20connection\x20type:','Not\x20enough\x20relay\x20quota.\x20Remaining:\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-message\x22>','.steps-grid','Failed\x20to\x20report\x20relay\x20usage:','has-files','transferComplete','addFiles','getEmailData','copyLink','length','mimeType','showDirectConnectionBadge','href','updateConnectionStatus','handleRetryRelay','addData','receivedFileInfo','pdf','Connection\x20failed','createShareLink','Receiver\x20connected!','\x22\x20title=\x22Remove\x20file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x2218\x22\x20y1=\x226\x22\x20x2=\x226\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x226\x22\x20y1=\x226\x22\x20x2=\x2218\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Receiving\x20files...','Connection\x20failed\x20after\x20','isHost','dragover','peerConnection','handleIceCandidate','Connected\x20(Relayed)','Transfer\x20Complete!','readAsArrayBuffer','connectionTimeout','Peer\x20disconnected','Connection\x20interrupted...','hidden','globalStats','<div\x20style=\x22font-size:\x2048px;\x20color:\x20#4ade80;\x20animation:\x20none;\x22>‚úì</div>','downloadLimit','All\x20files\x20have\x20been\x20transferred\x20successfully.','Q-Gate','TURN\x20credentials\x20loaded:','progressSpeed','162XqxDrM','notification-toast\x20notification-','answer','block','initializeWebRTC','ws:','showRelayLimitExceededBanner','updateFilesList','files','reduce','escapeHtml','checkUrlForRoom','stun:stun1.l.google.com:19302','updateShareStatus','width','/ws','qrCode','split','createObjectURL','releaseWakeLock','insertBefore','Establishing\x20P2P\x20connection...','50kAgllv','click','20834177BFSWlo','select','hasExceededRelayLimit','parse','All\x20files\x20received!','preventDefault','Failed:\x20','isTransferring','totalBytes','visibilitychange','Message\x20error:','execCommand','file-transfer-lock','getRelayUsage','stringify','ms\x22\x20fill=\x22freeze\x22/>','6758832dRUVSd','link','smooth','dragleave','totalSize','.hero-card','.global-stat-number','log','toISOString','wss:','retryWithRelayMode','transferStartTime','request','room-created','shareLink','close','room-closed','directConnectionBadge','contains','roomId','application/json','Email\x20Sent\x20Successfully!','acquireWakeLock','error','isIntersecting','reason','<animate\x20attributeName=\x22opacity\x22\x20values=\x220;1;1\x22\x20dur=\x220.5s\x22\x20begin=\x22','globalAvgSpeed','filter','shareLinkSection','drag-over','textContent','readyState','updateProgressBar','relayWarningBanner','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-file\x22\x20data-index=\x22','validateEmail','transferTitle','onRoomCreated','/api/stats','oniceconnectionstatechange','FileShare:\x20ICE\x20failed,\x20retrying\x20with\x20relay-only\x20mode...','abcdefghijklmnopqrstuvwxyz0123456789','file-info','splice','.step-number','\x20/\x20','getShareOptions','fetchStats','\x20GB','Connecting...','fileInput','active','.radar-loader','Network\x20connection\x20failed','Waiting\x20for\x20sender...','formatNumber','Monthly\x20relay\x20limit\x20(200GB)\x20exceeded.\x20Please\x20try\x20again\x20next\x20month\x20or\x20use\x20same\x20network\x20for\x20direct\x20P2P.','Access\x20denied\x20-\x20password\x20required','connectionType','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-loading\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-status-text\x22>','now','file-complete','Email\x20sending\x20failed:\x20','912vXVaEU','checked','trim','updateCurrentFileName','scrollIntoView','message','ms\x22>','\x20file','47404PIAMvz','showSelectedFiles','showTransferComplete','generateQRCode','pendingRoomId','showPasswordPrompt','result','DOMContentLoaded','\x20TB','unknown','offer','beforeunload','2302pqrrIE','acquireWebLock','classList','wakeLock','formatSpeed','features-grid','cachedIceServers','success','startFileTransfer','Finding\x20best\x20connection\x20path...','host','.qr-status-text','bindEvents','\x22\x20r=\x22','map','className','handleFileSelect','glitch-animate','315371QNCMuX','center','create-room','name','remoteCandidateId','addEventListener','totalSessions','currentIndex','progressPercent','email','steps-grid','shareBtn','connectionState','test','transition','addRelayWarningStyles','reconnectAttempts','Calibrating\x20tunnel\x20coordinates...','transferMessage','WebSocket\x20connected','connected','onclose','forceRelayMode','Connected\x20via\x20relay\x20server','servers','formatFileSize','max','P2P\x20connection\x20failed.\x20Try\x20refreshing\x20both\x20devices.','Link\x20copied!\x20Waiting\x20for\x20receiver...','Room\x20created:','origin','showNotification','enablePassword','style','updateRelayUsage','.features-grid','offsetWidth','1837287MHSzyp','data-flowing','Connection\x20types\x20-\x20Local:\x20','onicecandidate','Stabilizing\x20wormhole...','startsWith','receivedChunks','show','formatRelayUsage','candidate','toFixed','div','room','handleDrop','Connecting\x20to:','copy','reportRelayUsageToServer','sendEmailNotification','setupBackgroundSupport','.hero-subtitle','Sending:\x20','opacity','Wake\x20lock\x20not\x20available:','apiUrl','maxConnectionAttempts','onmessage','type','WebSocket\x20error:','observe','join','statsWidgets','joinRoom','Generate\x20Share\x20Link','target','<circle\x20cx=\x22','WebSocket\x20closed','bufferedAmount','stats','setLocalDescription','localCandidateId','ceil','MONTHLY_RELAY_LIMIT_GB','completed','totalFiles','selectedCandidatePairId','ping','json','title','selectedFiles','rar','all-complete','FileShare:\x20Connection\x20failed,\x20retrying\x20with\x20relay-only\x20mode...','globalTotalSize','join-room','add','FileShare:\x20ICE\x20Server\x20','Error:','getWebSocketUrl','88LEnGIq','Transfer\x20completed\x20-\x20connection\x20closed','Relay\x20usage\x20updated:','fileTransfer','dataChannel','parentElement','candidateType','getRemainingRelayQuota','currentFileName','Email\x20sent!\x20Waiting\x20for\x20recipient\x20to\x20download...','min','Offer\x20handling\x20error:','body','78uFJtKb','.qr-hint','\x22\x20viewBox=\x220\x200\x20','info','releaseWebLock','dataset','updateShareButton','forEach','getElementById','querySelector','transferSection','FileShare:\x20Connection\x20timeout,\x20retrying\x20with\x20relay-only\x20mode...','removeFile','/api/turn-credentials','innerHTML','\x0a\x20\x20\x20\x20.notification-toast\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20bottom:\x2030px;\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(-50%)\x20translateY(100px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(30,\x2030,\x2030,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x20padding:\x201rem\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease,\x20opacity\x200.3s\x20ease;\x20opacity:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.notification-toast.show\x20{\x20transform:\x20translateX(-50%)\x20translateY(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.notification-success\x20{\x20border-color:\x20rgba(74,\x20222,\x20128,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-success\x20.notification-icon\x20{\x20color:\x20#4ade80;\x20}\x0a\x20\x20\x20\x20.notification-error\x20{\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-error\x20.notification-icon\x20{\x20color:\x20#ef4444;\x20}\x0a\x20\x20\x20\x20.notification-icon\x20{\x20font-size:\x201.2rem;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20.notification-message\x20{\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x20font-size:\x200.95rem;\x20}\x0a','direct','handleDragLeave','Connection\x20closed\x20after\x20successful\x20transfer','startKeepalive','failed','onTransferComplete','updateTransferStatus','disabled','connectionStatus','<div\x20style=\x22font-size:\x2048px;\x22>‚úì</div>','relay-warning-banner\x20relay-limit-exceeded','binaryType','setRemoteDescription','<svg\x20width=\x22','sdp','keepaliveInterval','.status-text','modeEmailBtn','.browse-link','getFileIcon','handleOffer','updateDisplay','attemptReconnect','disconnected','arraybuffer','Retrying\x20with\x20relay\x20mode...','Peer\x20requested\x20VPN-compatible\x20mode...','querySelectorAll','expiryTime','.remove-file','ice-candidate','createAndSendOffer','ondatachannel','filesList','</svg>','totalBytesTransferred','send','string','updateTransferSpeed','<div\x20class=\x22scan-line\x22></div>','byteLength','global-stats-container','senderEmail','receivedFilesCount','size','detectConnectionType','.transfer-title','display','.transfer-icon','assembleAndDownloadFile','OPEN','remove','Downloaded:\x20','value','location','isQRCorner','connectToServer','handleMessage','Room\x20closed','floor','receivedTotalBytes','transferMode','change','connecting','Please\x20enter\x20your\x20email','Wake\x20lock\x20released','round','appendChild','currentTarget','hideSelectedFiles','bytesUsed','connectionAttempt','Invalid\x20TURN\x20response,\x20using\x20fallback\x20STUN','head','from','fileCount','setupDataChannel','.status-title','stopPropagation','shareOptions','handleAnswer','handleDragOver','33hUmMwL','createElement','Web\x20lock\x20not\x20available:','chunkSize','get','room-joined','155165laIVox','dropZone','channel','onerror','Answer\x20error:','opacity\x200.5s\x20ease','data','none'];_0xee7f=function(){return _0x17ccb9;};return _0xee7f();}document[_0x316d19(0x2b1)](_0x316d19(0x295),()=>{window['fileShare']=new FileShare();});const styles=document['createElement'](_0x316d19(0x2cd));styles[_0x316d19(0x265)]=_0x316d19(0x327),document['head']['appendChild'](styles);class GlobalStats{constructor(){const _0x40797b=_0x316d19;this['apiUrl']=_0x40797b(0x26d),this[_0x40797b(0x2f6)]={'totalFiles':0x0,'totalBytes':0x0,'totalSessions':0x0,'totalDuration':0x0},this['init']();}async['init'](){const _0x82fd46=_0x316d19;await this[_0x82fd46(0x276)](),this[_0x82fd46(0x1a6)]();}async[_0x316d19(0x276)](){const _0x271763=_0x316d19;try{const _0x183672=await fetch(this['apiUrl']);_0x183672['ok']&&(this[_0x271763(0x2f6)]=await _0x183672[_0x271763(0x2ff)]());}catch(_0x203858){console[_0x271763(0x25d)]('Error\x20fetching\x20global\x20stats:',_0x203858);}}async['addTransfer'](_0x295725,_0x51c6e7,_0x1b475a=0x0){const _0x4060a9=_0x316d19;try{const _0xfdc34d=await fetch(this[_0x4060a9(0x2e8)],{'method':'POST','headers':{'Content-Type':_0x4060a9(0x25a)},'body':JSON['stringify']({'files':_0x295725,'bytes':_0x51c6e7,'duration':_0x1b475a/0x3e8})});if(_0xfdc34d['ok']){const _0x109edb=await _0xfdc34d['json']();this['stats']=_0x109edb[_0x4060a9(0x2f6)],this[_0x4060a9(0x1a6)]();}}catch(_0x2fb31a){console[_0x4060a9(0x25d)]('Error\x20updating\x20global\x20stats:',_0x2fb31a);}}['formatGB'](_0x212ce9){const _0x2db0f5=_0x316d19,_0x4b1aa6=_0x212ce9/(0x400*0x400*0x400);if(_0x4b1aa6>=0x3e8)return(_0x4b1aa6/0x3e8)[_0x2db0f5(0x2db)](0x2)+_0x2db0f5(0x296);return _0x4b1aa6['toFixed'](0x1)+_0x2db0f5(0x277);}[_0x316d19(0x27e)](_0x15a84e){if(_0x15a84e>=0xf4240)return(_0x15a84e/0xf4240)['toFixed'](0x1)+'M';else{if(_0x15a84e>=0x3e8)return(_0x15a84e/0x3e8)['toFixed'](0x1)+'K';}return _0x15a84e['toString']();}[_0x316d19(0x29e)](_0x1e34f4){const _0x2fa5c6=_0x316d19,_0x2d46fc=_0x1e34f4/(0x400*0x400);if(_0x2d46fc>=0x3e8)return(_0x2d46fc/0x3e8)['toFixed'](0x1)+'\x20GB/s';return _0x2d46fc[_0x2fa5c6(0x2db)](0x1)+'\x20MB/s';}['updateDisplay'](){const _0xb9c103=_0x316d19,_0x43c3e3=document['getElementById']('globalTotalFiles'),_0x29e0f3=document[_0xb9c103(0x320)](_0xb9c103(0x305)),_0x126051=document['getElementById']('globalTotalSessions'),_0x45f5f8=document['getElementById'](_0xb9c103(0x261));_0x43c3e3&&(_0x43c3e3['textContent']=this['formatNumber'](this['stats']['totalFiles']));_0x29e0f3&&(_0x29e0f3['textContent']=this['formatGB'](this['stats'][_0xb9c103(0x23e)]));_0x126051&&(_0x126051['textContent']=this['formatNumber'](this['stats'][_0xb9c103(0x2b2)]));if(_0x45f5f8){if(this[_0xb9c103(0x2f6)]['totalDuration']>0x0){const _0x37a695=this['stats']['totalBytes']/this[_0xb9c103(0x2f6)]['totalDuration'];_0x45f5f8[_0xb9c103(0x265)]=this['formatSpeed'](_0x37a695);}else _0x45f5f8['textContent']='--';}}['getStats'](){const _0x52733e=_0x316d19;return{'totalFiles':this['stats'][_0x52733e(0x2fc)],'totalBytes':this[_0x52733e(0x2f6)]['totalBytes'],'totalSessions':this[_0x52733e(0x2f6)][_0x52733e(0x2b2)]};}}document[_0x316d19(0x2b1)](_0x316d19(0x295),()=>{const _0x3b707b=_0x316d19;window['globalStats']=new GlobalStats();function _0x4a5ffe(_0xcc84fb){const _0x3d5584=_0x5040;_0xcc84fb[_0x3d5584(0x31f)]((_0x3011e7,_0x19bbd9)=>{const _0x2511f2=_0x3d5584;_0x3011e7[_0x2511f2(0x29c)]['remove']('live-pulse'),setTimeout(()=>{const _0x35d6cb=_0x2511f2;_0x3011e7[_0x35d6cb(0x29c)][_0x35d6cb(0x1c4)](_0x35d6cb(0x2ab)),void _0x3011e7[_0x35d6cb(0x2d0)],_0x3011e7['classList']['add'](_0x35d6cb(0x2ab)),setTimeout(()=>{const _0x4a6b5e=_0x35d6cb;_0x3011e7[_0x4a6b5e(0x29c)][_0x4a6b5e(0x307)]('live-pulse');},0x320);},_0x19bbd9*0x96);});}const _0x92d637=new IntersectionObserver(_0x1bfaec=>{_0x1bfaec['forEach'](_0x3311d8=>{const _0x19fe0d=_0x5040;if(_0x3311d8[_0x19fe0d(0x25e)]){const _0x217ab3=_0x3311d8['target'];if(_0x217ab3[_0x19fe0d(0x29c)][_0x19fe0d(0x258)](_0x19fe0d(0x1ba)))_0x4a5ffe(_0x217ab3[_0x19fe0d(0x1ac)](_0x19fe0d(0x24c)));else{if(_0x217ab3['classList']['contains'](_0x19fe0d(0x2b6)))_0x4a5ffe(_0x217ab3['querySelectorAll'](_0x19fe0d(0x273)));else _0x217ab3[_0x19fe0d(0x29c)][_0x19fe0d(0x258)](_0x19fe0d(0x29f))&&_0x4a5ffe(_0x217ab3['querySelectorAll']('.feature-icon'));}}});},{'threshold':0.5}),_0x14a8e3=document[_0x3b707b(0x321)]('.global-stats-container'),_0x15d7a1=document['querySelector'](_0x3b707b(0x1f6)),_0x23c991=document[_0x3b707b(0x321)](_0x3b707b(0x2cf));if(_0x14a8e3)_0x92d637['observe'](_0x14a8e3);if(_0x15d7a1)_0x92d637['observe'](_0x15d7a1);if(_0x23c991)_0x92d637[_0x3b707b(0x2ed)](_0x23c991);});