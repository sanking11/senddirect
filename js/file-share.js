const _0x1aabb7=_0x9c81;(function(_0x12377b,_0x6ca65a){const _0xbf444f=_0x9c81,_0x3bd735=_0x12377b();while(!![]){try{const _0x5cc63f=parseInt(_0xbf444f(0xda))/0x1+-parseInt(_0xbf444f(0xc9))/0x2*(parseInt(_0xbf444f(0x111))/0x3)+-parseInt(_0xbf444f(0x196))/0x4+parseInt(_0xbf444f(0x1d4))/0x5+parseInt(_0xbf444f(0x130))/0x6*(-parseInt(_0xbf444f(0xe1))/0x7)+-parseInt(_0xbf444f(0x1a3))/0x8*(parseInt(_0xbf444f(0xf3))/0x9)+-parseInt(_0xbf444f(0x177))/0xa*(-parseInt(_0xbf444f(0xd7))/0xb);if(_0x5cc63f===_0x6ca65a)break;else _0x3bd735['push'](_0x3bd735['shift']());}catch(_0x1eb9e9){_0x3bd735['push'](_0x3bd735['shift']());}}}(_0x43bb,0xdbcda));class FileShare{constructor(){const _0x43a596=_0x9c81;this[_0x43a596(0x1f3)]=[],this[_0x43a596(0x165)]=null,this[_0x43a596(0x14c)]=null,this['ws']=null,this[_0x43a596(0x107)]=null,this[_0x43a596(0x179)]=![],this['receivedChunks']=[],this[_0x43a596(0xf7)]=null,this['chunkSize']=0x40*0x400,this['transferStartTime']=null,this['totalBytesTransferred']=0x0,this[_0x43a596(0x214)]=![],this['wakeLock']=null,this['webLock']=null,this['receivedFilesCount']=0x0,this[_0x43a596(0x15f)]=0x0,this[_0x43a596(0x135)]();}['init'](){this['bindEvents'](),this['checkUrlForRoom'](),this['setupBackgroundSupport']();}['setupBackgroundSupport'](){document['addEventListener']('visibilitychange',()=>{const _0x5ed918=_0x9c81;document['hidden']&&this[_0x5ed918(0x1a7)]()&&this[_0x5ed918(0x222)]();});}[_0x1aabb7(0x1a7)](){const _0x345964=_0x1aabb7;return this[_0x345964(0x14c)]&&this['dataChannel'][_0x345964(0x129)]==='open'&&!this['transferComplete'];}async['acquireWakeLock'](){const _0x3d55d7=_0x1aabb7;if(_0x3d55d7(0x137)in navigator)try{this[_0x3d55d7(0x137)]=await navigator[_0x3d55d7(0x137)][_0x3d55d7(0x155)](_0x3d55d7(0x10a)),console['log'](_0x3d55d7(0xd5)),this[_0x3d55d7(0x137)][_0x3d55d7(0x1f2)](_0x3d55d7(0x19e),()=>{const _0x4ebbdb=_0x3d55d7;console['log'](_0x4ebbdb(0x1ee));});}catch(_0x84309){console['log']('Wake\x20lock\x20not\x20available:',_0x84309[_0x3d55d7(0x167)]);}}[_0x1aabb7(0x115)](){const _0x3a1c09=_0x1aabb7;this['wakeLock']&&(this[_0x3a1c09(0x137)]['release'](),this[_0x3a1c09(0x137)]=null);}async[_0x1aabb7(0x188)](){const _0x4bb761=_0x1aabb7;if('locks'in navigator)try{navigator[_0x4bb761(0xf0)][_0x4bb761(0x155)]('file-transfer-lock',{'mode':'exclusive'},async _0x592422=>{const _0x3f17c6=_0x4bb761;console['log'](_0x3f17c6(0x114)),await new Promise(_0x300c91=>{this['releaseWebLock']=_0x300c91;});});}catch(_0x38558d){console['log']('Web\x20lock\x20not\x20available:',_0x38558d[_0x4bb761(0x167)]);}}['bindEvents'](){const _0x4583e4=_0x1aabb7,_0x5b9b52=document[_0x4583e4(0xde)](_0x4583e4(0x1db)),_0x3347c9=document['getElementById']('fileInput'),_0x5bfdc8=document['getElementById'](_0x4583e4(0x19d)),_0x534799=document['getElementById'](_0x4583e4(0x108)),_0x79ddb=document[_0x4583e4(0xcc)]('.browse-link');_0x5b9b52&&(_0x5b9b52['addEventListener'](_0x4583e4(0x120),_0x522559=>this[_0x4583e4(0x191)](_0x522559)),_0x5b9b52['addEventListener'](_0x4583e4(0x216),_0x194eb0=>this[_0x4583e4(0xc8)](_0x194eb0)),_0x5b9b52['addEventListener'](_0x4583e4(0xc7),_0x14ecac=>this['handleDrop'](_0x14ecac)),_0x5b9b52[_0x4583e4(0x1f2)]('click',()=>_0x3347c9?.['click']()));if(_0x3347c9)_0x3347c9['addEventListener'](_0x4583e4(0xec),_0x5d0d76=>this[_0x4583e4(0xf1)](_0x5d0d76));if(_0x79ddb)_0x79ddb['addEventListener']('click',_0x4ac43e=>{const _0x4f1857=_0x4583e4;_0x4ac43e[_0x4f1857(0x15c)](),_0x3347c9?.['click']();});if(_0x5bfdc8)_0x5bfdc8['addEventListener'](_0x4583e4(0x103),()=>this['createShareLink']());if(_0x534799)_0x534799['addEventListener'](_0x4583e4(0x103),()=>this['copyShareLink']());const _0xa97266=document['getElementById'](_0x4583e4(0x166));if(_0xa97266)_0xa97266[_0x4583e4(0x1f2)]('click',()=>this['clearAllFiles']());const _0x2ce65b=document[_0x4583e4(0xde)](_0x4583e4(0x1b8)),_0x591e76=document['getElementById']('sharePassword');_0x2ce65b&&_0x591e76&&_0x2ce65b[_0x4583e4(0x1f2)](_0x4583e4(0xec),_0x55345c=>{const _0x2bedc2=_0x4583e4;_0x591e76[_0x2bedc2(0xc6)]['display']=_0x55345c[_0x2bedc2(0x20c)][_0x2bedc2(0x11d)]?_0x2bedc2(0x1d0):'none';if(!_0x55345c['target'][_0x2bedc2(0x11d)])_0x591e76['value']='';});this['transferMode']=_0x4583e4(0x1fa);const _0x2218f3=document[_0x4583e4(0xde)](_0x4583e4(0x1b7)),_0x28bf37=document['getElementById']('modeEmailBtn'),_0x29d8a5=document[_0x4583e4(0xde)]('emailForm'),_0x475cd2=document['getElementById'](_0x4583e4(0xe9));_0x2218f3&&_0x28bf37&&(_0x2218f3[_0x4583e4(0x1f2)](_0x4583e4(0x103),()=>{const _0x299b8c=_0x4583e4;this['transferMode']='link',_0x2218f3[_0x299b8c(0x102)]['add']('active'),_0x28bf37[_0x299b8c(0x102)][_0x299b8c(0x15b)]('active');if(_0x29d8a5)_0x29d8a5[_0x299b8c(0xc6)][_0x299b8c(0xcd)]='none';if(_0x475cd2)_0x475cd2[_0x299b8c(0x1b1)]=_0x299b8c(0x205);}),_0x28bf37['addEventListener']('click',()=>{const _0x33cc0d=_0x4583e4;this['transferMode']='email',_0x28bf37['classList'][_0x33cc0d(0x127)](_0x33cc0d(0x21f)),_0x2218f3[_0x33cc0d(0x102)][_0x33cc0d(0x15b)](_0x33cc0d(0x21f));if(_0x29d8a5)_0x29d8a5[_0x33cc0d(0xc6)]['display']='block';if(_0x475cd2)_0x475cd2[_0x33cc0d(0x1b1)]=_0x33cc0d(0x217);})),window[_0x4583e4(0x1f2)]('beforeunload',()=>{if(this['ws'])this['ws']['close']();});}[_0x1aabb7(0xf5)](){const _0x1192e5=_0x1aabb7;this[_0x1192e5(0x1f3)]=[],this['updateFilesList'](),this['hideSelectedFiles'](),this[_0x1192e5(0xcb)]();const _0x2eb078=document[_0x1192e5(0xde)](_0x1192e5(0x1db));if(_0x2eb078)_0x2eb078['classList'][_0x1192e5(0x15b)](_0x1192e5(0xd9));const _0x5ea45e=document[_0x1192e5(0xcc)](_0x1192e5(0x17f));if(_0x5ea45e)_0x5ea45e['classList'][_0x1192e5(0x15b)]('data-flowing');const _0x203b8e=document['getElementById'](_0x1192e5(0x204));if(_0x203b8e)_0x203b8e['style'][_0x1192e5(0xcd)]=_0x1192e5(0x1e2);}['handleDragOver'](_0x37f92b){const _0x4db935=_0x1aabb7;_0x37f92b[_0x4db935(0x14d)](),_0x37f92b['stopPropagation'](),_0x37f92b['currentTarget']['classList'][_0x4db935(0x127)]('drag-over');}['handleDragLeave'](_0x205228){const _0x33b039=_0x1aabb7;_0x205228[_0x33b039(0x14d)](),_0x205228[_0x33b039(0x15c)](),_0x205228['currentTarget']['classList']['remove'](_0x33b039(0x12b));}[_0x1aabb7(0x1bf)](_0x5f4021){const _0x1a26b8=_0x1aabb7;_0x5f4021['preventDefault'](),_0x5f4021[_0x1a26b8(0x15c)](),_0x5f4021['currentTarget'][_0x1a26b8(0x102)]['remove'](_0x1a26b8(0x12b)),this['addFiles'](Array['from'](_0x5f4021[_0x1a26b8(0x153)]['files']));}['handleFileSelect'](_0x11ff4c){this['addFiles'](Array['from'](_0x11ff4c['target']['files']));}['addFiles'](_0x1c5a1c){const _0x143b84=_0x1aabb7;this[_0x143b84(0x1f3)]=[...this['files'],..._0x1c5a1c],this[_0x143b84(0x160)](),this['showSelectedFiles'](),this['updateShareButton']();const _0x243eda=document[_0x143b84(0xde)]('dropZone');_0x243eda&&this['files'][_0x143b84(0x21a)]>0x0&&_0x243eda['classList']['add']('has-files');const _0x3b9079=document['querySelector'](_0x143b84(0x17f));_0x3b9079&&this[_0x143b84(0x1f3)][_0x143b84(0x21a)]>0x0&&_0x3b9079[_0x143b84(0x102)][_0x143b84(0x127)](_0x143b84(0x202));const _0x1b3c8a=document[_0x143b84(0xde)]('shareOptions');_0x1b3c8a&&this['files']['length']>0x0&&(_0x1b3c8a['style'][_0x143b84(0xcd)]='block');}['removeFile'](_0x2e42ec){const _0x40d7f4=_0x1aabb7;this['files'][_0x40d7f4(0x189)](_0x2e42ec,0x1),this[_0x40d7f4(0x160)](),this[_0x40d7f4(0xcb)]();if(this[_0x40d7f4(0x1f3)]['length']===0x0){this['hideSelectedFiles']();const _0x260263=document['getElementById'](_0x40d7f4(0x1db));if(_0x260263)_0x260263['classList'][_0x40d7f4(0x15b)](_0x40d7f4(0xd9));const _0x44959d=document['querySelector']('.hero-card');if(_0x44959d)_0x44959d['classList'][_0x40d7f4(0x15b)]('data-flowing');const _0x24f4d3=document['getElementById']('shareOptions');if(_0x24f4d3)_0x24f4d3[_0x40d7f4(0xc6)]['display']='none';}}[_0x1aabb7(0xcb)](){const _0x4bf51c=_0x1aabb7,_0xaea106=document[_0x4bf51c(0xde)]('shareBtn');if(_0xaea106)_0xaea106[_0x4bf51c(0x11c)]=this['files']['length']===0x0;}['updateFilesList'](){const _0x12a90f=_0x1aabb7,_0x4fe771=document['getElementById']('filesList');if(!_0x4fe771)return;_0x4fe771['innerHTML']=this[_0x12a90f(0x1f3)][_0x12a90f(0x1b6)]((_0x108a0f,_0x1547a7)=>_0x12a90f(0x21d)+this[_0x12a90f(0x13e)](_0x108a0f['type'])+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-name\x22>'+this['escapeHtml'](_0x108a0f[_0x12a90f(0x13d)])+_0x12a90f(0x1fb)+this['formatFileSize'](_0x108a0f[_0x12a90f(0xed)])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-file\x22\x20data-index=\x22'+_0x1547a7+'\x22\x20title=\x22Remove\x20file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x2218\x22\x20y1=\x226\x22\x20x2=\x226\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x226\x22\x20y1=\x226\x22\x20x2=\x2218\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20')[_0x12a90f(0x11e)](''),_0x4fe771[_0x12a90f(0x1b3)]('.remove-file')[_0x12a90f(0xcf)](_0x6eef7f=>{const _0x16387b=_0x12a90f;_0x6eef7f[_0x16387b(0x1f2)]('click',_0xb3554a=>{const _0x3366c7=_0x16387b;_0xb3554a['stopPropagation'](),this['removeFile'](parseInt(_0x6eef7f['dataset'][_0x3366c7(0x1d1)]));});});const _0x32f3b1=this['files']['reduce']((_0x130e96,_0x22af1b)=>_0x130e96+_0x22af1b[_0x12a90f(0xed)],0x0),_0x308875=document[_0x12a90f(0xde)]('totalSize'),_0x427c28=document[_0x12a90f(0xde)](_0x12a90f(0x104));if(_0x308875)_0x308875['textContent']=this[_0x12a90f(0x116)](_0x32f3b1);if(_0x427c28)_0x427c28['textContent']=this[_0x12a90f(0x1f3)][_0x12a90f(0x21a)]+'\x20file'+(this['files'][_0x12a90f(0x21a)]!==0x1?'s':'');}[_0x1aabb7(0x218)](){const _0x4d3ec1=_0x1aabb7,_0x26cbf5=document['getElementById'](_0x4d3ec1(0x1c6));if(_0x26cbf5&&this[_0x4d3ec1(0x1f3)]['length']>0x0)_0x26cbf5[_0x4d3ec1(0xc6)][_0x4d3ec1(0xcd)]=_0x4d3ec1(0x1d0);}['hideSelectedFiles'](){const _0x1b6c2c=_0x1aabb7,_0x1fc333=document[_0x1b6c2c(0xde)](_0x1b6c2c(0x1c6));if(_0x1fc333)_0x1fc333[_0x1b6c2c(0xc6)]['display']=_0x1b6c2c(0x1e2);}['getFileIcon'](_0x2ee0f2){const _0x4ac076=_0x1aabb7;if(!_0x2ee0f2)return'üìÅ';if(_0x2ee0f2['startsWith'](_0x4ac076(0x1df)))return _0x4ac076(0x169);if(_0x2ee0f2['startsWith'](_0x4ac076(0x144)))return'üé¨';if(_0x2ee0f2[_0x4ac076(0x141)]('audio/'))return'üéµ';if(_0x2ee0f2['includes'](_0x4ac076(0x1ae)))return'üìÑ';if(_0x2ee0f2[_0x4ac076(0x123)](_0x4ac076(0x12a))||_0x2ee0f2[_0x4ac076(0x123)]('rar')||_0x2ee0f2['includes']('7z'))return'üì¶';if(_0x2ee0f2[_0x4ac076(0x123)]('text')||_0x2ee0f2[_0x4ac076(0x123)]('document'))return'üìù';return'üìÅ';}[_0x1aabb7(0x116)](_0x1fd2ea){const _0x3cc4c5=_0x1aabb7;if(_0x1fd2ea===0x0)return _0x3cc4c5(0x1d9);const _0x57c28a=0x400,_0x4eb139=[_0x3cc4c5(0x17c),'KB','MB','GB','TB'],_0x4e91d8=Math['floor'](Math['log'](_0x1fd2ea)/Math['log'](_0x57c28a));return parseFloat((_0x1fd2ea/Math['pow'](_0x57c28a,_0x4e91d8))['toFixed'](0x2))+'\x20'+_0x4eb139[_0x4e91d8];}['escapeHtml'](_0xa3b0d7){const _0x683c5d=_0x1aabb7,_0x34522a=document['createElement'](_0x683c5d(0x209));return _0x34522a[_0x683c5d(0x1b1)]=_0xa3b0d7,_0x34522a[_0x683c5d(0x112)];}['generateRoomId'](){const _0x51b003=_0x1aabb7,_0x17da74=_0x51b003(0x210);let _0x2c8779='';for(let _0x47675e=0x0;_0x47675e<0xc;_0x47675e++)_0x2c8779+=_0x17da74[_0x51b003(0x1d3)](Math['floor'](Math['random']()*_0x17da74['length']));return _0x2c8779;}[_0x1aabb7(0x1aa)](){const _0x359de1=_0x1aabb7,_0x29479f=window['location'][_0x359de1(0x16b)]===_0x359de1(0x1e1)?'wss:':'ws:';return _0x29479f+'//'+window['location'][_0x359de1(0x1ad)]+_0x359de1(0x194);}[_0x1aabb7(0x221)](_0x3ffc78=0x3){return new Promise((_0x4daa55,_0x12632a)=>{const _0x313f26=_0x9c81,_0x2c4807=this['getWebSocketUrl']();console[_0x313f26(0x1ec)]('Connecting\x20to:',_0x2c4807);const _0x33a7ba=_0x421742=>{this['ws']=new WebSocket(_0x2c4807),this['ws']['onopen']=()=>{const _0x12a223=_0x9c81;console[_0x12a223(0x1ec)]('WebSocket\x20connected'),this['reconnectAttempts']=0x0,_0x4daa55();},this['ws']['onclose']=()=>{const _0x489957=_0x9c81;console[_0x489957(0x1ec)](_0x489957(0x1e7)),this[_0x489957(0x179)]&&this['roomId']&&this['attemptReconnect']();},this['ws']['onerror']=_0x4ee7c6=>{const _0x4deeb3=_0x9c81;console['error']('WebSocket\x20error:',_0x4ee7c6),_0x421742<_0x3ffc78?(console[_0x4deeb3(0x1ec)](_0x4deeb3(0x1e5)+(_0x421742+0x1)+'/'+_0x3ffc78+')'),setTimeout(()=>_0x33a7ba(_0x421742+0x1),0x3e8)):_0x12632a(new Error('Connection\x20failed\x20after\x20'+_0x3ffc78+'\x20attempts'));},this['ws']['onmessage']=_0x5f02b6=>{const _0x39b1c7=_0x9c81;try{this['handleMessage'](JSON[_0x39b1c7(0x1b2)](_0x5f02b6[_0x39b1c7(0x1be)]));}catch(_0x50b51b){console['error']('Message\x20error:',_0x50b51b);}},setTimeout(()=>{const _0x135f56=_0x9c81;this['ws']['readyState']!==WebSocket['OPEN']&&_0x421742>=_0x3ffc78&&(this['ws'][_0x135f56(0x192)](),_0x12632a(new Error(_0x135f56(0x10f))));},0x2710);};_0x33a7ba(0x1);});}[_0x1aabb7(0x183)](){const _0x4cbebd=_0x1aabb7;if(this[_0x4cbebd(0x211)]>=0x5){this[_0x4cbebd(0x19b)](_0x4cbebd(0x1af),'error');return;}this[_0x4cbebd(0x211)]=(this[_0x4cbebd(0x211)]||0x0)+0x1,console[_0x4cbebd(0x1ec)]('Reconnecting...\x20attempt',this['reconnectAttempts']),setTimeout(async()=>{const _0x4f6af3=_0x4cbebd;try{await this['connectToServer'](0x1),this['isHost']&&this[_0x4f6af3(0x107)]&&this[_0x4f6af3(0xce)]({'type':'create-room','roomId':this['roomId']});}catch(_0x27a091){this[_0x4f6af3(0x183)]();}},0x7d0);}[_0x1aabb7(0xce)](_0x33dc08){const _0x81140=_0x1aabb7;this['ws']&&this['ws']['readyState']===WebSocket[_0x81140(0x1ac)]&&this['ws'][_0x81140(0xce)](JSON[_0x81140(0xd8)](_0x33dc08));}async[_0x1aabb7(0x162)](_0x59b789){const _0x523a4e=_0x1aabb7;console[_0x523a4e(0x1ec)](_0x523a4e(0x1d7),_0x59b789['type']);switch(_0x59b789[_0x523a4e(0x1c3)]){case _0x523a4e(0x1de):console['log'](_0x523a4e(0x1ca),_0x59b789[_0x523a4e(0x107)]);if(this['onRoomCreated'])this[_0x523a4e(0x122)]();break;case'room-joined':this['updateTransferStatus'](_0x523a4e(0x159));break;case _0x523a4e(0x200):this['showNotification']('Receiver\x20connected!','success'),this['updateShareStatus']('Establishing\x20connection...'),this['scrollToTransferSection'](),await this['createAndSendOffer']();break;case'peer-left':this[_0x523a4e(0x214)]?this['updateConnectionStatus'](_0x523a4e(0x1fd)):(this['showNotification'](_0x59b789['message']||_0x523a4e(0x1fd),'error'),this[_0x523a4e(0x199)](_0x523a4e(0x1fd)),this['updateConnectionStatus'](_0x523a4e(0x1fd)));break;case _0x523a4e(0x172):await this['handleOffer'](_0x59b789);break;case'answer':await this['handleAnswer'](_0x59b789);break;case'ice-candidate':await this[_0x523a4e(0x145)](_0x59b789);break;case'password-required':this['pendingRoomId']=_0x59b789[_0x523a4e(0x107)],this[_0x523a4e(0x1a2)]();break;case'room-closed':this['showNotification'](_0x59b789['reason']||'Room\x20closed','info'),this['updateTransferStatus'](_0x59b789['reason']||'Room\x20closed');break;case'error':this[_0x523a4e(0x19b)](_0x59b789['message'],_0x523a4e(0x106));if(_0x59b789[_0x523a4e(0x167)]===_0x523a4e(0x1d6))this[_0x523a4e(0x199)](_0x523a4e(0xd4));else _0x59b789[_0x523a4e(0x167)]==='Incorrect\x20password'?this[_0x523a4e(0x1a2)](!![]):this['updateTransferStatus'](_0x59b789[_0x523a4e(0x167)]);break;}}['showPasswordPrompt'](_0x274b80=![]){const _0xc5b460=_0x1aabb7,_0x11a3b3=prompt(_0x274b80?_0xc5b460(0xc5):'This\x20file\x20is\x20password\x20protected.\x20Enter\x20password:');_0x11a3b3?this['send']({'type':'verify-password','roomId':this[_0xc5b460(0x17e)],'password':_0x11a3b3}):(this[_0xc5b460(0x19b)](_0xc5b460(0xdf),_0xc5b460(0x106)),this[_0xc5b460(0x199)](_0xc5b460(0xe8)));}[_0x1aabb7(0x215)](){const _0x482de7=_0x1aabb7,_0x3ac1cf=document[_0x482de7(0xde)](_0x482de7(0x20d)),_0x452586=document[_0x482de7(0xde)]('expiryTime'),_0x4b8d5e=document[_0x482de7(0xde)]('enablePassword'),_0x1ef875=document[_0x482de7(0xde)]('sharePassword');return{'maxDownloads':_0x3ac1cf?parseInt(_0x3ac1cf[_0x482de7(0x1f5)]):0x1,'expiryHours':_0x452586?parseInt(_0x452586['value']):0x18,'password':_0x4b8d5e?.[_0x482de7(0x11d)]&&_0x1ef875?.['value']?_0x1ef875[_0x482de7(0x1f5)]:null};}[_0x1aabb7(0x170)](){const _0x4fc75b=_0x1aabb7;return{'recipients':document[_0x4fc75b(0xde)](_0x4fc75b(0x164))?.[_0x4fc75b(0x1f5)]||'','senderEmail':document[_0x4fc75b(0xde)](_0x4fc75b(0xf4))?.['value']||'','title':document[_0x4fc75b(0xde)]('transferTitle')?.[_0x4fc75b(0x1f5)]||'','message':document['getElementById'](_0x4fc75b(0x174))?.['value']||''};}['validateEmail'](_0x1f4d44){const _0x259ab7=_0x1aabb7;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x259ab7(0xef)](_0x1f4d44[_0x259ab7(0x10e)]());}async[_0x1aabb7(0x16c)](_0x30b039,_0x49c77e){const _0x52cee9=_0x1aabb7;try{const _0x47cfad=this['files'][_0x52cee9(0x17b)]((_0x4f2075,_0x4cd087)=>_0x4f2075+_0x4cd087['size'],0x0),_0x16d502=await fetch('/api/send-email',{'method':'POST','headers':{'Content-Type':_0x52cee9(0x143)},'body':JSON['stringify']({'recipients':_0x49c77e['recipients'],'senderEmail':_0x49c77e[_0x52cee9(0xf4)],'title':_0x49c77e['title'],'message':_0x49c77e[_0x52cee9(0x167)],'link':_0x30b039,'fileCount':this[_0x52cee9(0x1f3)]['length'],'totalSize':this['formatFileSize'](_0x47cfad),'password':this[_0x52cee9(0x204)][_0x52cee9(0x19c)],'expiryHours':this[_0x52cee9(0x204)]['expiryHours']})});if(!_0x16d502['ok']){const _0x3cb54d=await _0x16d502['json']();throw new Error(_0x3cb54d[_0x52cee9(0x167)]||_0x52cee9(0x128));}return await _0x16d502[_0x52cee9(0x1a0)]();}catch(_0x205789){console[_0x52cee9(0x106)]('Email\x20send\x20error:',_0x205789);throw _0x205789;}}async[_0x1aabb7(0x1da)](){const _0x2c051d=_0x1aabb7;if(this['files'][_0x2c051d(0x21a)]===0x0){this[_0x2c051d(0x19b)]('Please\x20select\x20files',_0x2c051d(0x106));return;}const _0x54f03c=document[_0x2c051d(0xde)]('enablePassword'),_0x3d53d4=document[_0x2c051d(0xde)]('sharePassword');if(_0x54f03c?.['checked']&&!_0x3d53d4?.['value']){this['showNotification'](_0x2c051d(0x1c4),'error');return;}if(this['transferMode']==='email'){const _0x837da3=this['getEmailData']();if(!_0x837da3[_0x2c051d(0x21c)]['trim']()){this['showNotification'](_0x2c051d(0x1ab),_0x2c051d(0x106));return;}const _0x3713ff=_0x837da3[_0x2c051d(0x21c)]['split'](',')['map'](_0x223328=>_0x223328[_0x2c051d(0x10e)]())['filter'](_0x265994=>_0x265994),_0x1f84e2=_0x3713ff['filter'](_0x1cd790=>!this[_0x2c051d(0x11b)](_0x1cd790));if(_0x1f84e2[_0x2c051d(0x21a)]>0x0){this['showNotification'](_0x2c051d(0xdb)+_0x1f84e2[_0x2c051d(0x11e)](',\x20'),_0x2c051d(0x106));return;}if(!_0x837da3['senderEmail']['trim']()){this['showNotification'](_0x2c051d(0x17d),'error');return;}if(!this[_0x2c051d(0x11b)](_0x837da3[_0x2c051d(0xf4)])){this[_0x2c051d(0x19b)](_0x2c051d(0x1b0),'error');return;}}this[_0x2c051d(0x179)]=!![],this['roomId']=this[_0x2c051d(0x13f)](),this[_0x2c051d(0x204)]=this[_0x2c051d(0x215)]();try{await this['connectToServer']();const _0x4bd469=new Promise((_0x2d58df,_0x79557a)=>{const _0x535acd=_0x2c051d;this[_0x535acd(0x122)]=_0x2d58df,setTimeout(()=>_0x79557a(new Error(_0x535acd(0xff))),0x2710);});this[_0x2c051d(0xce)]({'type':_0x2c051d(0xf9),'roomId':this['roomId'],'options':this[_0x2c051d(0x204)]}),await _0x4bd469;const _0x26ad3a=document[_0x2c051d(0xde)]('shareLinkSection'),_0x43dc57=document[_0x2c051d(0xde)]('shareLink'),_0x26abdd=window['location'][_0x2c051d(0x136)][_0x2c051d(0x1ff)](/index\.html$/,''),_0x350115=''+window['location']['origin']+_0x26abdd+_0x2c051d(0x16a)+this['roomId'];let _0x59ebc7=![];if(this[_0x2c051d(0xe2)]==='email'){const _0x1e98f8=this[_0x2c051d(0x170)]();try{await this['sendEmailNotification'](_0x350115,_0x1e98f8),_0x59ebc7=!![];}catch(_0xc47ede){this['showNotification'](_0x2c051d(0x1eb)+_0xc47ede['message'],'error');}}if(_0x26ad3a&&_0x43dc57){_0x43dc57['value']=_0x350115,_0x26ad3a['style'][_0x2c051d(0xcd)]='block';const _0x346f6e=document['querySelector']('.hero-card');if(_0x346f6e)_0x346f6e['classList'][_0x2c051d(0x15b)](_0x2c051d(0x202));const _0x181dc9=document[_0x2c051d(0xcc)]('.status-title'),_0x4986c1=document['querySelector']('.status-text'),_0x324fa2=document[_0x2c051d(0xcc)](_0x2c051d(0x1e6));if(this['transferMode']===_0x2c051d(0x150)&&_0x59ebc7){if(_0x181dc9)_0x181dc9[_0x2c051d(0x1b1)]=_0x2c051d(0xd2);if(_0x4986c1)_0x4986c1[_0x2c051d(0x1b1)]=_0x2c051d(0x1cc);if(_0x324fa2)_0x324fa2[_0x2c051d(0x112)]=_0x2c051d(0x1f7);}else{if(this[_0x2c051d(0xe2)]==='email'&&!_0x59ebc7){if(_0x181dc9)_0x181dc9['textContent']=_0x2c051d(0x1ed);if(_0x4986c1)_0x4986c1['textContent']=_0x2c051d(0x105);}}setTimeout(()=>{const _0x2e2a9a=_0x2c051d;_0x26ad3a[_0x2e2a9a(0x18c)]({'behavior':_0x2e2a9a(0x1d8),'block':_0x2e2a9a(0x1a4)});},0x64),this['generateAnimatedQRCode'](_0x350115);}await this['initializeWebRTC']();if(this[_0x2c051d(0xe2)]===_0x2c051d(0x150)&&_0x59ebc7)this[_0x2c051d(0x19b)]('Email\x20sent!\x20Waiting\x20for\x20recipient\x20to\x20download...',_0x2c051d(0x126));else this['transferMode']===_0x2c051d(0x1fa)&&this[_0x2c051d(0x19b)](_0x2c051d(0xeb),'success');this[_0x2c051d(0x1b4)]();}catch(_0x4a0f5e){console['error'](_0x2c051d(0x158),_0x4a0f5e),this[_0x2c051d(0x19b)](_0x2c051d(0x117)+_0x4a0f5e['message'],'error');}}['startKeepalive'](){const _0x41fa97=_0x1aabb7;this[_0x41fa97(0xc3)]=setInterval(()=>{const _0x53d7e2=_0x41fa97;this['ws']&&this['ws'][_0x53d7e2(0x129)]===WebSocket['OPEN']&&this[_0x53d7e2(0xce)]({'type':_0x53d7e2(0x180)});},0x61a8);}['generateAnimatedQRCode'](_0x50e599){const _0x52f418=_0x1aabb7,_0x23cbd4=document[_0x52f418(0xde)](_0x52f418(0x13b)),_0x51219d=document['querySelector']('.qr-hint');if(!_0x23cbd4)return;const _0x154fab=['Initializing\x20quantum\x20state...','Merging\x20qubits...','Stabilizing\x20wormhole...','Entangling\x20particles...','Calibrating\x20tunnel\x20coordinates...',_0x52f418(0xe0),_0x52f418(0x109),'Quantum\x20link\x20established!'];_0x23cbd4['innerHTML']=_0x52f418(0x16e)+_0x154fab[0x0]+_0x52f418(0x1f0);if(_0x51219d)_0x51219d['style'][_0x52f418(0xd3)]='0';let _0x435e4c=0x0;const _0x5e7a38=setInterval(()=>{const _0x4c71c9=_0x52f418;_0x435e4c++;const _0x54440e=_0x23cbd4[_0x4c71c9(0xcc)](_0x4c71c9(0x20b));_0x54440e&&_0x435e4c<_0x154fab[_0x4c71c9(0x21a)]-0x1&&(_0x54440e[_0x4c71c9(0xc6)][_0x4c71c9(0xd3)]='0',setTimeout(()=>{const _0x367d94=_0x4c71c9;_0x54440e[_0x367d94(0x1b1)]=_0x154fab[_0x435e4c],_0x54440e['style']['opacity']='1';},0xc8));},0x3e8);setTimeout(()=>{const _0x2c0a21=_0x52f418;clearInterval(_0x5e7a38);const _0x291062=_0x23cbd4['querySelector']('.qr-status-text');_0x291062&&(_0x291062[_0x2c0a21(0xc6)][_0x2c0a21(0xd3)]='0',setTimeout(()=>{const _0x1f84b7=_0x2c0a21;_0x291062['textContent']=_0x154fab[_0x154fab[_0x1f84b7(0x21a)]-0x1],_0x291062[_0x1f84b7(0xc6)][_0x1f84b7(0xd3)]='1';},0xc8)),setTimeout(()=>{const _0x390c69=_0x2c0a21;this[_0x390c69(0x20e)](_0x50e599),_0x51219d&&(_0x51219d[_0x390c69(0xc6)]['opacity']='1',_0x51219d[_0x390c69(0xc6)][_0x390c69(0x146)]='opacity\x200.5s\x20ease');},0x3e8);},0x1b58);}[_0x1aabb7(0x20e)](_0x1afa55){const _0x1e56d6=_0x1aabb7,_0x16fbd5=document[_0x1e56d6(0xde)](_0x1e56d6(0x13b));if(!_0x16fbd5)return;const _0x43205a=qrcode(0x0,'M');_0x43205a[_0x1e56d6(0x223)](_0x1afa55),_0x43205a[_0x1e56d6(0x19f)]();const _0x2559b=_0x43205a['getModuleCount'](),_0x23a25f=0x5,_0x3ba716=_0x2559b*_0x23a25f,_0x39c5cb=0xf,_0x5693c2=_0x3ba716+_0x39c5cb*0x2;let _0x50eedd='<svg\x20width=\x22'+_0x5693c2+_0x1e56d6(0x1ba)+_0x5693c2+_0x1e56d6(0x1c5)+_0x5693c2+'\x20'+_0x5693c2+'\x22\x20class=\x22qr-animated\x22>';_0x50eedd+=_0x1e56d6(0xd1);let _0x4e3033=0x0;for(let _0x681ccb=0x0;_0x681ccb<_0x2559b;_0x681ccb++){for(let _0x5779cd=0x0;_0x5779cd<_0x2559b;_0x5779cd++){if(_0x43205a['isDark'](_0x681ccb,_0x5779cd)){const _0x57d633=_0x39c5cb+_0x5779cd*_0x23a25f+_0x23a25f/0x2,_0x38857c=_0x39c5cb+_0x681ccb*_0x23a25f+_0x23a25f/0x2,_0x36ee92=_0x4e3033*0x5%0x1f4,_0x1282b2=this['isQRCorner'](_0x681ccb,_0x5779cd,_0x2559b),_0x57a036=_0x1282b2?_0x23a25f/0x2:_0x23a25f/2.5;_0x50eedd+='<circle\x20cx=\x22'+_0x57d633+_0x1e56d6(0x1e3)+_0x38857c+'\x22\x20r=\x22'+_0x57a036+'\x22\x20fill=\x22#4ade80\x22\x20class=\x22qr-dot\x22\x20style=\x22animation-delay:\x20'+_0x36ee92+_0x1e56d6(0x1f1),_0x50eedd+='<animate\x20attributeName=\x22opacity\x22\x20values=\x220;1;1\x22\x20dur=\x220.5s\x22\x20begin=\x22'+_0x36ee92+_0x1e56d6(0x185),_0x50eedd+='</circle>',_0x4e3033++;}}}_0x50eedd+=_0x1e56d6(0x1c0),_0x16fbd5[_0x1e56d6(0x112)]=_0x50eedd+'<div\x20class=\x22scan-line\x22></div>';}['isQRCorner'](_0x551d92,_0x324dc4,_0x38654f){const _0x513182=0x7;if(_0x551d92<_0x513182&&_0x324dc4<_0x513182)return!![];if(_0x551d92<_0x513182&&_0x324dc4>=_0x38654f-_0x513182)return!![];if(_0x551d92>=_0x38654f-_0x513182&&_0x324dc4<_0x513182)return!![];return![];}async[_0x1aabb7(0x131)](){const _0xd4dbb1=_0x1aabb7,_0x161e3a=document['getElementById']('shareLink');if(!_0x161e3a)return;try{await navigator['clipboard'][_0xd4dbb1(0x15a)](_0x161e3a[_0xd4dbb1(0x1f5)]),this['showNotification']('Link\x20copied!\x20Waiting\x20for\x20receiver...','success');}catch(_0x523099){_0x161e3a['select'](),document['execCommand']('copy'),this['showNotification'](_0xd4dbb1(0x1c8),'success');}}[_0x1aabb7(0xfa)](){const _0x59ed0a=_0x1aabb7,_0x5acf5d=document[_0x59ed0a(0xde)]('transferSection');_0x5acf5d&&(_0x5acf5d['style']['display']='block',setTimeout(()=>{const _0x33d884=_0x59ed0a;_0x5acf5d[_0x33d884(0x18c)]({'behavior':_0x33d884(0x1d8),'block':_0x33d884(0x1a4)});},0x64));}['checkUrlForRoom'](){const _0x514b83=_0x1aabb7,_0x2d4e34=new URLSearchParams(window['location'][_0x514b83(0x184)]),_0x5bf397=_0x2d4e34['get'](_0x514b83(0x163))||_0x2d4e34[_0x514b83(0xe5)]('room');_0x5bf397&&(this[_0x514b83(0x179)]=![],this[_0x514b83(0x107)]=_0x5bf397,this['showReceiverMode'](),setTimeout(()=>this[_0x514b83(0x132)](),0x1f4));}async[_0x1aabb7(0x132)](){const _0x22f68b=_0x1aabb7;try{this['updateTransferStatus']('Connecting...'),await this['connectToServer'](),this['send']({'type':'join-room','roomId':this[_0x22f68b(0x107)]}),await this['initializeWebRTC'](),this[_0x22f68b(0x199)]('Waiting\x20for\x20sender...');}catch(_0x3f7b1c){console['error'](_0x22f68b(0x14a),_0x3f7b1c),this['showNotification'](_0x22f68b(0x154)+_0x3f7b1c[_0x22f68b(0x167)],'error'),this[_0x22f68b(0x199)]('Connection\x20failed');}}[_0x1aabb7(0x1f9)](){const _0x3d84d9=_0x1aabb7,_0x9859b7=document['querySelector'](_0x3d84d9(0x124)),_0x312197=document[_0x3d84d9(0xcc)]('.hero-subtitle'),_0x539be0=document[_0x3d84d9(0xde)](_0x3d84d9(0x1db)),_0x4a5a16=document['getElementById']('selectedFiles'),_0x4ed063=document['getElementById'](_0x3d84d9(0x19d));if(_0x9859b7)_0x9859b7[_0x3d84d9(0x112)]='Receiving\x20<span\x20class=\x22highlight\x22>Files</span>';if(_0x312197)_0x312197[_0x3d84d9(0x1b1)]='Connecting\x20to\x20sender...';if(_0x539be0)_0x539be0[_0x3d84d9(0xc6)]['display']='none';if(_0x4a5a16)_0x4a5a16['style']['display']='none';if(_0x4ed063)_0x4ed063[_0x3d84d9(0xc6)]['display']=_0x3d84d9(0x1e2);const _0x2ec863=document[_0x3d84d9(0xde)]('transferSection');_0x2ec863&&(_0x2ec863['style']['display']=_0x3d84d9(0x1d0),this['updateTransferStatus']('Connecting...'));}[_0x1aabb7(0xdc)](_0x31cb2a){const _0x115f48=_0x1aabb7,_0x21d6e6=document[_0x115f48(0xcc)](_0x115f48(0x1fe));if(_0x21d6e6)_0x21d6e6[_0x115f48(0x1b1)]=_0x31cb2a;}async['initializeWebRTC'](){const _0x117456=_0x1aabb7,_0x14df81=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x362f9b=_0x14df81;try{const _0x10ae61=await fetch(_0x117456(0xfd)),_0x2f051f=await _0x10ae61[_0x117456(0x1a0)]();Array['isArray'](_0x2f051f)&&_0x2f051f[_0x117456(0x21a)]>0x0?(_0x362f9b=_0x2f051f,console['log'](_0x117456(0x140),_0x362f9b[_0x117456(0x21a)],'servers')):console['warn']('Invalid\x20TURN\x20response,\x20using\x20fallback\x20STUN');}catch(_0x1f4286){console[_0x117456(0x106)](_0x117456(0x18a),_0x1f4286);}const _0x5af6c9={'iceServers':_0x362f9b,'iceCandidatePoolSize':0xa};this['peerConnection']=new RTCPeerConnection(_0x5af6c9),this[_0x117456(0x165)]['onicecandidate']=_0x1f452c=>{const _0x311504=_0x117456;_0x1f452c[_0x311504(0x1cb)]&&this[_0x311504(0xce)]({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x1f452c[_0x311504(0x1cb)]});},this[_0x117456(0x165)][_0x117456(0x176)]=()=>{const _0x5195fb=_0x117456,_0x32ef46=this[_0x5195fb(0x165)][_0x5195fb(0x134)];console['log']('Connection\x20state:',_0x32ef46);if(_0x32ef46===_0x5195fb(0x1ef))this['updateTransferStatus'](_0x5195fb(0x208)),this[_0x5195fb(0x152)]('Connecting...');else{if(_0x32ef46===_0x5195fb(0x1c9)){this['showNotification']('Connected!',_0x5195fb(0x126)),this[_0x5195fb(0x152)](_0x5195fb(0x11f));if(this[_0x5195fb(0x179)])this['updateShareStatus']('Transfer\x20starting...');}else(_0x32ef46===_0x5195fb(0x113)||_0x32ef46===_0x5195fb(0xfb))&&(this['transferComplete']?(console['log'](_0x5195fb(0x1bb)),this['updateConnectionStatus'](_0x5195fb(0x1c7))):_0x32ef46===_0x5195fb(0x113)?(this['showNotification'](_0x5195fb(0xf8),'error'),this['updateTransferStatus']('Connection\x20failed\x20-\x20try\x20again'),this[_0x5195fb(0x152)]('Connection\x20failed')):(this[_0x5195fb(0x199)]('Connection\x20interrupted...'),this['updateConnectionStatus']('Disconnected')));}},this['peerConnection'][_0x117456(0xe7)]=()=>{const _0x2e7e69=_0x117456,_0x19ce83=this['peerConnection']['iceConnectionState'];console['log']('ICE\x20state:',_0x19ce83);if(_0x19ce83==='checking')this[_0x2e7e69(0x199)](_0x2e7e69(0x1d5));else _0x19ce83===_0x2e7e69(0x113)&&!this['transferComplete']&&(this[_0x2e7e69(0x19b)]('Network\x20connection\x20failed','error'),this[_0x2e7e69(0x199)](_0x2e7e69(0x206)));},this[_0x117456(0x179)]?(this['dataChannel']=this['peerConnection'][_0x117456(0x21e)]('fileTransfer',{'ordered':!![]}),this['setupDataChannel']()):this['peerConnection']['ondatachannel']=_0x30b549=>{const _0x42b9b9=_0x117456;this['dataChannel']=_0x30b549[_0x42b9b9(0x19a)],this['setupDataChannel']();};}async['createAndSendOffer'](){const _0x3d8fb3=_0x1aabb7;try{const _0x55c969=await this[_0x3d8fb3(0x165)][_0x3d8fb3(0x1dd)]();await this['peerConnection'][_0x3d8fb3(0x12e)](_0x55c969),this['send']({'type':'offer','roomId':this[_0x3d8fb3(0x107)],'sdp':_0x55c969[_0x3d8fb3(0x175)]});}catch(_0x490631){console['error'](_0x3d8fb3(0x148),_0x490631),this['showNotification']('Connection\x20failed','error');}}async['handleOffer'](_0xf23207){const _0x241269=_0x1aabb7;try{await this['peerConnection'][_0x241269(0xca)](new RTCSessionDescription({'type':'offer','sdp':_0xf23207[_0x241269(0x175)]}));const _0x60a6e2=await this['peerConnection'][_0x241269(0x20f)]();await this[_0x241269(0x165)][_0x241269(0x12e)](_0x60a6e2),this[_0x241269(0xce)]({'type':_0x241269(0x18e),'roomId':this['roomId'],'sdp':_0x60a6e2['sdp']}),this['updateTransferStatus'](_0x241269(0x20a)),this['updateConnectionStatus']('Waiting\x20for\x20files...');}catch(_0x51d992){console[_0x241269(0x106)](_0x241269(0x1ce),_0x51d992);}}async[_0x1aabb7(0x121)](_0x33a0df){try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'answer','sdp':_0x33a0df['sdp']}));}catch(_0x4ec397){console['error']('Answer\x20error:',_0x4ec397);}}async['handleIceCandidate'](_0x54f279){const _0xce85d0=_0x1aabb7;try{_0x54f279[_0xce85d0(0x1cb)]&&await this[_0xce85d0(0x165)][_0xce85d0(0x1f6)](new RTCIceCandidate(_0x54f279[_0xce85d0(0x1cb)]));}catch(_0x1d9953){console['error'](_0xce85d0(0x182),_0x1d9953);}}['setupDataChannel'](){const _0x87a6f0=_0x1aabb7;this[_0x87a6f0(0x14c)][_0x87a6f0(0x213)]='arraybuffer',this['dataChannel']['onopen']=()=>{const _0x28ccd3=_0x87a6f0;console[_0x28ccd3(0x1ec)](_0x28ccd3(0xe3)),this['isHost']?(this['showNotification']('Starting\x20transfer...',_0x28ccd3(0x126)),this['updateConnectionStatus'](_0x28ccd3(0x14f)),this['startFileTransfer']()):(this['updateTransferStatus'](_0x28ccd3(0x12d)),this['updateConnectionStatus'](_0x28ccd3(0x12d)));},this['dataChannel'][_0x87a6f0(0x1b9)]=()=>console['log']('Data\x20channel\x20closed'),this[_0x87a6f0(0x14c)]['onerror']=_0x4d167b=>{const _0x3df571=_0x87a6f0;console[_0x3df571(0x106)](_0x3df571(0x125),_0x4d167b),this[_0x3df571(0x19b)](_0x3df571(0x1e4),'error');},this[_0x87a6f0(0x14c)]['onmessage']=_0x5c156c=>this['handleDataChannelMessage'](_0x5c156c);}async['handleDataChannelMessage'](_0x2349a5){const _0x4b38fc=_0x1aabb7;if(typeof _0x2349a5['data']==='string'){const _0x284c1d=JSON[_0x4b38fc(0x1b2)](_0x2349a5['data']);if(_0x284c1d['type']==='file-info')_0x284c1d[_0x4b38fc(0x1f4)]===0x1&&(await this['acquireWakeLock'](),await this['acquireWebLock']()),this[_0x4b38fc(0xf7)]=_0x284c1d,this['receivedChunks']=[],this['totalBytesTransferred']=0x0,this[_0x4b38fc(0x1a6)]=Date['now'](),this[_0x4b38fc(0x199)](_0x4b38fc(0x193)+_0x284c1d[_0x4b38fc(0x13d)]+'\x20('+_0x284c1d[_0x4b38fc(0x1f4)]+'/'+_0x284c1d['totalFiles']+')'),this['updateCurrentFileName'](_0x284c1d['name']);else{if(_0x284c1d[_0x4b38fc(0x1c3)]===_0x4b38fc(0xea))this['receivedFileInfo']&&(this[_0x4b38fc(0x101)]++,this['receivedTotalBytes']+=this[_0x4b38fc(0xf7)]['size']),this[_0x4b38fc(0x168)]();else{if(_0x284c1d[_0x4b38fc(0x1c3)]==='all-complete'){this[_0x4b38fc(0x214)]=!![],this[_0x4b38fc(0x199)]('Transfer\x20Complete!'),this['updateConnectionStatus']('All\x20files\x20received\x20successfully'),this['updateProgressBar'](0x64),this[_0x4b38fc(0x19b)](_0x4b38fc(0x142),_0x4b38fc(0x126));const _0x57d7be=Date['now']()-this[_0x4b38fc(0x1a6)];window['globalStats']&&this['receivedFilesCount']>0x0&&window[_0x4b38fc(0x1bd)][_0x4b38fc(0x157)](this[_0x4b38fc(0x101)],this[_0x4b38fc(0x15f)],_0x57d7be);if(window['statsWidgets']&&this[_0x4b38fc(0x101)]>0x0){const _0x9ea78f=this['receivedTotalBytes']/(_0x57d7be/0x3e8)/(0x400*0x400);window[_0x4b38fc(0x118)][_0x4b38fc(0x110)](this['receivedFilesCount'],_0x9ea78f,_0x57d7be);}this['send']({'type':'transfer-complete','roomId':this[_0x4b38fc(0x107)]}),this[_0x4b38fc(0x115)]();if(this[_0x4b38fc(0x1e0)])this['releaseWebLock']();}}}}else this[_0x4b38fc(0x1cd)][_0x4b38fc(0x119)](_0x2349a5['data']),this['totalBytesTransferred']+=_0x2349a5['data'][_0x4b38fc(0x16f)],this[_0x4b38fc(0x181)]();}async['startFileTransfer'](){const _0x352f7e=_0x1aabb7,_0x3ffdd7=document['getElementById']('transferSection');if(_0x3ffdd7)_0x3ffdd7['style']['display']='block';await this[_0x352f7e(0x222)](),await this['acquireWebLock'](),this['transferStartTime']=Date[_0x352f7e(0x13a)]();for(let _0x55ec11=0x0;_0x55ec11<this['files'][_0x352f7e(0x21a)];_0x55ec11++){await this[_0x352f7e(0x16d)](this[_0x352f7e(0x1f3)][_0x55ec11],_0x55ec11+0x1,this['files'][_0x352f7e(0x21a)]);}this['dataChannel'][_0x352f7e(0xce)](JSON['stringify']({'type':_0x352f7e(0x13c)})),this['transferComplete']=!![],this[_0x352f7e(0x199)]('Transfer\x20Complete!'),this['updateShareStatus'](_0x352f7e(0x156)),this[_0x352f7e(0x152)]('All\x20files\x20sent\x20successfully'),this['updateProgressBar'](0x64),this['showNotification']('All\x20files\x20sent!',_0x352f7e(0x126));const _0x484ece=this['files']['reduce']((_0x4f5bab,_0x58460a)=>_0x4f5bab+_0x58460a[_0x352f7e(0xed)],0x0),_0x571628=Date['now']()-this['transferStartTime'];window['globalStats']&&window['globalStats'][_0x352f7e(0x157)](this[_0x352f7e(0x1f3)]['length'],_0x484ece,_0x571628);if(window[_0x352f7e(0x118)]){const _0x21674b=_0x484ece/(_0x571628/0x3e8)/(0x400*0x400);window['statsWidgets']['onTransferComplete'](this[_0x352f7e(0x1f3)][_0x352f7e(0x21a)],_0x21674b,_0x571628);}this['releaseWakeLock']();if(this['releaseWebLock'])this['releaseWebLock']();}async[_0x1aabb7(0x16d)](_0x2f43d1,_0x284424,_0x144ca9){return new Promise(_0x11d353=>{const _0x22d1ff=_0x9c81;this[_0x22d1ff(0x14c)][_0x22d1ff(0xce)](JSON['stringify']({'type':_0x22d1ff(0x173),'name':_0x2f43d1['name'],'size':_0x2f43d1['size'],'mimeType':_0x2f43d1[_0x22d1ff(0x1c3)],'currentIndex':_0x284424,'totalFiles':_0x144ca9})),this[_0x22d1ff(0x199)](_0x22d1ff(0xe4)+_0x2f43d1['name']+'\x20('+_0x284424+'/'+_0x144ca9+')'),this[_0x22d1ff(0x1c1)](_0x2f43d1['name']);const _0x2f3828=new FileReader();let _0x561d61=0x0;this['totalBytesTransferred']=0x0;const _0x23aca9=()=>{const _0x31b7d7=_0x22d1ff;_0x2f3828[_0x31b7d7(0xdd)](_0x2f43d1[_0x31b7d7(0x1b5)](_0x561d61,_0x561d61+this[_0x31b7d7(0x1d2)]));};_0x2f3828['onload']=_0xae5da9=>{const _0x8395cf=()=>{const _0xa25d45=_0x9c81;if(this[_0xa25d45(0x14c)][_0xa25d45(0x161)]>this['chunkSize']*0x10){setTimeout(_0x8395cf,0xa);return;}this[_0xa25d45(0x14c)][_0xa25d45(0xce)](_0xae5da9['target'][_0xa25d45(0x14e)]),this[_0xa25d45(0x1c2)]=_0x561d61+_0xae5da9['target'][_0xa25d45(0x14e)]['byteLength'],_0x561d61+=this[_0xa25d45(0x1d2)],this['updateProgressBar'](Math['round'](Math[_0xa25d45(0x18d)](_0x561d61,_0x2f43d1['size'])/_0x2f43d1[_0xa25d45(0xed)]*0x64)),this[_0xa25d45(0x1cf)](_0x2f43d1['size']),_0x561d61<_0x2f43d1[_0xa25d45(0xed)]?_0x23aca9():(this[_0xa25d45(0x14c)][_0xa25d45(0xce)](JSON[_0xa25d45(0xd8)]({'type':'file-complete'})),setTimeout(_0x11d353,0x64));};_0x8395cf();},_0x23aca9();});}['updateProgressBar'](_0x3a1177){const _0x3b85c6=_0x1aabb7,_0x39d6f0=document[_0x3b85c6(0xde)]('progressFill'),_0x3c1ce6=document['getElementById']('progressPercent');if(_0x39d6f0)_0x39d6f0[_0x3b85c6(0xc6)][_0x3b85c6(0x1a9)]=_0x3a1177+'%';if(_0x3c1ce6)_0x3c1ce6['textContent']=_0x3a1177+'%';}[_0x1aabb7(0x1cf)](_0x11e60e){const _0xf19ab4=_0x1aabb7;if(!this[_0xf19ab4(0x1a6)])return;const _0x202031=(Date['now']()-this['transferStartTime'])/0x3e8,_0x2b859f=this['totalBytesTransferred']/_0x202031,_0x3485e6=document[_0xf19ab4(0xde)]('progressSpeed'),_0x314b49=document['getElementById'](_0xf19ab4(0x138)),_0xc197b7=document[_0xf19ab4(0xde)]('remainingSize'),_0x426dcc=document[_0xf19ab4(0xde)](_0xf19ab4(0x139));if(_0x3485e6)_0x3485e6[_0xf19ab4(0x1b1)]=this['formatFileSize'](_0x2b859f)+'/s';if(_0x314b49)_0x314b49[_0xf19ab4(0x1b1)]=this['formatFileSize'](this['totalBytesTransferred']);if(_0xc197b7)_0xc197b7[_0xf19ab4(0x1b1)]=this['formatFileSize'](Math[_0xf19ab4(0x15d)](0x0,_0x11e60e-this['totalBytesTransferred']));if(_0x426dcc&&_0x2b859f>0x0){const _0x1c7efe=(_0x11e60e-this[_0xf19ab4(0x1c2)])/_0x2b859f;_0x426dcc['textContent']=_0x1c7efe<0x3c?Math[_0xf19ab4(0x10d)](_0x1c7efe)+'s':Math['ceil'](_0x1c7efe/0x3c)+'m';}}[_0x1aabb7(0x1c1)](_0x1a0c9d){const _0x2025a0=_0x1aabb7,_0x2efe97=document[_0x2025a0(0xde)](_0x2025a0(0x198));if(_0x2efe97)_0x2efe97['textContent']=_0x1a0c9d;}['updateProgress'](){const _0x473ab9=_0x1aabb7;if(!this[_0x473ab9(0xf7)])return;const _0x35c15e=this[_0x473ab9(0x1cd)][_0x473ab9(0x17b)]((_0x285614,_0x545d99)=>_0x285614+_0x545d99[_0x473ab9(0x16f)],0x0);this[_0x473ab9(0xd6)](Math[_0x473ab9(0x18d)](Math['round'](_0x35c15e/this[_0x473ab9(0xf7)]['size']*0x64),0x64)),this['updateTransferSpeed'](this[_0x473ab9(0xf7)][_0x473ab9(0xed)]);}['assembleAndDownloadFile'](){const _0x31b053=_0x1aabb7;if(!this['receivedFileInfo']||!this['receivedChunks'][_0x31b053(0x21a)])return;const _0x399f9e=new Blob(this['receivedChunks'],{'type':this[_0x31b053(0xf7)]['mimeType']||_0x31b053(0x1bc)}),_0x23513d=URL[_0x31b053(0x133)](_0x399f9e),_0x5020e3=document[_0x31b053(0x197)]('a');_0x5020e3[_0x31b053(0x151)]=_0x23513d,_0x5020e3[_0x31b053(0xfe)]=this['receivedFileInfo']['name'],document[_0x31b053(0x17a)]['appendChild'](_0x5020e3),_0x5020e3[_0x31b053(0x103)](),document['body']['removeChild'](_0x5020e3),URL[_0x31b053(0x171)](_0x23513d),this[_0x31b053(0x19b)](_0x31b053(0x21b)+this[_0x31b053(0xf7)]['name'],_0x31b053(0x126)),this['receivedChunks']=[],this[_0x31b053(0xf7)]=null,this[_0x31b053(0x1c2)]=0x0,this['transferStartTime']=Date['now']();}[_0x1aabb7(0x199)](_0x419ad){const _0x2bbe1a=_0x1aabb7,_0x11e298=document[_0x2bbe1a(0xcc)](_0x2bbe1a(0xf2));if(_0x11e298)_0x11e298['textContent']=_0x419ad;_0x419ad==='Transfer\x20Complete!'&&this[_0x2bbe1a(0x100)]();}[_0x1aabb7(0x100)](){const _0x2867d6=_0x1aabb7,_0x15de08=document[_0x2867d6(0xcc)](_0x2867d6(0x1f8)),_0x44d428=document[_0x2867d6(0xcc)](_0x2867d6(0xf2));if(_0x15de08)_0x15de08[_0x2867d6(0x102)]['add']('completed');if(_0x44d428)_0x44d428[_0x2867d6(0x102)][_0x2867d6(0x127)]('completed');}['updateConnectionStatus'](_0x414277){const _0x57feb8=document['getElementById']('connectionStatus');if(_0x57feb8)_0x57feb8['textContent']=_0x414277;}['showNotification'](_0x4d2d04,_0x87df3b='info'){const _0x40c534=_0x1aabb7,_0x129a25=document['querySelector'](_0x40c534(0x10c));if(_0x129a25)_0x129a25['remove']();const _0x2a8b22=document['createElement'](_0x40c534(0x209));_0x2a8b22[_0x40c534(0x178)]='notification-toast\x20notification-'+_0x87df3b,_0x2a8b22[_0x40c534(0x112)]=_0x40c534(0x190)+(_0x87df3b===_0x40c534(0x126)?'‚úì':_0x87df3b===_0x40c534(0x106)?'‚úï':'‚Ñπ')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-message\x22>'+this[_0x40c534(0x12f)](_0x4d2d04)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document['body'][_0x40c534(0x1e8)](_0x2a8b22),setTimeout(()=>_0x2a8b22[_0x40c534(0x102)]['add'](_0x40c534(0x1fc)),0xa),setTimeout(()=>{const _0x1389a3=_0x40c534;_0x2a8b22['classList'][_0x1389a3(0x15b)](_0x1389a3(0x1fc)),setTimeout(()=>_0x2a8b22['remove'](),0x12c);},0xfa0);}}function _0x9c81(_0x4d4177,_0x41ee4e){_0x4d4177=_0x4d4177-0xc3;const _0x43bb8c=_0x43bb();let _0x9c81f3=_0x43bb8c[_0x4d4177];return _0x9c81f3;}document['addEventListener']('DOMContentLoaded',()=>{window['fileShare']=new FileShare();});function _0x43bb(){const _0x1fb663=['.hero-title','Data\x20channel\x20error:','success','add','Failed\x20to\x20send\x20email','readyState','zip','drag-over','.steps-grid','Receiving\x20files...','setLocalDescription','escapeHtml','2666022MedRyH','copyShareLink','joinRoom','createObjectURL','connectionState','init','pathname','wakeLock','transferredSize','timeLeft','now','qrCode','all-complete','name','getFileIcon','generateRoomId','TURN\x20credentials\x20loaded:','startsWith','All\x20files\x20received!','application/json','video/','handleIceCandidate','transition','live-pulse','Offer\x20error:','\x20TB','Join\x20error:','\x20GB/s','dataChannel','preventDefault','result','Sending\x20files...','email','href','updateConnectionStatus','dataTransfer','Failed:\x20','request','Transfer\x20Complete!','addTransfer','Error:','Connected!\x20Waiting\x20for\x20sender...','writeText','remove','stopPropagation','max','global-stats-container','receivedTotalBytes','updateFilesList','bufferedAmount','handleMessage','Q-Gate','recipientEmails','peerConnection','clearFiles','message','assembleAndDownloadFile','üñºÔ∏è','?Q-Gate=','protocol','sendEmailNotification','sendFile','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-loading\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-status-text\x22>','byteLength','getEmailData','revokeObjectURL','offer','file-info','transferMessage','sdp','onconnectionstatechange','450AcYaYD','className','isHost','body','reduce','Bytes','Please\x20enter\x20your\x20email','pendingRoomId','.hero-card','ping','updateProgress','ICE\x20error:','attemptReconnect','search','ms\x22\x20fill=\x22freeze\x22/>','updateDisplay','\x20MB/s','acquireWebLock','splice','Failed\x20to\x20fetch\x20TURN\x20credentials:','toFixed','scrollIntoView','min','answer','stats','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-icon\x22>','handleDragOver','close','Receiving:\x20','/ws','.step-number','5540828dVDnfb','createElement','currentFileName','updateTransferStatus','channel','showNotification','password','shareBtn','release','make','json','fetchStats','showPasswordPrompt','8rSgaeP','center','POST','transferStartTime','isTransferring','totalDuration','width','getWebSocketUrl','Please\x20enter\x20recipient\x20email(s)','OPEN','host','pdf','Connection\x20lost.\x20Please\x20refresh\x20the\x20page.','Please\x20enter\x20a\x20valid\x20sender\x20email','textContent','parse','querySelectorAll','startKeepalive','slice','map','modeLinkBtn','enablePassword','onclose','\x22\x20height=\x22','Connection\x20closed\x20after\x20successful\x20transfer','application/octet-stream','globalStats','data','handleDrop','</svg>','updateCurrentFileName','totalBytesTransferred','type','Please\x20enter\x20a\x20password','\x22\x20viewBox=\x220\x200\x20','selectedFiles','Transfer\x20completed\x20-\x20connection\x20closed','Link\x20copied!\x20Waiting\x20for\x20receiver...','connected','Room\x20created:','candidate','The\x20recipient\x20will\x20receive\x20an\x20email\x20with\x20the\x20download\x20link.','receivedChunks','Offer\x20handling\x20error:','updateTransferSpeed','block','index','chunkSize','charAt','2752235OlPfQI','Finding\x20best\x20connection\x20path...','Room\x20not\x20found','Received:','smooth','0\x20Bytes','createShareLink','dropZone','features-grid','createOffer','room-created','image/','releaseWebLock','https:','none','\x22\x20cy=\x22','Transfer\x20error','Retrying...\x20(','.radar-loader','WebSocket\x20closed','appendChild','isIntersecting','observe','Email\x20sending\x20failed:\x20','log','Email\x20Failed\x20-\x20Share\x20Link\x20Instead','Wake\x20lock\x20released','connecting','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ms\x22>','addEventListener','files','currentIndex','value','addIceCandidate','<div\x20style=\x22font-size:\x2048px;\x22>‚úì</div>','.transfer-icon','showReceiverMode','link','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-size\x22>','show','Peer\x20disconnected','.status-title','replace','peer-joined','\x0a\x20\x20\x20\x20.notification-toast\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20bottom:\x2030px;\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(-50%)\x20translateY(100px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(30,\x2030,\x2030,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x20padding:\x201rem\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease,\x20opacity\x200.3s\x20ease;\x20opacity:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.notification-toast.show\x20{\x20transform:\x20translateX(-50%)\x20translateY(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.notification-success\x20{\x20border-color:\x20rgba(74,\x20222,\x20128,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-success\x20.notification-icon\x20{\x20color:\x20#4ade80;\x20}\x0a\x20\x20\x20\x20.notification-error\x20{\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-error\x20.notification-icon\x20{\x20color:\x20#ef4444;\x20}\x0a\x20\x20\x20\x20.notification-icon\x20{\x20font-size:\x201.2rem;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20.notification-message\x20{\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x20font-size:\x200.95rem;\x20}\x0a','data-flowing','glitch-animate','shareOptions','Generate\x20Share\x20Link','Network\x20error\x20-\x20check\x20firewall','\x20GB','Establishing\x20P2P\x20connection...','div','Connected!\x20Waiting\x20for\x20files...','.qr-status-text','target','downloadLimit','generateQRCode','createAnswer','abcdefghijklmnopqrstuvwxyz0123456789','reconnectAttempts','DOMContentLoaded','binaryType','transferComplete','getShareOptions','dragleave','Send\x20Files','showSelectedFiles','globalTotalSessions','length','Downloaded:\x20','recipients','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-icon\x22>','createDataChannel','active','formatSpeed','connectToServer','acquireWakeLock','addData','keepaliveInterval','totalSessions','Incorrect\x20password.\x20Please\x20try\x20again:','style','drop','handleDragLeave','595706YqjSBw','setRemoteDescription','updateShareButton','querySelector','display','send','forEach','steps-grid','<rect\x20width=\x22100%\x22\x20height=\x22100%\x22\x20fill=\x22rgba(255,255,255,0.1)\x22\x20rx=\x2212\x22/>','Email\x20Sent\x20Successfully!','opacity','Share\x20link\x20expired\x20or\x20invalid.\x20Ask\x20sender\x20for\x20a\x20new\x20link.','Wake\x20lock\x20acquired\x20for\x20background\x20transfer','updateProgressBar','803891ZHAXSl','stringify','has-files','1257395gfuvgq','Invalid\x20email(s):\x20','updateShareStatus','readAsArrayBuffer','getElementById','Password\x20required\x20to\x20access\x20files','Locking\x20dimensional\x20rift...','21CYKVeF','transferMode','Data\x20channel\x20open','Sending:\x20','get','formatNumber','oniceconnectionstatechange','Access\x20denied\x20-\x20password\x20required','shareBtnText','file-complete','Share\x20link\x20created!','change','size','head','test','locks','handleFileSelect','.transfer-title','10620918KGeyLs','senderEmail','clearAllFiles','contains','receivedFileInfo','P2P\x20connection\x20failed.\x20Try\x20refreshing\x20both\x20devices.','create-room','scrollToTransferSection','disconnected','getStats','/api/turn-credentials','download','Room\x20creation\x20timeout','showTransferComplete','receivedFilesCount','classList','click','fileCount','Copy\x20this\x20link\x20and\x20share\x20it\x20manually\x20with\x20the\x20recipient.','error','roomId','copyLink','Synchronizing\x20timelines...','screen','apiUrl','.notification-toast','ceil','trim','Connection\x20timeout','onTransferComplete','3aXWloc','innerHTML','failed','Web\x20lock\x20acquired\x20-\x20transfer\x20protected','releaseWakeLock','formatFileSize','Failed\x20to\x20connect:\x20','statsWidgets','push','.global-stat-number','validateEmail','disabled','checked','join','P2P\x20Connected','dragover','handleAnswer','onRoomCreated','includes'];_0x43bb=function(){return _0x1fb663;};return _0x43bb();}const styles=document[_0x1aabb7(0x197)](_0x1aabb7(0xc6));styles['textContent']=_0x1aabb7(0x201),document[_0x1aabb7(0xee)][_0x1aabb7(0x1e8)](styles);class GlobalStats{constructor(){const _0xca8feb=_0x1aabb7;this['apiUrl']='/api/stats',this['stats']={'totalFiles':0x0,'totalBytes':0x0,'totalSessions':0x0,'totalDuration':0x0},this[_0xca8feb(0x135)]();}async[_0x1aabb7(0x135)](){const _0x20bc70=_0x1aabb7;await this['fetchStats'](),this[_0x20bc70(0x186)]();}async[_0x1aabb7(0x1a1)](){const _0x39c4e0=_0x1aabb7;try{const _0x422e47=await fetch(this[_0x39c4e0(0x10b)]);_0x422e47['ok']&&(this[_0x39c4e0(0x18f)]=await _0x422e47['json']());}catch(_0x53220b){console['error']('Error\x20fetching\x20global\x20stats:',_0x53220b);}}async['addTransfer'](_0x1244fa,_0x18c51e,_0x36307c=0x0){const _0x11711b=_0x1aabb7;try{const _0x31062d=await fetch(this['apiUrl'],{'method':_0x11711b(0x1a5),'headers':{'Content-Type':_0x11711b(0x143)},'body':JSON['stringify']({'files':_0x1244fa,'bytes':_0x18c51e,'duration':_0x36307c/0x3e8})});if(_0x31062d['ok']){const _0x364e0a=await _0x31062d[_0x11711b(0x1a0)]();this[_0x11711b(0x18f)]=_0x364e0a['stats'],this['updateDisplay']();}}catch(_0x451aa0){console['error']('Error\x20updating\x20global\x20stats:',_0x451aa0);}}['formatGB'](_0x17c49e){const _0x30f614=_0x1aabb7,_0x43fd83=_0x17c49e/(0x400*0x400*0x400);if(_0x43fd83>=0x3e8)return(_0x43fd83/0x3e8)['toFixed'](0x2)+_0x30f614(0x149);return _0x43fd83['toFixed'](0x1)+_0x30f614(0x207);}[_0x1aabb7(0xe6)](_0x2861df){const _0x628526=_0x1aabb7;if(_0x2861df>=0xf4240)return(_0x2861df/0xf4240)['toFixed'](0x1)+'M';else{if(_0x2861df>=0x3e8)return(_0x2861df/0x3e8)[_0x628526(0x18b)](0x1)+'K';}return _0x2861df['toString']();}[_0x1aabb7(0x220)](_0x20f2df){const _0x335db4=_0x1aabb7,_0x47d3c8=_0x20f2df/(0x400*0x400);if(_0x47d3c8>=0x3e8)return(_0x47d3c8/0x3e8)[_0x335db4(0x18b)](0x1)+_0x335db4(0x14b);return _0x47d3c8['toFixed'](0x1)+_0x335db4(0x187);}['updateDisplay'](){const _0x58fe0c=_0x1aabb7,_0x14af03=document[_0x58fe0c(0xde)]('globalTotalFiles'),_0x62caea=document['getElementById']('globalTotalSize'),_0x51843d=document['getElementById'](_0x58fe0c(0x219)),_0x17266b=document['getElementById']('globalAvgSpeed');_0x14af03&&(_0x14af03[_0x58fe0c(0x1b1)]=this['formatNumber'](this[_0x58fe0c(0x18f)]['totalFiles']));_0x62caea&&(_0x62caea[_0x58fe0c(0x1b1)]=this['formatGB'](this[_0x58fe0c(0x18f)]['totalBytes']));_0x51843d&&(_0x51843d[_0x58fe0c(0x1b1)]=this[_0x58fe0c(0xe6)](this['stats'][_0x58fe0c(0xc4)]));if(_0x17266b){if(this[_0x58fe0c(0x18f)][_0x58fe0c(0x1a8)]>0x0){const _0x22de74=this[_0x58fe0c(0x18f)]['totalBytes']/this[_0x58fe0c(0x18f)]['totalDuration'];_0x17266b[_0x58fe0c(0x1b1)]=this['formatSpeed'](_0x22de74);}else _0x17266b['textContent']='--';}}[_0x1aabb7(0xfc)](){const _0x23b6d6=_0x1aabb7;return{'totalFiles':this['stats']['totalFiles'],'totalBytes':this[_0x23b6d6(0x18f)]['totalBytes'],'totalSessions':this['stats'][_0x23b6d6(0xc4)]};}}document['addEventListener'](_0x1aabb7(0x212),()=>{const _0x59baf0=_0x1aabb7;window['globalStats']=new GlobalStats();function _0x32ca46(_0x2ad2e1){_0x2ad2e1['forEach']((_0x16ffd6,_0x5de745)=>{const _0x36bac9=_0x9c81;_0x16ffd6[_0x36bac9(0x102)][_0x36bac9(0x15b)](_0x36bac9(0x147)),setTimeout(()=>{const _0xa87542=_0x36bac9;_0x16ffd6['classList']['remove'](_0xa87542(0x203)),void _0x16ffd6['offsetWidth'],_0x16ffd6['classList'][_0xa87542(0x127)](_0xa87542(0x203)),setTimeout(()=>{const _0x1d6ab4=_0xa87542;_0x16ffd6[_0x1d6ab4(0x102)]['add']('live-pulse');},0x320);},_0x5de745*0x96);});}const _0x521cb4=new IntersectionObserver(_0x576921=>{const _0x2cc44b=_0x9c81;_0x576921[_0x2cc44b(0xcf)](_0x4e0920=>{const _0x43d9ed=_0x2cc44b;if(_0x4e0920[_0x43d9ed(0x1e9)]){const _0x1f2d5d=_0x4e0920[_0x43d9ed(0x20c)];if(_0x1f2d5d['classList']['contains'](_0x43d9ed(0x15e)))_0x32ca46(_0x1f2d5d['querySelectorAll'](_0x43d9ed(0x11a)));else{if(_0x1f2d5d[_0x43d9ed(0x102)][_0x43d9ed(0xf6)](_0x43d9ed(0xd0)))_0x32ca46(_0x1f2d5d['querySelectorAll'](_0x43d9ed(0x195)));else _0x1f2d5d['classList'][_0x43d9ed(0xf6)](_0x43d9ed(0x1dc))&&_0x32ca46(_0x1f2d5d[_0x43d9ed(0x1b3)]('.feature-icon'));}}});},{'threshold':0.5}),_0x38662c=document[_0x59baf0(0xcc)]('.global-stats-container'),_0x22ca02=document['querySelector'](_0x59baf0(0x12c)),_0xbb29af=document[_0x59baf0(0xcc)]('.features-grid');if(_0x38662c)_0x521cb4['observe'](_0x38662c);if(_0x22ca02)_0x521cb4['observe'](_0x22ca02);if(_0xbb29af)_0x521cb4[_0x59baf0(0x1ea)](_0xbb29af);});