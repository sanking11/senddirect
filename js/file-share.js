const _0x3844e9=_0x5cf0;(function(_0x4d6ca4,_0x4f6cb0){const _0x72c206=_0x5cf0,_0x2676f1=_0x4d6ca4();while(!![]){try{const _0x2ad0e5=-parseInt(_0x72c206(0x1b8))/0x1*(-parseInt(_0x72c206(0x1c4))/0x2)+parseInt(_0x72c206(0x254))/0x3*(-parseInt(_0x72c206(0x252))/0x4)+parseInt(_0x72c206(0x202))/0x5*(parseInt(_0x72c206(0x1aa))/0x6)+-parseInt(_0x72c206(0x201))/0x7*(parseInt(_0x72c206(0x1f3))/0x8)+-parseInt(_0x72c206(0x1f1))/0x9+parseInt(_0x72c206(0x23c))/0xa+parseInt(_0x72c206(0x206))/0xb*(-parseInt(_0x72c206(0x1d1))/0xc);if(_0x2ad0e5===_0x4f6cb0)break;else _0x2676f1['push'](_0x2676f1['shift']());}catch(_0x44465f){_0x2676f1['push'](_0x2676f1['shift']());}}}(_0xc85e,0xb52d0));function _0x5cf0(_0x307058,_0x5037e1){_0x307058=_0x307058-0x13a;const _0xc85e17=_0xc85e();let _0x5cf0c7=_0xc85e17[_0x307058];return _0x5cf0c7;}class FileShare{constructor(){const _0x213d4=_0x5cf0;this[_0x213d4(0x14b)]=[],this[_0x213d4(0x24a)]=null,this[_0x213d4(0x251)]=null,this['ws']=null,this[_0x213d4(0x260)]=null,this[_0x213d4(0x1f0)]=![],this[_0x213d4(0x144)]=[],this['receivedFileInfo']=null,this[_0x213d4(0x26f)]=0x40*0x400,this['transferStartTime']=null,this['totalBytesTransferred']=0x0,this['transferComplete']=![],this['wakeLock']=null,this['webLock']=null,this[_0x213d4(0x1e5)]=0x0,this[_0x213d4(0x228)]=0x0,this['isUsingRelay']=![],this[_0x213d4(0x1a2)]='unknown',this[_0x213d4(0x29f)]=0xc8,this['forceRelayMode']=![],this[_0x213d4(0x1db)]=0x0,this['cachedIceServers']=null,this['connectionTimeout']=null,this['maxConnectionAttempts']=0x2,this['init']();}['init'](){const _0x4ae82f=_0x5cf0;this[_0x4ae82f(0x247)](),this[_0x4ae82f(0x294)](),this[_0x4ae82f(0x279)]();}async['detectConnectionType'](){const _0x18acfb=_0x5cf0;if(!this['peerConnection'])return'unknown';try{const _0x3af7da=await this['peerConnection'][_0x18acfb(0x263)]();let _0x55c020=null,_0x5a9d83=null,_0x5e4e55=null;_0x3af7da['forEach'](_0x15a314=>{const _0x2c87ee=_0x18acfb;_0x15a314[_0x2c87ee(0x223)]==='transport'&&_0x15a314[_0x2c87ee(0x20b)]&&(_0x55c020=_0x15a314['selectedCandidatePairId']),_0x15a314[_0x2c87ee(0x223)]==='candidate-pair'&&_0x15a314[_0x2c87ee(0x203)]==='succeeded'&&_0x15a314[_0x2c87ee(0x19c)]&&(_0x5a9d83=_0x15a314['localCandidateId'],_0x5e4e55=_0x15a314['remoteCandidateId']);});let _0x2d39b3=_0x18acfb(0x15b),_0x5d1a70='unknown';_0x3af7da[_0x18acfb(0x239)](_0x28af2e=>{const _0x2c02af=_0x18acfb;_0x28af2e['type']==='local-candidate'&&_0x28af2e['id']===_0x5a9d83&&(_0x2d39b3=_0x28af2e[_0x2c02af(0x177)]),_0x28af2e[_0x2c02af(0x223)]==='remote-candidate'&&_0x28af2e['id']===_0x5e4e55&&(_0x5d1a70=_0x28af2e[_0x2c02af(0x177)]);}),console['log'](_0x18acfb(0x29a)+_0x2d39b3+',\x20Remote:\x20'+_0x5d1a70);if(_0x2d39b3==='relay'||_0x5d1a70===_0x18acfb(0x278))return this['isUsingRelay']=!![],this[_0x18acfb(0x1a2)]='relay','relay';else return _0x2d39b3===_0x18acfb(0x188)&&_0x5d1a70===_0x18acfb(0x188)?(this['isUsingRelay']=![],this['connectionType']='direct',_0x18acfb(0x145)):(this['isUsingRelay']=![],this[_0x18acfb(0x1a2)]='direct',_0x18acfb(0x145));}catch(_0x4281eb){return console['error']('Error\x20detecting\x20connection\x20type:',_0x4281eb),'unknown';}}[_0x3844e9(0x293)](){const _0x46cc11=_0x3844e9,_0x18e684=new Date()['toISOString']()[_0x46cc11(0x292)](0x0,0x7),_0x466401=localStorage[_0x46cc11(0x16e)](_0x46cc11(0x2c0));if(_0x466401){const _0x11af13=JSON[_0x46cc11(0x221)](_0x466401);if(_0x11af13['month']===_0x18e684)return _0x11af13[_0x46cc11(0x161)]||0x0;}return 0x0;}[_0x3844e9(0x1f7)](_0x37767e){const _0x1e5d32=_0x3844e9,_0x2709b5=new Date()[_0x1e5d32(0x19a)]()['slice'](0x0,0x7),_0x1b9d03=this['getRelayUsage'](),_0x29bb17=_0x1b9d03+_0x37767e;return localStorage[_0x1e5d32(0x174)]('relayUsage',JSON[_0x1e5d32(0x1fb)]({'month':_0x2709b5,'bytesUsed':_0x29bb17})),this[_0x1e5d32(0x210)](_0x37767e),_0x29bb17;}async[_0x3844e9(0x210)](_0xe37569){const _0x3346b4=_0x3844e9;try{await fetch('/api/relay-usage',{'method':'POST','headers':{'Content-Type':_0x3346b4(0x1c3)},'body':JSON[_0x3346b4(0x1fb)]({'bytes':_0xe37569})});}catch(_0x4916cc){console['error'](_0x3346b4(0x197),_0x4916cc);}}[_0x3844e9(0x25c)](){const _0x5ce7d7=_0x3844e9,_0x5ef995=this[_0x5ce7d7(0x293)](),_0x5e332a=this[_0x5ce7d7(0x29f)]*0x400*0x400*0x400;return _0x5ef995>=_0x5e332a;}['getRemainingRelayQuota'](){const _0x5b95df=_0x3844e9,_0xc97460=this[_0x5b95df(0x293)](),_0x3ad315=this['MONTHLY_RELAY_LIMIT_GB']*0x400*0x400*0x400;return Math['max'](0x0,_0x3ad315-_0xc97460);}['formatRelayUsage'](_0x1af331){const _0x52e4e5=_0x3844e9,_0x351a6d=_0x1af331/(0x400*0x400*0x400);if(_0x351a6d>=0x1)return _0x351a6d['toFixed'](0x2)+'\x20GB';const _0x3022eb=_0x1af331/(0x400*0x400);return _0x3022eb['toFixed'](0x1)+_0x52e4e5(0x1e1);}['showRelayWarning'](){const _0xbc8633=_0x3844e9,_0x51b50c=document['getElementById']('relayWarningBanner');if(_0x51b50c)_0x51b50c[_0xbc8633(0x1fa)]();const _0x165261=this['getRelayUsage'](),_0x32e95a=this['getRemainingRelayQuota'](),_0x14b7f4=Math[_0xbc8633(0x242)](_0x165261/(this[_0xbc8633(0x29f)]*0x400*0x400*0x400)*0x64),_0x3210c=document['createElement'](_0xbc8633(0x28b));_0x3210c['id']='relayWarningBanner',_0x3210c[_0xbc8633(0x2d1)]=_0xbc8633(0x2bb),_0x3210c['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-icon\x22>‚ö°</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Relayed\x20Connection</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Direct\x20P2P\x20not\x20available.\x20Data\x20is\x20routed\x20through\x20relay\x20servers.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22relay-usage\x22>Monthly\x20usage:\x20'+this[_0xbc8633(0x24e)](_0x165261)+_0xbc8633(0x220)+this['MONTHLY_RELAY_LIMIT_GB']+'\x20GB\x20('+_0x14b7f4+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22relay-warning-close\x22\x20onclick=\x22this.parentElement.parentElement.remove()\x22>‚úï</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-usage-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-usage-fill\x22\x20style=\x22width:\x20'+Math['min'](_0x14b7f4,0x64)+_0xbc8633(0x172),this[_0xbc8633(0x162)]();const _0x4ba386=document[_0xbc8633(0x16f)](_0xbc8633(0x213));_0x4ba386?_0x4ba386['insertBefore'](_0x3210c,_0x4ba386[_0xbc8633(0x1d4)]):document[_0xbc8633(0x1af)]['appendChild'](_0x3210c);}[_0x3844e9(0x255)](){const _0x188e4a=_0x3844e9,_0x4e40f9=document['getElementById']('directConnectionBadge');if(_0x4e40f9)_0x4e40f9['remove']();const _0x34851f=document[_0x188e4a(0x155)]('div');_0x34851f['id']='directConnectionBadge',_0x34851f['className']=_0x188e4a(0x187),_0x34851f[_0x188e4a(0x244)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22direct-badge-icon\x22>üîó</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22direct-badge-text\x22>Direct\x20P2P\x20-\x20No\x20relay\x20limits</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this['addRelayWarningStyles']();const _0x36a7b6=document['getElementById'](_0x188e4a(0x27a));_0x36a7b6&&_0x36a7b6['parentElement'][_0x188e4a(0x1ef)](_0x34851f);}['addRelayWarningStyles'](){const _0x5dffda=_0x3844e9;if(document[_0x5dffda(0x16f)](_0x5dffda(0x16b)))return;const _0x2d80e2=document[_0x5dffda(0x155)]('style');_0x2d80e2['id']='relayWarningStyles',_0x2d80e2[_0x5dffda(0x276)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-banner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20rgba(251,\x20146,\x2060,\x200.15),\x20rgba(239,\x2068,\x2068,\x200.15));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(251,\x20146,\x2060,\x200.4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20slideDown\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20slideDown\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20{\x20opacity:\x200;\x20transform:\x20translateY(-10px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20flex-start;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-icon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fb923c;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.95rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20span\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.7);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.85rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9)\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-close:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage-fill\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#4ade80,\x20#fb923c,\x20#ef4444);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-connection-badge\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(74,\x20222,\x20128,\x200.15);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(74,\x20222,\x20128,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.35rem\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-badge-icon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-badge-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#4ade80;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-limit-exceeded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20rgba(239,\x2068,\x2068,\x200.2),\x20rgba(239,\x2068,\x2068,\x200.1));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-limit-exceeded\x20.relay-warning-text\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x5dffda(0x286)]['appendChild'](_0x2d80e2);}async['checkRelayLimitBeforeTransfer'](){const _0x412ba2=_0x3844e9;if(!this['isUsingRelay'])return!![];if(this[_0x412ba2(0x25c)]())return this[_0x412ba2(0x196)](_0x412ba2(0x224),_0x412ba2(0x195)),this['showRelayLimitExceededBanner'](),![];const _0xfe0b6b=this[_0x412ba2(0x14b)]['reduce']((_0x15257d,_0x33e5e8)=>_0x15257d+_0x33e5e8[_0x412ba2(0x176)],0x0),_0x1a1e65=this[_0x412ba2(0x18a)]();if(_0xfe0b6b>_0x1a1e65){const _0x41d52b=this[_0x412ba2(0x24e)](_0x1a1e65);return this[_0x412ba2(0x196)]('Not\x20enough\x20relay\x20quota.\x20Remaining:\x20'+_0x41d52b+'.\x20File\x20size:\x20'+this[_0x412ba2(0x1ac)](_0xfe0b6b),'error'),![];}return!![];}[_0x3844e9(0x2ad)](){const _0x391593=_0x3844e9,_0x9b2e87=document['getElementById'](_0x391593(0x19e));if(_0x9b2e87)_0x9b2e87[_0x391593(0x1fa)]();const _0x20c812=document[_0x391593(0x155)](_0x391593(0x28b));_0x20c812['id']=_0x391593(0x19e),_0x20c812['className']=_0x391593(0x267),_0x20c812[_0x391593(0x244)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-icon\x22>üö´</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Monthly\x20Relay\x20Limit\x20Reached</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>You\x27ve\x20used\x20your\x20200GB\x20monthly\x20relay\x20quota.\x20Direct\x20P2P\x20transfers\x20are\x20still\x20unlimited.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22relay-usage\x22>Limit\x20resets\x20on\x20the\x201st\x20of\x20next\x20month.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x391593(0x162)]();const _0x24c03d=document['getElementById'](_0x391593(0x213));_0x24c03d?_0x24c03d['insertBefore'](_0x20c812,_0x24c03d['firstChild']):document['body'][_0x391593(0x1ef)](_0x20c812);}['setupBackgroundSupport'](){document['addEventListener']('visibilitychange',()=>{const _0x5975dd=_0x5cf0;document[_0x5975dd(0x1c7)]&&this['isTransferring']()&&this['acquireWakeLock']();});}[_0x3844e9(0x22b)](){const _0xba998b=_0x3844e9;return this[_0xba998b(0x251)]&&this[_0xba998b(0x251)][_0xba998b(0x23e)]===_0xba998b(0x295)&&!this['transferComplete'];}async['acquireWakeLock'](){const _0x92ec6c=_0x3844e9;if('wakeLock'in navigator)try{this['wakeLock']=await navigator[_0x92ec6c(0x2b5)][_0x92ec6c(0x1c2)](_0x92ec6c(0x268)),console['log'](_0x92ec6c(0x1a6)),this[_0x92ec6c(0x2b5)][_0x92ec6c(0x28c)](_0x92ec6c(0x13e),()=>{const _0x364a03=_0x92ec6c;console[_0x364a03(0x147)](_0x364a03(0x2c1));});}catch(_0x11d9e2){console['log'](_0x92ec6c(0x277),_0x11d9e2[_0x92ec6c(0x2d4)]);}}['releaseWakeLock'](){const _0x4d9b71=_0x3844e9;this['wakeLock']&&(this[_0x4d9b71(0x2b5)][_0x4d9b71(0x13e)](),this['wakeLock']=null);}async[_0x3844e9(0x2d0)](){const _0x14e7c4=_0x3844e9;if(_0x14e7c4(0x1ad)in navigator)try{navigator[_0x14e7c4(0x1ad)][_0x14e7c4(0x1c2)]('file-transfer-lock',{'mode':_0x14e7c4(0x1f2)},async _0x9d09b1=>{console['log']('Web\x20lock\x20acquired\x20-\x20transfer\x20protected'),await new Promise(_0x1ca96f=>{const _0x2ee88e=_0x5cf0;this[_0x2ee88e(0x214)]=_0x1ca96f;});});}catch(_0x3c2486){console['log'](_0x14e7c4(0x148),_0x3c2486[_0x14e7c4(0x2d4)]);}}[_0x3844e9(0x247)](){const _0x3221ab=_0x3844e9,_0x144288=document['getElementById'](_0x3221ab(0x2a7)),_0x443780=document['getElementById']('fileInput'),_0x429c3a=document[_0x3221ab(0x16f)]('shareBtn'),_0x56185e=document[_0x3221ab(0x16f)](_0x3221ab(0x1ca)),_0x30c069=document['querySelector']('.browse-link');_0x144288&&(_0x144288[_0x3221ab(0x28c)]('dragover',_0x56f70e=>this['handleDragOver'](_0x56f70e)),_0x144288['addEventListener'](_0x3221ab(0x245),_0x25f089=>this['handleDragLeave'](_0x25f089)),_0x144288['addEventListener'](_0x3221ab(0x1ed),_0x2c84a6=>this['handleDrop'](_0x2c84a6)),_0x144288['addEventListener']('click',()=>_0x443780?.['click']()));if(_0x443780)_0x443780['addEventListener'](_0x3221ab(0x2a3),_0x2f0a4b=>this[_0x3221ab(0x1fd)](_0x2f0a4b));if(_0x30c069)_0x30c069[_0x3221ab(0x28c)]('click',_0x3993c9=>{const _0x47f6b3=_0x3221ab;_0x3993c9[_0x47f6b3(0x1e0)](),_0x443780?.[_0x47f6b3(0x1de)]();});if(_0x429c3a)_0x429c3a[_0x3221ab(0x28c)](_0x3221ab(0x1de),()=>this['createShareLink']());if(_0x56185e)_0x56185e['addEventListener']('click',()=>this[_0x3221ab(0x283)]());const _0x21f289=document[_0x3221ab(0x16f)](_0x3221ab(0x24f));if(_0x21f289)_0x21f289[_0x3221ab(0x28c)](_0x3221ab(0x1de),()=>this['clearAllFiles']());const _0x431549=document['getElementById'](_0x3221ab(0x14c)),_0x471f30=document['getElementById']('sharePassword');_0x431549&&_0x471f30&&_0x431549[_0x3221ab(0x28c)]('change',_0x10dc84=>{const _0x24b84f=_0x3221ab;_0x471f30['style']['display']=_0x10dc84[_0x24b84f(0x1bb)][_0x24b84f(0x165)]?'block':_0x24b84f(0x1c0);if(!_0x10dc84['target'][_0x24b84f(0x165)])_0x471f30[_0x24b84f(0x19f)]='';});this[_0x3221ab(0x21c)]='link';const _0x404a7a=document['getElementById'](_0x3221ab(0x28d)),_0x57df06=document[_0x3221ab(0x16f)](_0x3221ab(0x1c9)),_0x58143b=document[_0x3221ab(0x16f)]('emailForm'),_0x2e766d=document[_0x3221ab(0x16f)](_0x3221ab(0x184));_0x404a7a&&_0x57df06&&(_0x404a7a[_0x3221ab(0x28c)](_0x3221ab(0x1de),()=>{const _0x4438dd=_0x3221ab;this['transferMode']=_0x4438dd(0x259),_0x404a7a['classList'][_0x4438dd(0x15e)]('active'),_0x57df06[_0x4438dd(0x17d)]['remove'](_0x4438dd(0x157));if(_0x58143b)_0x58143b[_0x4438dd(0x29d)]['display']='none';if(_0x2e766d)_0x2e766d[_0x4438dd(0x276)]='Generate\x20Share\x20Link';}),_0x57df06[_0x3221ab(0x28c)]('click',()=>{const _0x4e4ac0=_0x3221ab;this[_0x4e4ac0(0x21c)]='email',_0x57df06['classList'][_0x4e4ac0(0x15e)]('active'),_0x404a7a['classList'][_0x4e4ac0(0x1fa)](_0x4e4ac0(0x157));if(_0x58143b)_0x58143b[_0x4e4ac0(0x29d)][_0x4e4ac0(0x156)]='block';if(_0x2e766d)_0x2e766d['textContent']='Send\x20Files';})),window[_0x3221ab(0x28c)]('beforeunload',()=>{const _0x2f8959=_0x3221ab;if(this['ws'])this['ws'][_0x2f8959(0x13d)]();});}['clearAllFiles'](){const _0x47bd51=_0x3844e9;this['files']=[],this['updateFilesList'](),this[_0x47bd51(0x262)](),this[_0x47bd51(0x25a)]();const _0x195e0=document[_0x47bd51(0x16f)](_0x47bd51(0x2a7));if(_0x195e0)_0x195e0['classList'][_0x47bd51(0x1fa)](_0x47bd51(0x180));const _0x2d697b=document[_0x47bd51(0x29c)](_0x47bd51(0x17a));if(_0x2d697b)_0x2d697b[_0x47bd51(0x17d)]['remove']('data-flowing');const _0x3382a6=document[_0x47bd51(0x16f)](_0x47bd51(0x1c5));if(_0x3382a6)_0x3382a6[_0x47bd51(0x29d)][_0x47bd51(0x156)]=_0x47bd51(0x1c0);}[_0x3844e9(0x2b4)](_0x2681e8){const _0x1adad9=_0x3844e9;_0x2681e8['preventDefault'](),_0x2681e8['stopPropagation'](),_0x2681e8[_0x1adad9(0x2cf)][_0x1adad9(0x17d)][_0x1adad9(0x15e)]('drag-over');}[_0x3844e9(0x238)](_0x42ea55){const _0x1800d8=_0x3844e9;_0x42ea55[_0x1800d8(0x2b1)](),_0x42ea55[_0x1800d8(0x1e0)](),_0x42ea55['currentTarget'][_0x1800d8(0x17d)][_0x1800d8(0x1fa)](_0x1800d8(0x17e));}[_0x3844e9(0x1b0)](_0x5dfeb6){const _0x409a91=_0x3844e9;_0x5dfeb6[_0x409a91(0x2b1)](),_0x5dfeb6['stopPropagation'](),_0x5dfeb6[_0x409a91(0x2cf)][_0x409a91(0x17d)]['remove'](_0x409a91(0x17e)),this['addFiles'](Array[_0x409a91(0x181)](_0x5dfeb6['dataTransfer']['files']));}['handleFileSelect'](_0x5a63dc){const _0x31e332=_0x3844e9;this['addFiles'](Array['from'](_0x5a63dc[_0x31e332(0x1bb)]['files']));}['addFiles'](_0x7f27bb){const _0x262c4e=_0x3844e9;this['files']=[...this['files'],..._0x7f27bb],this[_0x262c4e(0x1bd)](),this['showSelectedFiles'](),this['updateShareButton']();const _0x4bded5=document['getElementById'](_0x262c4e(0x2a7));_0x4bded5&&this[_0x262c4e(0x14b)]['length']>0x0&&_0x4bded5['classList']['add'](_0x262c4e(0x180));const _0x3583d2=document[_0x262c4e(0x29c)](_0x262c4e(0x17a));_0x3583d2&&this[_0x262c4e(0x14b)][_0x262c4e(0x2c7)]>0x0&&_0x3583d2['classList']['add'](_0x262c4e(0x2d2));const _0x4520a6=document[_0x262c4e(0x16f)](_0x262c4e(0x1c5));_0x4520a6&&this['files']['length']>0x0&&(_0x4520a6['style'][_0x262c4e(0x156)]='block');}['removeFile'](_0x10860c){const _0x43a51b=_0x3844e9;this[_0x43a51b(0x14b)]['splice'](_0x10860c,0x1),this['updateFilesList'](),this[_0x43a51b(0x25a)]();if(this[_0x43a51b(0x14b)]['length']===0x0){this[_0x43a51b(0x262)]();const _0xc7311c=document[_0x43a51b(0x16f)]('dropZone');if(_0xc7311c)_0xc7311c[_0x43a51b(0x17d)][_0x43a51b(0x1fa)](_0x43a51b(0x180));const _0x24c660=document[_0x43a51b(0x29c)]('.hero-card');if(_0x24c660)_0x24c660[_0x43a51b(0x17d)][_0x43a51b(0x1fa)]('data-flowing');const _0x1b05a3=document['getElementById']('shareOptions');if(_0x1b05a3)_0x1b05a3[_0x43a51b(0x29d)]['display']=_0x43a51b(0x1c0);}}[_0x3844e9(0x25a)](){const _0x30f390=_0x3844e9,_0x5f4b11=document[_0x30f390(0x16f)](_0x30f390(0x27b));if(_0x5f4b11)_0x5f4b11['disabled']=this[_0x30f390(0x14b)]['length']===0x0;}[_0x3844e9(0x1bd)](){const _0x5268ed=_0x3844e9,_0x207789=document['getElementById']('filesList');if(!_0x207789)return;_0x207789['innerHTML']=this[_0x5268ed(0x14b)]['map']((_0x43b987,_0x5d721a)=>'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-icon\x22>'+this[_0x5268ed(0x291)](_0x43b987['type'])+_0x5268ed(0x1b3)+this['escapeHtml'](_0x43b987[_0x5268ed(0x25e)])+_0x5268ed(0x1bf)+this['formatFileSize'](_0x43b987['size'])+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-file\x22\x20data-index=\x22'+_0x5d721a+_0x5268ed(0x140))['join'](''),_0x207789[_0x5268ed(0x14f)](_0x5268ed(0x23d))['forEach'](_0x2f3117=>{_0x2f3117['addEventListener']('click',_0x1a45e8=>{const _0x5b6a46=_0x5cf0;_0x1a45e8[_0x5b6a46(0x1e0)](),this['removeFile'](parseInt(_0x2f3117[_0x5b6a46(0x24d)]['index']));});});const _0x439a70=this[_0x5268ed(0x14b)][_0x5268ed(0x287)]((_0xe5546,_0x56607c)=>_0xe5546+_0x56607c[_0x5268ed(0x176)],0x0),_0x23c34=document['getElementById']('totalSize'),_0x34d92d=document['getElementById'](_0x5268ed(0x13c));if(_0x23c34)_0x23c34[_0x5268ed(0x276)]=this['formatFileSize'](_0x439a70);if(_0x34d92d)_0x34d92d[_0x5268ed(0x276)]=this['files']['length']+'\x20file'+(this[_0x5268ed(0x14b)]['length']!==0x1?'s':'');}['showSelectedFiles'](){const _0x309da3=_0x3844e9,_0x48d750=document[_0x309da3(0x16f)](_0x309da3(0x289));if(_0x48d750&&this['files']['length']>0x0)_0x48d750[_0x309da3(0x29d)]['display']='block';}['hideSelectedFiles'](){const _0x10b69f=_0x3844e9,_0x9a1398=document[_0x10b69f(0x16f)]('selectedFiles');if(_0x9a1398)_0x9a1398['style'][_0x10b69f(0x156)]='none';}['getFileIcon'](_0x489cf6){const _0x503c7=_0x3844e9;if(!_0x489cf6)return'üìÅ';if(_0x489cf6[_0x503c7(0x182)](_0x503c7(0x288)))return'üñºÔ∏è';if(_0x489cf6['startsWith'](_0x503c7(0x167)))return'üé¨';if(_0x489cf6['startsWith']('audio/'))return'üéµ';if(_0x489cf6['includes'](_0x503c7(0x219)))return'üìÑ';if(_0x489cf6[_0x503c7(0x151)](_0x503c7(0x163))||_0x489cf6['includes'](_0x503c7(0x1a5))||_0x489cf6[_0x503c7(0x151)]('7z'))return'üì¶';if(_0x489cf6[_0x503c7(0x151)]('text')||_0x489cf6[_0x503c7(0x151)]('document'))return'üìù';return'üìÅ';}['formatFileSize'](_0x47c68c){const _0x623c00=_0x3844e9;if(_0x47c68c===0x0)return _0x623c00(0x1fc);const _0x270466=0x400,_0x5adfac=[_0x623c00(0x2bf),'KB','MB','GB','TB'],_0x13797c=Math['floor'](Math[_0x623c00(0x147)](_0x47c68c)/Math[_0x623c00(0x147)](_0x270466));return parseFloat((_0x47c68c/Math['pow'](_0x270466,_0x13797c))[_0x623c00(0x27f)](0x2))+'\x20'+_0x5adfac[_0x13797c];}['escapeHtml'](_0x159f0c){const _0x115fa9=_0x3844e9,_0x2e456b=document[_0x115fa9(0x155)]('div');return _0x2e456b[_0x115fa9(0x276)]=_0x159f0c,_0x2e456b[_0x115fa9(0x244)];}['generateRoomId'](){const _0x466282='abcdefghijklmnopqrstuvwxyz0123456789';let _0x4f0654='';for(let _0x2fee6a=0x0;_0x2fee6a<0xc;_0x2fee6a++)_0x4f0654+=_0x466282['charAt'](Math['floor'](Math['random']()*_0x466282['length']));return _0x4f0654;}['getWebSocketUrl'](){const _0x8014b7=_0x3844e9,_0x418e30=window['location'][_0x8014b7(0x24c)]==='https:'?'wss:':_0x8014b7(0x285);return _0x418e30+'//'+window['location']['host']+'/ws';}[_0x3844e9(0x22e)](_0x6bc687=0x3){return new Promise((_0x9db41f,_0x1d27b4)=>{const _0x2f4811=_0x5cf0,_0x1c647b=this[_0x2f4811(0x14a)]();console['log']('Connecting\x20to:',_0x1c647b);const _0x5e563e=_0x2c9a85=>{this['ws']=new WebSocket(_0x1c647b),this['ws']['onopen']=()=>{console['log']('WebSocket\x20connected'),this['reconnectAttempts']=0x0,_0x9db41f();},this['ws']['onclose']=()=>{const _0x33b11b=_0x5cf0;console[_0x33b11b(0x147)](_0x33b11b(0x2ac)),this[_0x33b11b(0x1f0)]&&this['roomId']&&this[_0x33b11b(0x26a)]();},this['ws']['onerror']=_0x21b1c2=>{const _0x40ba57=_0x5cf0;console[_0x40ba57(0x195)](_0x40ba57(0x1ee),_0x21b1c2),_0x2c9a85<_0x6bc687?(console['log']('Retrying...\x20('+(_0x2c9a85+0x1)+'/'+_0x6bc687+')'),setTimeout(()=>_0x5e563e(_0x2c9a85+0x1),0x3e8)):_0x1d27b4(new Error('Connection\x20failed\x20after\x20'+_0x6bc687+'\x20attempts'));},this['ws']['onmessage']=_0x2760e5=>{const _0x39d54c=_0x5cf0;try{this[_0x39d54c(0x23a)](JSON[_0x39d54c(0x221)](_0x2760e5['data']));}catch(_0x2d9544){console[_0x39d54c(0x195)](_0x39d54c(0x146),_0x2d9544);}},setTimeout(()=>{const _0x27fb64=_0x5cf0;this['ws']['readyState']!==WebSocket[_0x27fb64(0x14e)]&&_0x2c9a85>=_0x6bc687&&(this['ws']['close'](),_0x1d27b4(new Error('Connection\x20timeout')));},0x2710);};_0x5e563e(0x1);});}[_0x3844e9(0x26a)](){const _0x15b608=_0x3844e9;if(this['reconnectAttempts']>=0x5){this['showNotification'](_0x15b608(0x1d2),'error');return;}this['reconnectAttempts']=(this[_0x15b608(0x1df)]||0x0)+0x1,console['log']('Reconnecting...\x20attempt',this['reconnectAttempts']),setTimeout(async()=>{const _0x48c422=_0x15b608;try{await this[_0x48c422(0x22e)](0x1),this[_0x48c422(0x1f0)]&&this['roomId']&&this[_0x48c422(0x194)]({'type':_0x48c422(0x16c),'roomId':this['roomId']});}catch(_0x478571){this['attemptReconnect']();}},0x7d0);}[_0x3844e9(0x194)](_0xbbdd68){const _0x1e5988=_0x3844e9;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws'][_0x1e5988(0x194)](JSON[_0x1e5988(0x1fb)](_0xbbdd68));}async[_0x3844e9(0x23a)](_0xaddddb){const _0x495d35=_0x3844e9;console[_0x495d35(0x147)]('Received:',_0xaddddb['type']);switch(_0xaddddb['type']){case'room-created':console[_0x495d35(0x147)](_0x495d35(0x241),_0xaddddb[_0x495d35(0x260)]);if(this[_0x495d35(0x2c8)])this[_0x495d35(0x2c8)]();break;case _0x495d35(0x230):this[_0x495d35(0x225)](_0x495d35(0x27e));break;case _0x495d35(0x2b2):this['isHost']&&(this['showNotification'](_0x495d35(0x1d7),'success'),this[_0x495d35(0x16d)]('Establishing\x20connection...'),this[_0x495d35(0x1ab)](),await this['createAndSendOffer']());break;case _0x495d35(0x179):this[_0x495d35(0x1ff)]?this['updateConnectionStatus']('Peer\x20disconnected'):(this[_0x495d35(0x196)](_0xaddddb['message']||_0x495d35(0x26b),_0x495d35(0x195)),this['updateTransferStatus'](_0x495d35(0x26b)),this[_0x495d35(0x2be)](_0x495d35(0x26b)));break;case _0x495d35(0x240):await this['handleOffer'](_0xaddddb);break;case'answer':await this[_0x495d35(0x2c5)](_0xaddddb);break;case _0x495d35(0x280):await this[_0x495d35(0x2bd)](_0xaddddb);break;case'retry-relay':await this['handleRetryRelay']();break;case'password-required':this['pendingRoomId']=_0xaddddb['roomId'],this['showPasswordPrompt']();break;case _0x495d35(0x190):this[_0x495d35(0x196)](_0xaddddb[_0x495d35(0x20e)]||'Room\x20closed',_0x495d35(0x28e)),this['updateTransferStatus'](_0xaddddb['reason']||_0x495d35(0x1f4));break;case _0x495d35(0x195):this[_0x495d35(0x196)](_0xaddddb['message'],'error');if(_0xaddddb['message']===_0x495d35(0x1eb))this['updateTransferStatus']('Share\x20link\x20expired\x20or\x20invalid.\x20Ask\x20sender\x20for\x20a\x20new\x20link.');else _0xaddddb['message']==='Incorrect\x20password'?this['showPasswordPrompt'](!![]):this[_0x495d35(0x225)](_0xaddddb['message']);break;}}['showPasswordPrompt'](_0x3979a6=![]){const _0x443030=_0x3844e9,_0x193750=prompt(_0x3979a6?_0x443030(0x212):'This\x20file\x20is\x20password\x20protected.\x20Enter\x20password:');_0x193750?this['send']({'type':_0x443030(0x1cb),'roomId':this[_0x443030(0x29b)],'password':_0x193750}):(this['showNotification']('Password\x20required\x20to\x20access\x20files','error'),this['updateTransferStatus']('Access\x20denied\x20-\x20password\x20required'));}[_0x3844e9(0x171)](){const _0x5076a1=_0x3844e9,_0xc5f433=document[_0x5076a1(0x16f)]('downloadLimit'),_0x50dab5=document['getElementById'](_0x5076a1(0x261)),_0x19c260=document[_0x5076a1(0x16f)]('enablePassword'),_0x5d8ae0=document['getElementById']('sharePassword');return{'maxDownloads':_0xc5f433?parseInt(_0xc5f433[_0x5076a1(0x19f)]):0x1,'expiryHours':_0x50dab5?parseInt(_0x50dab5['value']):0x18,'password':_0x19c260?.[_0x5076a1(0x165)]&&_0x5d8ae0?.[_0x5076a1(0x19f)]?_0x5d8ae0[_0x5076a1(0x19f)]:null};}[_0x3844e9(0x20c)](){const _0x100e03=_0x3844e9;return{'recipients':document['getElementById']('recipientEmails')?.[_0x100e03(0x19f)]||'','senderEmail':document[_0x100e03(0x16f)]('senderEmail')?.[_0x100e03(0x19f)]||'','title':document[_0x100e03(0x16f)]('transferTitle')?.['value']||'','message':document['getElementById']('transferMessage')?.[_0x100e03(0x19f)]||''};}['validateEmail'](_0xa3319e){const _0x15533e=_0x3844e9;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x15533e(0x229)](_0xa3319e[_0x15533e(0x153)]());}async[_0x3844e9(0x2ba)](_0x38cfe6,_0x5d483d){const _0x574287=_0x3844e9;try{const _0x548dff=this['files']['reduce']((_0x32a51b,_0x443f19)=>_0x32a51b+_0x443f19['size'],0x0),_0x3cfc82=await fetch('/api/send-email',{'method':'POST','headers':{'Content-Type':_0x574287(0x1c3)},'body':JSON['stringify']({'recipients':_0x5d483d[_0x574287(0x1f9)],'senderEmail':_0x5d483d['senderEmail'],'title':_0x5d483d['title'],'message':_0x5d483d['message'],'link':_0x38cfe6,'fileCount':this[_0x574287(0x14b)]['length'],'totalSize':this['formatFileSize'](_0x548dff),'password':this[_0x574287(0x1c5)][_0x574287(0x2c4)],'expiryHours':this['shareOptions'][_0x574287(0x186)]})});if(!_0x3cfc82['ok']){const _0x4c5df3=await _0x3cfc82['json']();throw new Error(_0x4c5df3[_0x574287(0x2d4)]||_0x574287(0x1a7));}return await _0x3cfc82[_0x574287(0x234)]();}catch(_0x1fe940){console[_0x574287(0x195)]('Email\x20send\x20error:',_0x1fe940);throw _0x1fe940;}}async['createShareLink'](){const _0x3137dc=_0x3844e9;if(this[_0x3137dc(0x14b)][_0x3137dc(0x2c7)]===0x0){this['showNotification'](_0x3137dc(0x13b),_0x3137dc(0x195));return;}const _0x11fed6=document['getElementById']('enablePassword'),_0x3d5d56=document[_0x3137dc(0x16f)]('sharePassword');if(_0x11fed6?.[_0x3137dc(0x165)]&&!_0x3d5d56?.['value']){this['showNotification']('Please\x20enter\x20a\x20password','error');return;}if(this['transferMode']===_0x3137dc(0x149)){const _0xcd5896=this[_0x3137dc(0x20c)]();if(!_0xcd5896['recipients'][_0x3137dc(0x153)]()){this[_0x3137dc(0x196)]('Please\x20enter\x20recipient\x20email(s)','error');return;}const _0x15df0f=_0xcd5896['recipients']['split'](',')['map'](_0x253ffc=>_0x253ffc[_0x3137dc(0x153)]())[_0x3137dc(0x249)](_0x31ff44=>_0x31ff44),_0x50fb51=_0x15df0f['filter'](_0x58456a=>!this[_0x3137dc(0x2bc)](_0x58456a));if(_0x50fb51['length']>0x0){this[_0x3137dc(0x196)](_0x3137dc(0x18b)+_0x50fb51['join'](',\x20'),'error');return;}if(!_0xcd5896[_0x3137dc(0x17f)][_0x3137dc(0x153)]()){this['showNotification']('Please\x20enter\x20your\x20email','error');return;}if(!this[_0x3137dc(0x2bc)](_0xcd5896['senderEmail'])){this[_0x3137dc(0x196)](_0x3137dc(0x281),'error');return;}}this[_0x3137dc(0x1f0)]=!![],this[_0x3137dc(0x260)]=this['generateRoomId'](),this[_0x3137dc(0x1c5)]=this['getShareOptions']();try{await this[_0x3137dc(0x22e)]();const _0xd7b5af=new Promise((_0x58d2bf,_0x267a9f)=>{this['onRoomCreated']=_0x58d2bf,setTimeout(()=>_0x267a9f(new Error('Room\x20creation\x20timeout')),0x2710);});this['send']({'type':_0x3137dc(0x16c),'roomId':this['roomId'],'options':this[_0x3137dc(0x1c5)]}),await _0xd7b5af;const _0x31fba7=document['getElementById']('shareLinkSection'),_0x3712b5=document[_0x3137dc(0x16f)]('shareLink'),_0x3c9dc8=window[_0x3137dc(0x192)]['pathname']['replace'](/index\.html$/,''),_0xdfdf=''+window['location']['origin']+_0x3c9dc8+'?Q-Gate='+this['roomId'];let _0x1f194d=![];if(this['transferMode']==='email'){const _0x171b42=this['getEmailData']();try{await this['sendEmailNotification'](_0xdfdf,_0x171b42),_0x1f194d=!![];}catch(_0x1870b2){this['showNotification'](_0x3137dc(0x2d3)+_0x1870b2[_0x3137dc(0x2d4)],'error');}}if(_0x31fba7&&_0x3712b5){_0x3712b5['value']=_0xdfdf,_0x31fba7[_0x3137dc(0x29d)]['display']='block';const _0x4fd62d=document[_0x3137dc(0x29c)]('.hero-card');if(_0x4fd62d)_0x4fd62d['classList'][_0x3137dc(0x1fa)](_0x3137dc(0x2d2));const _0x2f497f=document['querySelector'](_0x3137dc(0x28a)),_0x4e2050=document[_0x3137dc(0x29c)](_0x3137dc(0x1dd)),_0x3462c6=document[_0x3137dc(0x29c)]('.radar-loader');if(this['transferMode']==='email'&&_0x1f194d){if(_0x2f497f)_0x2f497f[_0x3137dc(0x276)]='Email\x20Sent\x20Successfully!';if(_0x4e2050)_0x4e2050['textContent']='The\x20recipient\x20will\x20receive\x20an\x20email\x20with\x20the\x20download\x20link.';if(_0x3462c6)_0x3462c6['innerHTML']='<div\x20style=\x22font-size:\x2048px;\x22>‚úì</div>';}else{if(this[_0x3137dc(0x21c)]===_0x3137dc(0x149)&&!_0x1f194d){if(_0x2f497f)_0x2f497f[_0x3137dc(0x276)]='Email\x20Failed\x20-\x20Share\x20Link\x20Instead';if(_0x4e2050)_0x4e2050[_0x3137dc(0x276)]='Copy\x20this\x20link\x20and\x20share\x20it\x20manually\x20with\x20the\x20recipient.';}}setTimeout(()=>{const _0x651d9a=_0x3137dc;_0x31fba7[_0x651d9a(0x21f)]({'behavior':_0x651d9a(0x218),'block':'center'});},0x64),this['generateAnimatedQRCode'](_0xdfdf);}await this['initializeWebRTC']();if(this['transferMode']==='email'&&_0x1f194d)this['showNotification']('Email\x20sent!\x20Waiting\x20for\x20recipient\x20to\x20download...',_0x3137dc(0x2c6));else this[_0x3137dc(0x21c)]==='link'&&this['showNotification'](_0x3137dc(0x2ae),_0x3137dc(0x2c6));this[_0x3137dc(0x298)]();}catch(_0x2d502a){console[_0x3137dc(0x195)]('Error:',_0x2d502a),this[_0x3137dc(0x196)](_0x3137dc(0x1c1)+_0x2d502a['message'],'error');}}[_0x3844e9(0x298)](){this['keepaliveInterval']=setInterval(()=>{const _0x333a60=_0x5cf0;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this[_0x333a60(0x194)]({'type':'ping'});},0x61a8);}[_0x3844e9(0x15a)](_0x236194){const _0x333941=_0x3844e9,_0x247b15=document[_0x333941(0x16f)](_0x333941(0x199)),_0x37e34c=document[_0x333941(0x29c)]('.qr-hint');if(!_0x247b15)return;const _0x133804=[_0x333941(0x1cf),_0x333941(0x215),_0x333941(0x2a0),'Entangling\x20particles...','Calibrating\x20tunnel\x20coordinates...',_0x333941(0x198),_0x333941(0x169),'Quantum\x20link\x20established!'];_0x247b15[_0x333941(0x244)]=_0x333941(0x1a9)+_0x133804[0x0]+_0x333941(0x265);if(_0x37e34c)_0x37e34c[_0x333941(0x29d)]['opacity']='0';let _0x283255=0x0;const _0x3b8f28=setInterval(()=>{const _0x4ae8d0=_0x333941;_0x283255++;const _0x5369fc=_0x247b15[_0x4ae8d0(0x29c)]('.qr-status-text');_0x5369fc&&_0x283255<_0x133804['length']-0x1&&(_0x5369fc['style']['opacity']='0',setTimeout(()=>{_0x5369fc['textContent']=_0x133804[_0x283255],_0x5369fc['style']['opacity']='1';},0xc8));},0x3e8);setTimeout(()=>{const _0x34d0b4=_0x333941;clearInterval(_0x3b8f28);const _0x3cfdc0=_0x247b15['querySelector']('.qr-status-text');_0x3cfdc0&&(_0x3cfdc0['style'][_0x34d0b4(0x1cd)]='0',setTimeout(()=>{const _0x556a8b=_0x34d0b4;_0x3cfdc0[_0x556a8b(0x276)]=_0x133804[_0x133804['length']-0x1],_0x3cfdc0[_0x556a8b(0x29d)]['opacity']='1';},0xc8)),setTimeout(()=>{const _0x8a2971=_0x34d0b4;this[_0x8a2971(0x14d)](_0x236194),_0x37e34c&&(_0x37e34c['style']['opacity']='1',_0x37e34c['style']['transition']='opacity\x200.5s\x20ease');},0x3e8);},0x1b58);}[_0x3844e9(0x14d)](_0x3c2018){const _0x32b757=_0x3844e9,_0x3128f9=document[_0x32b757(0x16f)](_0x32b757(0x199));if(!_0x3128f9)return;const _0x36fee9=qrcode(0x0,'M');_0x36fee9['addData'](_0x3c2018),_0x36fee9[_0x32b757(0x1e9)]();const _0x590fc1=_0x36fee9['getModuleCount'](),_0x708be=0x5,_0x4fe5f1=_0x590fc1*_0x708be,_0x1bc9ee=0xf,_0xb0b664=_0x4fe5f1+_0x1bc9ee*0x2;let _0x443e76=_0x32b757(0x26c)+_0xb0b664+'\x22\x20height=\x22'+_0xb0b664+'\x22\x20viewBox=\x220\x200\x20'+_0xb0b664+'\x20'+_0xb0b664+_0x32b757(0x250);_0x443e76+=_0x32b757(0x18f);let _0x1228c0=0x0;for(let _0x2c593e=0x0;_0x2c593e<_0x590fc1;_0x2c593e++){for(let _0x38e6a6=0x0;_0x38e6a6<_0x590fc1;_0x38e6a6++){if(_0x36fee9[_0x32b757(0x2a1)](_0x2c593e,_0x38e6a6)){const _0x8e4da1=_0x1bc9ee+_0x38e6a6*_0x708be+_0x708be/0x2,_0x3cd36f=_0x1bc9ee+_0x2c593e*_0x708be+_0x708be/0x2,_0x4fef14=_0x1228c0*0x5%0x1f4,_0x5ef8f0=this[_0x32b757(0x18e)](_0x2c593e,_0x38e6a6,_0x590fc1),_0x48965a=_0x5ef8f0?_0x708be/0x2:_0x708be/2.5;_0x443e76+='<circle\x20cx=\x22'+_0x8e4da1+_0x32b757(0x237)+_0x3cd36f+_0x32b757(0x256)+_0x48965a+'\x22\x20fill=\x22#4ade80\x22\x20class=\x22qr-dot\x22\x20style=\x22animation-delay:\x20'+_0x4fef14+'ms\x22>',_0x443e76+='<animate\x20attributeName=\x22opacity\x22\x20values=\x220;1;1\x22\x20dur=\x220.5s\x22\x20begin=\x22'+_0x4fef14+'ms\x22\x20fill=\x22freeze\x22/>',_0x443e76+=_0x32b757(0x164),_0x1228c0++;}}}_0x443e76+=_0x32b757(0x15c),_0x3128f9['innerHTML']=_0x443e76+_0x32b757(0x1da);}['isQRCorner'](_0xf7b92d,_0xcc3d91,_0x1959ba){const _0x1f15aa=0x7;if(_0xf7b92d<_0x1f15aa&&_0xcc3d91<_0x1f15aa)return!![];if(_0xf7b92d<_0x1f15aa&&_0xcc3d91>=_0x1959ba-_0x1f15aa)return!![];if(_0xf7b92d>=_0x1959ba-_0x1f15aa&&_0xcc3d91<_0x1f15aa)return!![];return![];}async['copyShareLink'](){const _0xfb9700=_0x3844e9,_0x56eb2a=document['getElementById']('shareLink');if(!_0x56eb2a)return;try{await navigator['clipboard'][_0xfb9700(0x21e)](_0x56eb2a['value']),this[_0xfb9700(0x196)]('Link\x20copied!\x20Waiting\x20for\x20receiver...',_0xfb9700(0x2c6));}catch(_0x280549){_0x56eb2a['select'](),document[_0xfb9700(0x243)]('copy'),this[_0xfb9700(0x196)](_0xfb9700(0x141),'success');}}[_0x3844e9(0x1ab)](){const _0x27f2f7=_0x3844e9,_0x596fee=document['getElementById']('transferSection');_0x596fee&&(_0x596fee['style']['display']=_0x27f2f7(0x1d8),setTimeout(()=>{const _0x114224=_0x27f2f7;_0x596fee['scrollIntoView']({'behavior':_0x114224(0x218),'block':'center'});},0x64));}['checkUrlForRoom'](){const _0x5278a2=_0x3844e9,_0x44b9be=new URLSearchParams(window[_0x5278a2(0x192)][_0x5278a2(0x222)]),_0x3cb65b=_0x44b9be[_0x5278a2(0x217)](_0x5278a2(0x246))||_0x44b9be[_0x5278a2(0x217)](_0x5278a2(0x2cc));_0x3cb65b&&(this[_0x5278a2(0x1f0)]=![],this['roomId']=_0x3cb65b,this[_0x5278a2(0x185)](),setTimeout(()=>this['joinRoom'](),0x1f4));}async[_0x3844e9(0x154)](){const _0x4a889a=_0x3844e9;try{this['updateTransferStatus'](_0x4a889a(0x275)),await this[_0x4a889a(0x22e)](),await this[_0x4a889a(0x273)](),this['send']({'type':'join-room','roomId':this['roomId']}),this[_0x4a889a(0x225)](_0x4a889a(0x1fe));}catch(_0x1d2009){console['error'](_0x4a889a(0x191),_0x1d2009),this['showNotification'](_0x4a889a(0x1ce)+_0x1d2009['message'],'error'),this['updateTransferStatus']('Connection\x20failed');}}['showReceiverMode'](){const _0x1da721=_0x3844e9,_0x4214b4=document['querySelector'](_0x1da721(0x24b)),_0x3aba05=document[_0x1da721(0x29c)](_0x1da721(0x2af)),_0x409b56=document['getElementById']('dropZone'),_0x376354=document[_0x1da721(0x16f)]('selectedFiles'),_0x12d48=document['getElementById'](_0x1da721(0x27b));if(_0x4214b4)_0x4214b4['innerHTML']='Receiving\x20<span\x20class=\x22highlight\x22>Files</span>';if(_0x3aba05)_0x3aba05['textContent']='Connecting\x20to\x20sender...';if(_0x409b56)_0x409b56['style']['display']=_0x1da721(0x1c0);if(_0x376354)_0x376354['style']['display']='none';if(_0x12d48)_0x12d48['style'][_0x1da721(0x156)]='none';const _0x59c819=document['getElementById'](_0x1da721(0x213));_0x59c819&&(_0x59c819[_0x1da721(0x29d)][_0x1da721(0x156)]=_0x1da721(0x1d8),this[_0x1da721(0x225)](_0x1da721(0x275)));}[_0x3844e9(0x16d)](_0x64fc2e){const _0x524190=document['querySelector']('.status-title');if(_0x524190)_0x524190['textContent']=_0x64fc2e;}async[_0x3844e9(0x273)](_0x216229=![]){const _0x9181c0=_0x3844e9;this[_0x9181c0(0x19b)]&&(clearTimeout(this['connectionTimeout']),this['connectionTimeout']=null);this['forceRelayMode']=_0x216229,this['connectionAttempt']++,console['log'](_0x9181c0(0x1b7)+this[_0x9181c0(0x1db)]+_0x9181c0(0x20a)+_0x216229+')');const _0x1bf787=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x9181c0(0x160)}];let _0x791404=_0x1bf787;if(this['cachedIceServers'])_0x791404=this['cachedIceServers'],console[_0x9181c0(0x147)](_0x9181c0(0x27c));else try{const _0x26b5dc=await fetch('/api/turn-credentials'),_0x10a907=await _0x26b5dc['json']();Array['isArray'](_0x10a907)&&_0x10a907['length']>0x0?(_0x791404=_0x10a907,this[_0x9181c0(0x20d)]=_0x10a907,console['log'](_0x9181c0(0x1e3),_0x791404[_0x9181c0(0x2c7)],'servers'),_0x791404[_0x9181c0(0x239)]((_0x2184dc,_0x5818fe)=>{const _0xca9a8b=_0x9181c0;console['log']('FileShare:\x20ICE\x20Server\x20'+_0x5818fe+':',JSON[_0xca9a8b(0x1fb)](_0x2184dc));})):console['warn'](_0x9181c0(0x1bc));}catch(_0x132784){console[_0x9181c0(0x195)](_0x9181c0(0x21a),_0x132784);}const _0x27fa3e=_0x216229?'relay':_0x9181c0(0x26e);console['log'](_0x9181c0(0x178)+_0x27fa3e);const _0x4f70de={'iceServers':_0x791404,'iceCandidatePoolSize':0xa,'iceTransportPolicy':_0x27fa3e};this[_0x9181c0(0x24a)]=new RTCPeerConnection(_0x4f70de),this['peerConnection']['onicecandidate']=_0x40a920=>{const _0x48410a=_0x9181c0;_0x40a920['candidate']&&this[_0x48410a(0x194)]({'type':_0x48410a(0x280),'roomId':this['roomId'],'candidate':_0x40a920[_0x48410a(0x22a)]});},this['peerConnection']['onconnectionstatechange']=async()=>{const _0x4589a3=_0x9181c0,_0x5bcb7e=this[_0x4589a3(0x24a)]['connectionState'];console[_0x4589a3(0x147)]('Connection\x20state:',_0x5bcb7e);if(_0x5bcb7e===_0x4589a3(0x18d))this['updateTransferStatus']('Establishing\x20P2P\x20connection...'),this[_0x4589a3(0x2be)](_0x4589a3(0x275)),!this['forceRelayMode']&&this['connectionAttempt']<this[_0x4589a3(0x1ae)]&&(this['connectionTimeout']=setTimeout(()=>{const _0x363c72=_0x4589a3;this[_0x363c72(0x24a)]&&this['peerConnection'][_0x363c72(0x17c)]==='connecting'&&(console['log']('FileShare:\x20Connection\x20timeout,\x20retrying\x20with\x20relay-only\x20mode...'),this['retryWithRelayMode']());},0x3a98));else{if(_0x5bcb7e==='connected'){this[_0x4589a3(0x19b)]&&(clearTimeout(this['connectionTimeout']),this['connectionTimeout']=null);const _0x379ff3=await this['detectConnectionType']();console['log']('Connection\x20type\x20detected:',_0x379ff3);_0x379ff3===_0x4589a3(0x278)?(this[_0x4589a3(0x196)]('Connected\x20via\x20relay\x20server','info'),this[_0x4589a3(0x2be)]('Connected\x20(Relayed)'),this['showRelayWarning']()):(this['showNotification']('Direct\x20P2P\x20connected!','success'),this[_0x4589a3(0x2be)](_0x4589a3(0x2ca)),this['showDirectConnectionBadge']());if(this[_0x4589a3(0x1f0)])this['updateShareStatus'](_0x4589a3(0x2b3));}else{if(_0x5bcb7e==='failed'||_0x5bcb7e===_0x4589a3(0x25f)){this['connectionTimeout']&&(clearTimeout(this[_0x4589a3(0x19b)]),this[_0x4589a3(0x19b)]=null);if(this['transferComplete'])console[_0x4589a3(0x147)]('Connection\x20closed\x20after\x20successful\x20transfer'),this[_0x4589a3(0x2be)](_0x4589a3(0x2c2));else _0x5bcb7e==='failed'?!this[_0x4589a3(0x22f)]&&this[_0x4589a3(0x1db)]<this['maxConnectionAttempts']?(console[_0x4589a3(0x147)](_0x4589a3(0x1e6)),this[_0x4589a3(0x19d)]()):(this[_0x4589a3(0x196)](_0x4589a3(0x29e),'error'),this[_0x4589a3(0x225)](_0x4589a3(0x28f)),this[_0x4589a3(0x2be)](_0x4589a3(0x152))):(this['updateTransferStatus'](_0x4589a3(0x158)),this[_0x4589a3(0x2be)](_0x4589a3(0x1b6)));}}}},this[_0x9181c0(0x24a)]['oniceconnectionstatechange']=()=>{const _0x123f1a=_0x9181c0,_0x309683=this[_0x123f1a(0x24a)]['iceConnectionState'];console['log'](_0x123f1a(0x205),_0x309683);if(_0x309683===_0x123f1a(0x25b))this['updateTransferStatus'](_0x123f1a(0x257));else _0x309683==='failed'&&!this['transferComplete']&&(!this[_0x123f1a(0x22f)]&&this['connectionAttempt']<this[_0x123f1a(0x1ae)]?(console[_0x123f1a(0x147)](_0x123f1a(0x1d3)),this[_0x123f1a(0x19d)]()):(this[_0x123f1a(0x196)]('Network\x20connection\x20failed',_0x123f1a(0x195)),this['updateTransferStatus'](_0x123f1a(0x200))));},this[_0x9181c0(0x1f0)]?(this[_0x9181c0(0x251)]=this[_0x9181c0(0x24a)][_0x9181c0(0x271)](_0x9181c0(0x168),{'ordered':!![]}),this[_0x9181c0(0x1e2)]()):this['peerConnection'][_0x9181c0(0x1cc)]=_0x3b6a16=>{this['dataChannel']=_0x3b6a16['channel'],this['setupDataChannel']();};}async[_0x3844e9(0x19d)](){const _0x5652ca=_0x3844e9;console[_0x5652ca(0x147)]('FileShare:\x20Retrying\x20connection\x20with\x20relay-only\x20mode\x20(VPN\x20fallback)...'),this[_0x5652ca(0x196)]('Trying\x20VPN-compatible\x20mode...',_0x5652ca(0x28e)),this[_0x5652ca(0x225)](_0x5652ca(0x272)),this[_0x5652ca(0x2be)]('Switching\x20to\x20relay\x20mode...'),this['peerConnection']&&(this[_0x5652ca(0x24a)]['onicecandidate']=null,this['peerConnection'][_0x5652ca(0x2b0)]=null,this['peerConnection'][_0x5652ca(0x1d9)]=null,this[_0x5652ca(0x24a)]['ondatachannel']=null,this[_0x5652ca(0x24a)]['close'](),this[_0x5652ca(0x24a)]=null),this[_0x5652ca(0x251)]&&(this['dataChannel']['close'](),this[_0x5652ca(0x251)]=null),await this[_0x5652ca(0x273)](!![]),this['isHost']?(this[_0x5652ca(0x194)]({'type':_0x5652ca(0x27d),'roomId':this[_0x5652ca(0x260)]}),setTimeout(()=>{const _0x18daf8=_0x5652ca;this[_0x18daf8(0x248)]();},0x1f4)):this[_0x5652ca(0x194)]({'type':_0x5652ca(0x27d),'roomId':this[_0x5652ca(0x260)]});}async['handleRetryRelay'](){const _0x3d502b=_0x3844e9;console[_0x3d502b(0x147)]('FileShare:\x20Received\x20retry-relay\x20signal,\x20switching\x20to\x20relay\x20mode...'),this['showNotification'](_0x3d502b(0x2c9),'info'),this['updateTransferStatus']('Switching\x20to\x20relay\x20mode...'),this['peerConnection']&&(this[_0x3d502b(0x24a)]['onicecandidate']=null,this[_0x3d502b(0x24a)][_0x3d502b(0x2b0)]=null,this[_0x3d502b(0x24a)]['oniceconnectionstatechange']=null,this['peerConnection']['ondatachannel']=null,this['peerConnection']['close'](),this[_0x3d502b(0x24a)]=null),this[_0x3d502b(0x251)]&&(this[_0x3d502b(0x251)]['close'](),this[_0x3d502b(0x251)]=null),await this['initializeWebRTC'](!![]),this['isHost']&&setTimeout(()=>{const _0x3c1bb1=_0x3d502b;this[_0x3c1bb1(0x248)]();},0x1f4);}async['createAndSendOffer'](){const _0x43a7a7=_0x3844e9;try{const _0x3bc087=await this[_0x43a7a7(0x24a)]['createOffer']();await this['peerConnection'][_0x43a7a7(0x266)](_0x3bc087),this[_0x43a7a7(0x194)]({'type':'offer','roomId':this[_0x43a7a7(0x260)],'sdp':_0x3bc087[_0x43a7a7(0x2b6)]});}catch(_0x10f551){console['error']('Offer\x20error:',_0x10f551),this['showNotification'](_0x43a7a7(0x152),'error');}}async[_0x3844e9(0x21b)](_0x4bbd5a){const _0xef2166=_0x3844e9;try{await this[_0xef2166(0x24a)][_0xef2166(0x1d0)](new RTCSessionDescription({'type':_0xef2166(0x240),'sdp':_0x4bbd5a['sdp']}));const _0xdf2d64=await this['peerConnection']['createAnswer']();await this['peerConnection']['setLocalDescription'](_0xdf2d64),this['send']({'type':_0xef2166(0x233),'roomId':this[_0xef2166(0x260)],'sdp':_0xdf2d64['sdp']}),this[_0xef2166(0x225)](_0xef2166(0x1f5)),this['updateConnectionStatus']('Waiting\x20for\x20files...');}catch(_0x18143d){console['error']('Offer\x20handling\x20error:',_0x18143d);}}async['handleAnswer'](_0x5e4dd6){const _0x25d5d3=_0x3844e9;try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x25d5d3(0x233),'sdp':_0x5e4dd6['sdp']}));}catch(_0x4e907c){console['error'](_0x25d5d3(0x209),_0x4e907c);}}async['handleIceCandidate'](_0xec302b){const _0x2b8f37=_0x3844e9;try{_0xec302b['candidate']&&await this[_0x2b8f37(0x24a)][_0x2b8f37(0x2b7)](new RTCIceCandidate(_0xec302b['candidate']));}catch(_0x224958){console[_0x2b8f37(0x195)]('ICE\x20error:',_0x224958);}}['setupDataChannel'](){const _0x29560e=_0x3844e9;this['dataChannel'][_0x29560e(0x1b4)]=_0x29560e(0x208),this['dataChannel'][_0x29560e(0x183)]=()=>{const _0x3de5b6=_0x29560e;console[_0x3de5b6(0x147)](_0x3de5b6(0x1b2)),this[_0x3de5b6(0x1f0)]?(this[_0x3de5b6(0x196)](_0x3de5b6(0x1be),_0x3de5b6(0x2c6)),this[_0x3de5b6(0x2be)]('Sending\x20files...'),this[_0x3de5b6(0x282)]()):(this['updateTransferStatus']('Receiving\x20files...'),this[_0x3de5b6(0x2be)](_0x3de5b6(0x1d5)));},this[_0x29560e(0x251)]['onclose']=()=>console[_0x29560e(0x147)]('Data\x20channel\x20closed'),this[_0x29560e(0x251)][_0x29560e(0x1ba)]=_0x143d2f=>{const _0x30184f=_0x29560e;console[_0x30184f(0x195)](_0x30184f(0x1b9),_0x143d2f),this['showNotification']('Transfer\x20error','error');},this['dataChannel']['onmessage']=_0x198008=>this['handleDataChannelMessage'](_0x198008);}async['handleDataChannelMessage'](_0x4da505){const _0x2c51a3=_0x3844e9;if(typeof _0x4da505[_0x2c51a3(0x189)]==='string'){const _0x4ac47c=JSON['parse'](_0x4da505['data']);if(_0x4ac47c['type']==='file-info')_0x4ac47c['currentIndex']===0x1&&(await this['acquireWakeLock'](),await this['acquireWebLock']()),this['receivedFileInfo']=_0x4ac47c,this['receivedChunks']=[],this[_0x2c51a3(0x1dc)]=0x0,this['transferStartTime']=Date['now'](),this[_0x2c51a3(0x225)](_0x2c51a3(0x173)+_0x4ac47c['name']+'\x20('+_0x4ac47c[_0x2c51a3(0x2a4)]+'/'+_0x4ac47c[_0x2c51a3(0x1e4)]+')'),this[_0x2c51a3(0x2cb)](_0x4ac47c[_0x2c51a3(0x25e)]);else{if(_0x4ac47c[_0x2c51a3(0x223)]==='file-complete')this[_0x2c51a3(0x258)]&&(this['receivedFilesCount']++,this['receivedTotalBytes']+=this['receivedFileInfo']['size']),this[_0x2c51a3(0x1a3)]();else{if(_0x4ac47c['type']==='all-complete'){this[_0x2c51a3(0x1ff)]=!![],this[_0x2c51a3(0x225)]('Transfer\x20Complete!'),this[_0x2c51a3(0x2be)]('All\x20files\x20received\x20successfully'),this[_0x2c51a3(0x235)](0x64),this['showNotification'](_0x2c51a3(0x227),'success');const _0x3bc96e=Date['now']()-this[_0x2c51a3(0x142)];window['globalStats']&&this['receivedFilesCount']>0x0&&window['globalStats'][_0x2c51a3(0x2ce)](this['receivedFilesCount'],this['receivedTotalBytes'],_0x3bc96e);if(this['isUsingRelay']&&this[_0x2c51a3(0x228)]>0x0){const _0x2d3b07=this[_0x2c51a3(0x1f7)](this['receivedTotalBytes']);console['log'](_0x2c51a3(0x2a9),this[_0x2c51a3(0x24e)](_0x2d3b07));}if(window['statsWidgets']&&this['receivedFilesCount']>0x0){const _0x2e4aee=this['receivedTotalBytes']/(_0x3bc96e/0x3e8)/(0x400*0x400);window[_0x2c51a3(0x150)][_0x2c51a3(0x236)](this[_0x2c51a3(0x1e5)],_0x2e4aee,_0x3bc96e);}this[_0x2c51a3(0x194)]({'type':'transfer-complete','roomId':this['roomId']}),this[_0x2c51a3(0x193)]();if(this[_0x2c51a3(0x214)])this['releaseWebLock']();}}}}else this['receivedChunks'][_0x2c51a3(0x1a4)](_0x4da505['data']),this[_0x2c51a3(0x1dc)]+=_0x4da505[_0x2c51a3(0x189)][_0x2c51a3(0x143)],this[_0x2c51a3(0x2a5)]();}async[_0x3844e9(0x282)](){const _0x2d468e=_0x3844e9,_0x5f5c6e=document[_0x2d468e(0x16f)]('transferSection');if(_0x5f5c6e)_0x5f5c6e['style'][_0x2d468e(0x156)]='block';if(this[_0x2d468e(0x1c8)]){const _0x3abb9e=await this[_0x2d468e(0x23f)]();if(!_0x3abb9e){this['updateTransferStatus']('Transfer\x20blocked\x20-\x20relay\x20limit\x20exceeded');return;}}await this['acquireWakeLock'](),await this[_0x2d468e(0x2d0)](),this['transferStartTime']=Date['now']();for(let _0x4c51c7=0x0;_0x4c51c7<this[_0x2d468e(0x14b)]['length'];_0x4c51c7++){await this['sendFile'](this['files'][_0x4c51c7],_0x4c51c7+0x1,this['files'][_0x2d468e(0x2c7)]);}this[_0x2d468e(0x251)][_0x2d468e(0x194)](JSON['stringify']({'type':'all-complete'})),this[_0x2d468e(0x1ff)]=!![],this[_0x2d468e(0x225)](_0x2d468e(0x216)),this[_0x2d468e(0x16d)]('Transfer\x20Complete!'),this['updateConnectionStatus']('All\x20files\x20sent\x20successfully'),this[_0x2d468e(0x235)](0x64),this['showNotification'](_0x2d468e(0x2a6),'success');const _0xd9bd30=this[_0x2d468e(0x14b)]['reduce']((_0x5c1d4b,_0x19cc5d)=>_0x5c1d4b+_0x19cc5d['size'],0x0),_0x307eb4=Date['now']()-this['transferStartTime'];window['globalStats']&&window['globalStats']['addTransfer'](this[_0x2d468e(0x14b)]['length'],_0xd9bd30,_0x307eb4);if(this[_0x2d468e(0x1c8)]){const _0x38bd04=this[_0x2d468e(0x1f7)](_0xd9bd30);console[_0x2d468e(0x147)](_0x2d468e(0x274),this[_0x2d468e(0x24e)](_0x38bd04));}if(window[_0x2d468e(0x150)]){const _0x44b957=_0xd9bd30/(_0x307eb4/0x3e8)/(0x400*0x400);window['statsWidgets'][_0x2d468e(0x236)](this[_0x2d468e(0x14b)][_0x2d468e(0x2c7)],_0x44b957,_0x307eb4);}this['releaseWakeLock']();if(this[_0x2d468e(0x214)])this['releaseWebLock']();}async['sendFile'](_0x50e99,_0xbd7b22,_0x1ac5c0){return new Promise(_0x3f1028=>{const _0x2ca0e7=_0x5cf0;this[_0x2ca0e7(0x251)]['send'](JSON['stringify']({'type':'file-info','name':_0x50e99[_0x2ca0e7(0x25e)],'size':_0x50e99[_0x2ca0e7(0x176)],'mimeType':_0x50e99[_0x2ca0e7(0x223)],'currentIndex':_0xbd7b22,'totalFiles':_0x1ac5c0})),this[_0x2ca0e7(0x225)](_0x2ca0e7(0x1a1)+_0x50e99['name']+'\x20('+_0xbd7b22+'/'+_0x1ac5c0+')'),this['updateCurrentFileName'](_0x50e99[_0x2ca0e7(0x25e)]);const _0x51acb9=new FileReader();let _0x56d754=0x0;this[_0x2ca0e7(0x1dc)]=0x0;const _0xe5a2aa=()=>{const _0x55f251=_0x2ca0e7;_0x51acb9[_0x55f251(0x2b8)](_0x50e99['slice'](_0x56d754,_0x56d754+this[_0x55f251(0x26f)]));};_0x51acb9['onload']=_0x5824d3=>{const _0x2f8b0b=()=>{const _0x402c5b=_0x5cf0;if(this[_0x402c5b(0x251)]['bufferedAmount']>this[_0x402c5b(0x26f)]*0x10){setTimeout(_0x2f8b0b,0xa);return;}this[_0x402c5b(0x251)][_0x402c5b(0x194)](_0x5824d3['target']['result']),this[_0x402c5b(0x1dc)]=_0x56d754+_0x5824d3['target'][_0x402c5b(0x1ec)][_0x402c5b(0x143)],_0x56d754+=this['chunkSize'],this['updateProgressBar'](Math[_0x402c5b(0x242)](Math[_0x402c5b(0x2a8)](_0x56d754,_0x50e99['size'])/_0x50e99[_0x402c5b(0x176)]*0x64)),this[_0x402c5b(0x253)](_0x50e99[_0x402c5b(0x176)]),_0x56d754<_0x50e99[_0x402c5b(0x176)]?_0xe5a2aa():(this['dataChannel'][_0x402c5b(0x194)](JSON['stringify']({'type':_0x402c5b(0x1f6)})),setTimeout(_0x3f1028,0x64));};_0x2f8b0b();},_0xe5a2aa();});}['updateProgressBar'](_0x2cba08){const _0x3e08c0=_0x3844e9,_0xbef377=document[_0x3e08c0(0x16f)](_0x3e08c0(0x290)),_0x215e95=document[_0x3e08c0(0x16f)](_0x3e08c0(0x18c));if(_0xbef377)_0xbef377[_0x3e08c0(0x29d)][_0x3e08c0(0x175)]=_0x2cba08+'%';if(_0x215e95)_0x215e95['textContent']=_0x2cba08+'%';}[_0x3844e9(0x253)](_0x5746de){const _0x1d2caf=_0x3844e9;if(!this[_0x1d2caf(0x142)])return;const _0x154601=(Date[_0x1d2caf(0x2cd)]()-this[_0x1d2caf(0x142)])/0x3e8,_0x5b23de=this[_0x1d2caf(0x1dc)]/_0x154601,_0x13062e=document[_0x1d2caf(0x16f)]('progressSpeed'),_0x20d46c=document['getElementById'](_0x1d2caf(0x15f)),_0x3bb2fa=document['getElementById'](_0x1d2caf(0x13f)),_0x28180c=document[_0x1d2caf(0x16f)]('timeLeft');if(_0x13062e)_0x13062e[_0x1d2caf(0x276)]=this['formatFileSize'](_0x5b23de)+'/s';if(_0x20d46c)_0x20d46c[_0x1d2caf(0x276)]=this['formatFileSize'](this['totalBytesTransferred']);if(_0x3bb2fa)_0x3bb2fa[_0x1d2caf(0x276)]=this['formatFileSize'](Math[_0x1d2caf(0x270)](0x0,_0x5746de-this[_0x1d2caf(0x1dc)]));if(_0x28180c&&_0x5b23de>0x0){const _0x4cf072=(_0x5746de-this[_0x1d2caf(0x1dc)])/_0x5b23de;_0x28180c['textContent']=_0x4cf072<0x3c?Math['ceil'](_0x4cf072)+'s':Math[_0x1d2caf(0x297)](_0x4cf072/0x3c)+'m';}}[_0x3844e9(0x2cb)](_0x5218a2){const _0x14030f=_0x3844e9,_0x39ca2e=document['getElementById'](_0x14030f(0x269));if(_0x39ca2e)_0x39ca2e['textContent']=_0x5218a2;}[_0x3844e9(0x2a5)](){const _0x58b0c5=_0x3844e9;if(!this[_0x58b0c5(0x258)])return;const _0x1327e5=this[_0x58b0c5(0x144)][_0x58b0c5(0x287)]((_0x3e4bb1,_0x1ea8ab)=>_0x3e4bb1+_0x1ea8ab['byteLength'],0x0);this['updateProgressBar'](Math[_0x58b0c5(0x2a8)](Math['round'](_0x1327e5/this['receivedFileInfo'][_0x58b0c5(0x176)]*0x64),0x64)),this['updateTransferSpeed'](this[_0x58b0c5(0x258)]['size']);}['assembleAndDownloadFile'](){const _0x2c5570=_0x3844e9;if(!this['receivedFileInfo']||!this['receivedChunks'][_0x2c5570(0x2c7)])return;const _0x53f228=new Blob(this[_0x2c5570(0x144)],{'type':this['receivedFileInfo'][_0x2c5570(0x207)]||_0x2c5570(0x2a2)}),_0x1070e9=URL[_0x2c5570(0x204)](_0x53f228),_0x30e50d=document['createElement']('a');_0x30e50d[_0x2c5570(0x1a0)]=_0x1070e9,_0x30e50d['download']=this['receivedFileInfo']['name'],document[_0x2c5570(0x1af)][_0x2c5570(0x1ef)](_0x30e50d),_0x30e50d[_0x2c5570(0x1de)](),document['body'][_0x2c5570(0x15d)](_0x30e50d),URL[_0x2c5570(0x1c6)](_0x1070e9),this[_0x2c5570(0x196)](_0x2c5570(0x232)+this[_0x2c5570(0x258)][_0x2c5570(0x25e)],_0x2c5570(0x2c6)),this['receivedChunks']=[],this[_0x2c5570(0x258)]=null,this[_0x2c5570(0x1dc)]=0x0,this['transferStartTime']=Date[_0x2c5570(0x2cd)]();}['updateTransferStatus'](_0x5651ab){const _0x12f8f9=_0x3844e9,_0x784ea1=document['querySelector']('.transfer-title');if(_0x784ea1)_0x784ea1['textContent']=_0x5651ab;_0x5651ab===_0x12f8f9(0x216)&&this['showTransferComplete']();}['showTransferComplete'](){const _0x29cd32=_0x3844e9,_0x97e01d=document[_0x29cd32(0x29c)](_0x29cd32(0x170)),_0x4f7ba9=document['querySelector'](_0x29cd32(0x1d6));if(_0x97e01d)_0x97e01d['classList']['add']('completed');if(_0x4f7ba9)_0x4f7ba9[_0x29cd32(0x17d)][_0x29cd32(0x15e)](_0x29cd32(0x1f8));}[_0x3844e9(0x2be)](_0x5d43e5){const _0xe3ac24=_0x3844e9,_0x4e3114=document['getElementById'](_0xe3ac24(0x27a));if(_0x4e3114)_0x4e3114['textContent']=_0x5d43e5;}[_0x3844e9(0x196)](_0x23f88b,_0x32b852='info'){const _0x33b065=_0x3844e9,_0x52d1d4=document['querySelector'](_0x33b065(0x25d));if(_0x52d1d4)_0x52d1d4['remove']();const _0x195319=document[_0x33b065(0x155)](_0x33b065(0x28b));_0x195319['className']=_0x33b065(0x2c3)+_0x32b852,_0x195319['innerHTML']=_0x33b065(0x22c)+(_0x32b852==='success'?'‚úì':_0x32b852==='error'?'‚úï':'‚Ñπ')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-message\x22>'+this[_0x33b065(0x264)](_0x23f88b)+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',document[_0x33b065(0x1af)]['appendChild'](_0x195319),setTimeout(()=>_0x195319['classList'][_0x33b065(0x15e)](_0x33b065(0x166)),0xa),setTimeout(()=>{const _0x134a2b=_0x33b065;_0x195319[_0x134a2b(0x17d)]['remove']('show'),setTimeout(()=>_0x195319[_0x134a2b(0x1fa)](),0x12c);},0xfa0);}}document['addEventListener']('DOMContentLoaded',()=>{const _0x370105=_0x3844e9;window[_0x370105(0x2ab)]=new FileShare();});function _0xc85e(){const _0x16880e=['dataset','formatRelayUsage','clearFiles','\x22\x20class=\x22qr-animated\x22>','dataChannel','1220uLGvHx','updateTransferSpeed','5223ngAHpO','showDirectConnectionBadge','\x22\x20r=\x22','Finding\x20best\x20connection\x20path...','receivedFileInfo','link','updateShareButton','checking','hasExceededRelayLimit','.notification-toast','name','disconnected','roomId','expiryTime','hideSelectedFiles','getStats','escapeHtml','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','setLocalDescription','relay-warning-banner\x20relay-limit-exceeded','screen','currentFileName','attemptReconnect','Peer\x20disconnected','<svg\x20width=\x22','globalStats','all','chunkSize','max','createDataChannel','Retrying\x20with\x20relay\x20mode...','initializeWebRTC','Relay\x20usage\x20updated:','Connecting...','textContent','Wake\x20lock\x20not\x20available:','relay','setupBackgroundSupport','connectionStatus','shareBtn','FileShare:\x20Using\x20cached\x20ICE\x20servers','retry-relay','Connected!\x20Waiting\x20for\x20sender...','toFixed','ice-candidate','Please\x20enter\x20a\x20valid\x20sender\x20email','startFileTransfer','copyShareLink','apiUrl','ws:','head','reduce','image/','selectedFiles','.status-title','div','addEventListener','modeLinkBtn','info','Connection\x20failed\x20-\x20try\x20again','progressFill','getFileIcon','slice','getRelayUsage','checkUrlForRoom','open','.global-stat-number','ceil','startKeepalive','globalTotalSessions','Connection\x20types\x20-\x20Local:\x20','pendingRoomId','querySelector','style','P2P\x20connection\x20failed.\x20Try\x20refreshing\x20both\x20devices.','MONTHLY_RELAY_LIMIT_GB','Stabilizing\x20wormhole...','isDark','application/octet-stream','change','currentIndex','updateProgress','All\x20files\x20sent!','dropZone','min','Relay\x20usage\x20updated\x20(receiver):','.features-grid','fileShare','WebSocket\x20closed','showRelayLimitExceededBanner','Share\x20link\x20created!','.hero-subtitle','onconnectionstatechange','preventDefault','peer-joined','Transfer\x20starting...','handleDragOver','wakeLock','sdp','addIceCandidate','readAsArrayBuffer','/api/stats','sendEmailNotification','relay-warning-banner','validateEmail','handleIceCandidate','updateConnectionStatus','Bytes','relayUsage','Wake\x20lock\x20released','Transfer\x20completed\x20-\x20connection\x20closed','notification-toast\x20notification-','password','handleAnswer','success','length','onRoomCreated','Peer\x20requested\x20VPN-compatible\x20mode...','Direct\x20P2P\x20Connected','updateCurrentFileName','room','now','addTransfer','currentTarget','acquireWebLock','className','data-flowing','Email\x20sending\x20failed:\x20','message','observe','Please\x20select\x20files','fileCount','close','release','remainingSize','\x22\x20title=\x22Remove\x20file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x2218\x22\x20y1=\x226\x22\x20x2=\x226\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x226\x22\x20y1=\x226\x22\x20x2=\x2218\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Link\x20copied!\x20Waiting\x20for\x20receiver...','transferStartTime','byteLength','receivedChunks','direct','Message\x20error:','log','Web\x20lock\x20not\x20available:','email','getWebSocketUrl','files','enablePassword','generateQRCode','OPEN','querySelectorAll','statsWidgets','includes','Connection\x20failed','trim','joinRoom','createElement','display','active','Connection\x20interrupted...','formatGB','generateAnimatedQRCode','unknown','</svg>','removeChild','add','transferredSize','stun:stun1.l.google.com:19302','bytesUsed','addRelayWarningStyles','zip','</circle>','checked','show','video/','fileTransfer','Synchronizing\x20timelines...','updateDisplay','relayWarningStyles','create-room','updateShareStatus','getItem','getElementById','.transfer-icon','getShareOptions','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Receiving:\x20','setItem','width','size','candidateType','FileShare:\x20Using\x20iceTransportPolicy:\x20','peer-left','.hero-card','.steps-grid','connectionState','classList','drag-over','senderEmail','has-files','from','startsWith','onopen','shareBtnText','showReceiverMode','expiryHours','direct-connection-badge','host','data','getRemainingRelayQuota','Invalid\x20email(s):\x20','progressPercent','connecting','isQRCorner','<rect\x20width=\x22100%\x22\x20height=\x22100%\x22\x20fill=\x22rgba(255,255,255,0.1)\x22\x20rx=\x2212\x22/>','room-closed','Join\x20error:','location','releaseWakeLock','send','error','showNotification','Failed\x20to\x20report\x20relay\x20usage:','Locking\x20dimensional\x20rift...','qrCode','toISOString','connectionTimeout','nominated','retryWithRelayMode','relayWarningBanner','value','href','Sending:\x20','connectionType','assembleAndDownloadFile','push','rar','Wake\x20lock\x20acquired\x20for\x20background\x20transfer','Failed\x20to\x20send\x20email','contains','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-loading\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-status-text\x22>','654AXwpki','scrollToTransferSection','formatFileSize','locks','maxConnectionAttempts','body','handleDrop','toString','Data\x20channel\x20open','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-name\x22>','binaryType','totalSessions','Disconnected','FileShare:\x20Initializing\x20WebRTC\x20(attempt\x20','448483FtoOLs','Data\x20channel\x20error:','onerror','target','Invalid\x20TURN\x20response,\x20using\x20fallback\x20STUN','updateFilesList','Starting\x20transfer...','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-size\x22>','none','Failed\x20to\x20connect:\x20','request','application/json','6DtGKSk','shareOptions','revokeObjectURL','hidden','isUsingRelay','modeEmailBtn','copyLink','verify-password','ondatachannel','opacity','Failed:\x20','Initializing\x20quantum\x20state...','setRemoteDescription','12NCucLx','Connection\x20lost.\x20Please\x20refresh\x20the\x20page.','FileShare:\x20ICE\x20failed,\x20retrying\x20with\x20relay-only\x20mode...','firstChild','Receiving\x20files...','.transfer-title','Receiver\x20connected!','block','oniceconnectionstatechange','<div\x20class=\x22scan-line\x22></div>','connectionAttempt','totalBytesTransferred','.status-text','click','reconnectAttempts','stopPropagation','\x20MB','setupDataChannel','TURN\x20credentials\x20loaded:','totalFiles','receivedFilesCount','FileShare:\x20Connection\x20failed,\x20retrying\x20with\x20relay-only\x20mode...','formatSpeed','\x20MB/s','make','formatNumber','Room\x20not\x20found','result','drop','WebSocket\x20error:','appendChild','isHost','2803023lFVXKf','exclusive','8exyBmt','Room\x20closed','Connected!\x20Waiting\x20for\x20files...','file-complete','updateRelayUsage','completed','recipients','remove','stringify','0\x20Bytes','handleFileSelect','Waiting\x20for\x20sender...','transferComplete','Network\x20error\x20-\x20check\x20firewall','2008111wIkSWa','3125VxizRc','state','createObjectURL','ICE\x20state:','4485217LJlxdC','mimeType','arraybuffer','Answer\x20error:',',\x20forceRelay=','selectedCandidatePairId','getEmailData','cachedIceServers','reason','totalBytes','reportRelayUsageToServer','totalDuration','Incorrect\x20password.\x20Please\x20try\x20again:','transferSection','releaseWebLock','Merging\x20qubits...','Transfer\x20Complete!','get','smooth','pdf','Failed\x20to\x20fetch\x20TURN\x20credentials:','handleOffer','transferMode','isIntersecting','writeText','scrollIntoView','\x20/\x20','parse','search','type','Monthly\x20relay\x20limit\x20(200GB)\x20exceeded.\x20Please\x20try\x20again\x20next\x20month\x20or\x20use\x20same\x20network\x20for\x20direct\x20P2P.','updateTransferStatus','\x20GB/s','All\x20files\x20received!','receivedTotalBytes','test','candidate','isTransferring','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-icon\x22>','stats','connectToServer','forceRelayMode','room-joined','globalTotalSize','Downloaded:\x20','answer','json','updateProgressBar','onTransferComplete','\x22\x20cy=\x22','handleDragLeave','forEach','handleMessage','fetchStats','8655940wizmyE','.remove-file','readyState','checkRelayLimitBeforeTransfer','offer','Room\x20created:','round','execCommand','innerHTML','dragleave','Q-Gate','bindEvents','createAndSendOffer','filter','peerConnection','.hero-title','protocol'];_0xc85e=function(){return _0x16880e;};return _0xc85e();}const styles=document[_0x3844e9(0x155)]('style');styles[_0x3844e9(0x276)]='\x0a\x20\x20\x20\x20.notification-toast\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20bottom:\x2030px;\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(-50%)\x20translateY(100px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(30,\x2030,\x2030,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x20padding:\x201rem\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease,\x20opacity\x200.3s\x20ease;\x20opacity:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.notification-toast.show\x20{\x20transform:\x20translateX(-50%)\x20translateY(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.notification-success\x20{\x20border-color:\x20rgba(74,\x20222,\x20128,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-success\x20.notification-icon\x20{\x20color:\x20#4ade80;\x20}\x0a\x20\x20\x20\x20.notification-error\x20{\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-error\x20.notification-icon\x20{\x20color:\x20#ef4444;\x20}\x0a\x20\x20\x20\x20.notification-icon\x20{\x20font-size:\x201.2rem;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20.notification-message\x20{\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x20font-size:\x200.95rem;\x20}\x0a',document[_0x3844e9(0x286)]['appendChild'](styles);class GlobalStats{constructor(){const _0x453548=_0x3844e9;this[_0x453548(0x284)]=_0x453548(0x2b9),this['stats']={'totalFiles':0x0,'totalBytes':0x0,'totalSessions':0x0,'totalDuration':0x0},this['init']();}async['init'](){const _0x4666cd=_0x3844e9;await this[_0x4666cd(0x23b)](),this[_0x4666cd(0x16a)]();}async[_0x3844e9(0x23b)](){const _0x225896=_0x3844e9;try{const _0x510505=await fetch(this['apiUrl']);_0x510505['ok']&&(this['stats']=await _0x510505[_0x225896(0x234)]());}catch(_0x3badac){console[_0x225896(0x195)]('Error\x20fetching\x20global\x20stats:',_0x3badac);}}async[_0x3844e9(0x2ce)](_0x28fd19,_0x7ee7b5,_0x68f13a=0x0){const _0x15705f=_0x3844e9;try{const _0x1d2175=await fetch(this[_0x15705f(0x284)],{'method':'POST','headers':{'Content-Type':'application/json'},'body':JSON[_0x15705f(0x1fb)]({'files':_0x28fd19,'bytes':_0x7ee7b5,'duration':_0x68f13a/0x3e8})});if(_0x1d2175['ok']){const _0x51cf84=await _0x1d2175['json']();this[_0x15705f(0x22d)]=_0x51cf84[_0x15705f(0x22d)],this[_0x15705f(0x16a)]();}}catch(_0x2d6ccd){console['error']('Error\x20updating\x20global\x20stats:',_0x2d6ccd);}}[_0x3844e9(0x159)](_0x33b83d){const _0x2ae7de=_0x3844e9,_0x282c29=_0x33b83d/(0x400*0x400*0x400);if(_0x282c29>=0x3e8)return(_0x282c29/0x3e8)[_0x2ae7de(0x27f)](0x2)+'\x20TB';return _0x282c29['toFixed'](0x1)+'\x20GB';}[_0x3844e9(0x1ea)](_0x109779){const _0x1b411f=_0x3844e9;if(_0x109779>=0xf4240)return(_0x109779/0xf4240)[_0x1b411f(0x27f)](0x1)+'M';else{if(_0x109779>=0x3e8)return(_0x109779/0x3e8)['toFixed'](0x1)+'K';}return _0x109779[_0x1b411f(0x1b1)]();}[_0x3844e9(0x1e7)](_0xfb528c){const _0x13ebcb=_0x3844e9,_0x1d568f=_0xfb528c/(0x400*0x400);if(_0x1d568f>=0x3e8)return(_0x1d568f/0x3e8)[_0x13ebcb(0x27f)](0x1)+_0x13ebcb(0x226);return _0x1d568f['toFixed'](0x1)+_0x13ebcb(0x1e8);}[_0x3844e9(0x16a)](){const _0x37f4be=_0x3844e9,_0x156d1d=document[_0x37f4be(0x16f)]('globalTotalFiles'),_0x54fc09=document['getElementById'](_0x37f4be(0x231)),_0x200ffb=document['getElementById'](_0x37f4be(0x299)),_0x60c3=document['getElementById']('globalAvgSpeed');_0x156d1d&&(_0x156d1d['textContent']=this['formatNumber'](this[_0x37f4be(0x22d)][_0x37f4be(0x1e4)]));_0x54fc09&&(_0x54fc09[_0x37f4be(0x276)]=this['formatGB'](this['stats']['totalBytes']));_0x200ffb&&(_0x200ffb['textContent']=this[_0x37f4be(0x1ea)](this['stats'][_0x37f4be(0x1b5)]));if(_0x60c3){if(this[_0x37f4be(0x22d)][_0x37f4be(0x211)]>0x0){const _0x227578=this['stats'][_0x37f4be(0x20f)]/this['stats'][_0x37f4be(0x211)];_0x60c3['textContent']=this[_0x37f4be(0x1e7)](_0x227578);}else _0x60c3[_0x37f4be(0x276)]='--';}}[_0x3844e9(0x263)](){const _0x208d5c=_0x3844e9;return{'totalFiles':this[_0x208d5c(0x22d)][_0x208d5c(0x1e4)],'totalBytes':this[_0x208d5c(0x22d)][_0x208d5c(0x20f)],'totalSessions':this[_0x208d5c(0x22d)][_0x208d5c(0x1b5)]};}}document['addEventListener']('DOMContentLoaded',()=>{const _0x45c418=_0x3844e9;window[_0x45c418(0x26d)]=new GlobalStats();function _0xf01e70(_0x40da2c){const _0x26c25d=_0x45c418;_0x40da2c[_0x26c25d(0x239)]((_0x215eaf,_0xc79989)=>{const _0x3125b2=_0x26c25d;_0x215eaf['classList'][_0x3125b2(0x1fa)]('live-pulse'),setTimeout(()=>{const _0x576691=_0x3125b2;_0x215eaf[_0x576691(0x17d)]['remove']('glitch-animate'),void _0x215eaf['offsetWidth'],_0x215eaf[_0x576691(0x17d)]['add']('glitch-animate'),setTimeout(()=>{const _0x506b0a=_0x576691;_0x215eaf['classList'][_0x506b0a(0x15e)]('live-pulse');},0x320);},_0xc79989*0x96);});}const _0x15aace=new IntersectionObserver(_0x569de3=>{const _0x41dff4=_0x45c418;_0x569de3[_0x41dff4(0x239)](_0x570d95=>{const _0x4b32ae=_0x41dff4;if(_0x570d95[_0x4b32ae(0x21d)]){const _0x5b8cb9=_0x570d95['target'];if(_0x5b8cb9['classList']['contains']('global-stats-container'))_0xf01e70(_0x5b8cb9[_0x4b32ae(0x14f)](_0x4b32ae(0x296)));else{if(_0x5b8cb9[_0x4b32ae(0x17d)][_0x4b32ae(0x1a8)]('steps-grid'))_0xf01e70(_0x5b8cb9['querySelectorAll']('.step-number'));else _0x5b8cb9['classList']['contains']('features-grid')&&_0xf01e70(_0x5b8cb9['querySelectorAll']('.feature-icon'));}}});},{'threshold':0.5}),_0x5c5ec2=document[_0x45c418(0x29c)]('.global-stats-container'),_0x4f3dea=document['querySelector'](_0x45c418(0x17b)),_0x3d2ae2=document['querySelector'](_0x45c418(0x2aa));if(_0x5c5ec2)_0x15aace['observe'](_0x5c5ec2);if(_0x4f3dea)_0x15aace[_0x45c418(0x13a)](_0x4f3dea);if(_0x3d2ae2)_0x15aace['observe'](_0x3d2ae2);});