const _0x3b52e4=_0x6d64;function _0x6d64(_0x1fa40f,_0xc96da9){_0x1fa40f=_0x1fa40f-0xeb;const _0x1119ee=_0x1119();let _0x6d64d3=_0x1119ee[_0x1fa40f];return _0x6d64d3;}(function(_0x2c27ea,_0x381e9f){const _0x308ef1=_0x6d64,_0x59ce06=_0x2c27ea();while(!![]){try{const _0x281b1e=parseInt(_0x308ef1(0x258))/0x1+parseInt(_0x308ef1(0x269))/0x2*(-parseInt(_0x308ef1(0x23f))/0x3)+parseInt(_0x308ef1(0x250))/0x4+-parseInt(_0x308ef1(0x270))/0x5*(parseInt(_0x308ef1(0x1a1))/0x6)+parseInt(_0x308ef1(0x259))/0x7*(parseInt(_0x308ef1(0x241))/0x8)+-parseInt(_0x308ef1(0x1e9))/0x9*(parseInt(_0x308ef1(0x1ce))/0xa)+parseInt(_0x308ef1(0x12f))/0xb;if(_0x281b1e===_0x381e9f)break;else _0x59ce06['push'](_0x59ce06['shift']());}catch(_0x207619){_0x59ce06['push'](_0x59ce06['shift']());}}}(_0x1119,0xa68dd));class FileShare{constructor(){const _0x121f87=_0x6d64;this['files']=[],this[_0x121f87(0x213)]=null,this['dataChannel']=null,this['ws']=null,this[_0x121f87(0x27c)]=null,this[_0x121f87(0x111)]=![],this['receivedChunks']=[],this[_0x121f87(0x138)]=null,this['chunkSize']=0x40*0x400,this[_0x121f87(0x20e)]=null,this[_0x121f87(0x174)]=0x0,this['transferComplete']=![],this['wakeLock']=null,this[_0x121f87(0x19c)]=null,this[_0x121f87(0x272)]=0x0,this['receivedTotalBytes']=0x0,this[_0x121f87(0x266)]=[],this['isUsingRelay']=![],this[_0x121f87(0x23a)]='unknown',this['MONTHLY_RELAY_LIMIT_GB']=0xc8,this['forceRelayMode']=![],this['connectionAttempt']=0x0,this[_0x121f87(0x121)]=null,this['connectionTimeout']=null,this[_0x121f87(0x204)]=0x2,this[_0x121f87(0x23e)]();}[_0x3b52e4(0x23e)](){const _0x69f74c=_0x3b52e4;this[_0x69f74c(0x217)](),this[_0x69f74c(0x180)](),this['setupBackgroundSupport']();}async['detectConnectionType'](){const _0x927b38=_0x3b52e4;if(!this[_0x927b38(0x213)])return'unknown';try{const _0x49c759=await this[_0x927b38(0x213)]['getStats']();let _0x33915c=null,_0x1e50d8=null,_0x26a58c=null;_0x49c759[_0x927b38(0x20b)](_0x107f3d=>{const _0x38cb79=_0x927b38;_0x107f3d['type']===_0x38cb79(0x13c)&&_0x107f3d['selectedCandidatePairId']&&(_0x33915c=_0x107f3d['selectedCandidatePairId']),_0x107f3d['type']===_0x38cb79(0x20a)&&_0x107f3d[_0x38cb79(0x14d)]==='succeeded'&&_0x107f3d[_0x38cb79(0x15b)]&&(_0x1e50d8=_0x107f3d[_0x38cb79(0x120)],_0x26a58c=_0x107f3d['remoteCandidateId']);});let _0x29e200='unknown',_0x1acf5a='unknown';_0x49c759['forEach'](_0x111005=>{const _0x1f9af9=_0x927b38;_0x111005['type']==='local-candidate'&&_0x111005['id']===_0x1e50d8&&(_0x29e200=_0x111005['candidateType']),_0x111005[_0x1f9af9(0xf1)]==='remote-candidate'&&_0x111005['id']===_0x26a58c&&(_0x1acf5a=_0x111005['candidateType']);}),console['log'](_0x927b38(0x265)+_0x29e200+',\x20Remote:\x20'+_0x1acf5a);if(_0x29e200==='relay'||_0x1acf5a==='relay')return this['isUsingRelay']=!![],this[_0x927b38(0x23a)]='relay','relay';else return _0x29e200==='host'&&_0x1acf5a===_0x927b38(0x1ae)?(this['isUsingRelay']=![],this['connectionType']='direct',_0x927b38(0x244)):(this[_0x927b38(0x24a)]=![],this['connectionType']='direct',_0x927b38(0x244));}catch(_0x45ede6){return console[_0x927b38(0x28f)]('Error\x20detecting\x20connection\x20type:',_0x45ede6),'unknown';}}[_0x3b52e4(0x1e4)](){const _0x3ac974=_0x3b52e4,_0x24a124=new Date()[_0x3ac974(0x230)]()['slice'](0x0,0x7),_0x4df617=localStorage[_0x3ac974(0x158)](_0x3ac974(0x282));if(_0x4df617){const _0x19b987=JSON[_0x3ac974(0x12a)](_0x4df617);if(_0x19b987['month']===_0x24a124)return _0x19b987['bytesUsed']||0x0;}return 0x0;}['updateRelayUsage'](_0x5159d7){const _0x3ba24a=_0x3b52e4,_0x2a3cb2=new Date()[_0x3ba24a(0x230)]()['slice'](0x0,0x7),_0x227a90=this[_0x3ba24a(0x1e4)](),_0x5e3fb9=_0x227a90+_0x5159d7;return localStorage[_0x3ba24a(0x21b)]('relayUsage',JSON['stringify']({'month':_0x2a3cb2,'bytesUsed':_0x5e3fb9})),this['reportRelayUsageToServer'](_0x5159d7),_0x5e3fb9;}async[_0x3b52e4(0x22e)](_0x4dec68){const _0x3c0819=_0x3b52e4;try{await fetch('/api/relay-usage',{'method':_0x3c0819(0x162),'headers':{'Content-Type':'application/json'},'body':JSON['stringify']({'bytes':_0x4dec68})});}catch(_0x16747c){console[_0x3c0819(0x28f)]('Failed\x20to\x20report\x20relay\x20usage:',_0x16747c);}}[_0x3b52e4(0xf3)](){const _0x2a6c47=_0x3b52e4,_0x2d4e6d=this[_0x2a6c47(0x1e4)](),_0x432707=this[_0x2a6c47(0x23c)]*0x400*0x400*0x400;return _0x2d4e6d>=_0x432707;}[_0x3b52e4(0x21e)](){const _0xafa8f1=this['getRelayUsage'](),_0xeba533=this['MONTHLY_RELAY_LIMIT_GB']*0x400*0x400*0x400;return Math['max'](0x0,_0xeba533-_0xafa8f1);}['formatRelayUsage'](_0x24431c){const _0x33f39f=_0x24431c/(0x400*0x400*0x400);if(_0x33f39f>=0x1)return _0x33f39f['toFixed'](0x2)+'\x20GB';const _0x31e553=_0x24431c/(0x400*0x400);return _0x31e553['toFixed'](0x1)+'\x20MB';}['showRelayWarning'](){const _0x2a0dbc=_0x3b52e4,_0x1c5dde=document['getElementById'](_0x2a0dbc(0x13e));if(_0x1c5dde)_0x1c5dde[_0x2a0dbc(0x274)]();const _0x25e922=this['getRelayUsage'](),_0x406854=this['getRemainingRelayQuota'](),_0x45ff89=Math['round'](_0x25e922/(this[_0x2a0dbc(0x23c)]*0x400*0x400*0x400)*0x64),_0x46c663=document['createElement']('div');_0x46c663['id']=_0x2a0dbc(0x13e),_0x46c663['className']=_0x2a0dbc(0x26a),_0x46c663['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-icon\x22>‚ö°</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Indirect\x20Quantum\x20Connection</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>Direct\x20peer\x20entanglement\x20unavailable.\x20Data\x20is\x20transmitted\x20via\x20an\x20encrypted,\x20indirect\x20quantum\x20channel.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22relay-usage\x22>Monthly\x20usage:\x20'+this['formatRelayUsage'](_0x25e922)+_0x2a0dbc(0x254)+this['MONTHLY_RELAY_LIMIT_GB']+_0x2a0dbc(0x248)+_0x45ff89+'%)</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22relay-warning-close\x22\x20onclick=\x22this.parentElement.parentElement.remove()\x22>‚úï</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-usage-bar\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-usage-fill\x22\x20style=\x22width:\x20'+Math['min'](_0x45ff89,0x64)+_0x2a0dbc(0x25e),this[_0x2a0dbc(0x150)]();const _0x305cb0=document['getElementById']('transferSection');_0x305cb0?_0x305cb0[_0x2a0dbc(0x28e)](_0x46c663,_0x305cb0['firstChild']):document[_0x2a0dbc(0x1e3)][_0x2a0dbc(0x226)](_0x46c663);}[_0x3b52e4(0x184)](){const _0x1437cd=_0x3b52e4,_0x5d14bf=document['getElementById']('directConnectionBadge');if(_0x5d14bf)_0x5d14bf[_0x1437cd(0x274)]();const _0x1a61b2=document[_0x1437cd(0x11c)](_0x1437cd(0x11e));_0x1a61b2['id']='directConnectionBadge',_0x1a61b2[_0x1437cd(0xfb)]='direct-connection-badge',_0x1a61b2[_0x1437cd(0x143)]=_0x1437cd(0x1bb),this[_0x1437cd(0x150)]();const _0x452348=document[_0x1437cd(0x179)](_0x1437cd(0x115));_0x452348&&_0x452348['parentElement'][_0x1437cd(0x226)](_0x1a61b2);}['addRelayWarningStyles'](){const _0x292cba=_0x3b52e4;if(document['getElementById']('relayWarningStyles'))return;const _0x453071=document[_0x292cba(0x11c)]('style');_0x453071['id']=_0x292cba(0x13d),_0x453071[_0x292cba(0x20d)]=_0x292cba(0x191),document['head'][_0x292cba(0x226)](_0x453071);}async['checkRelayLimitBeforeTransfer'](){const _0x85e665=_0x3b52e4;if(!this['isUsingRelay'])return!![];if(this[_0x85e665(0xf3)]())return this['showNotification'](_0x85e665(0x232),'error'),this[_0x85e665(0x237)](),![];const _0x40c9ee=this['files'][_0x85e665(0x210)]((_0x44d485,_0x143659)=>_0x44d485+_0x143659['size'],0x0),_0x3228f5=this['getRemainingRelayQuota']();if(_0x40c9ee>_0x3228f5){const _0x3b5388=this['formatRelayUsage'](_0x3228f5);return this[_0x85e665(0x1e2)](_0x85e665(0x1a9)+_0x3b5388+'.\x20File\x20size:\x20'+this[_0x85e665(0xee)](_0x40c9ee),_0x85e665(0x28f)),![];}return!![];}['showRelayLimitExceededBanner'](){const _0x52de15=_0x3b52e4,_0x2f00ef=document[_0x52de15(0x179)]('relayWarningBanner');if(_0x2f00ef)_0x2f00ef[_0x52de15(0x274)]();const _0x9bcd8c=document[_0x52de15(0x11c)]('div');_0x9bcd8c['id']='relayWarningBanner',_0x9bcd8c[_0x52de15(0xfb)]=_0x52de15(0x163),_0x9bcd8c['innerHTML']=_0x52de15(0x12e),this[_0x52de15(0x150)]();const _0x47979e=document['getElementById']('transferSection');_0x47979e?_0x47979e['insertBefore'](_0x9bcd8c,_0x47979e['firstChild']):document['body']['appendChild'](_0x9bcd8c);}[_0x3b52e4(0x1d4)](){document['addEventListener']('visibilitychange',()=>{document['hidden']&&this['isTransferring']()&&this['acquireWakeLock']();});}[_0x3b52e4(0x195)](){const _0x2ba3ad=_0x3b52e4;return this['dataChannel']&&this['dataChannel']['readyState']===_0x2ba3ad(0x26c)&&!this['transferComplete'];}async['acquireWakeLock'](){const _0x4b2d1c=_0x3b52e4;if(_0x4b2d1c(0xef)in navigator)try{this['wakeLock']=await navigator[_0x4b2d1c(0xef)][_0x4b2d1c(0x1d5)]('screen'),console[_0x4b2d1c(0x170)]('Wake\x20lock\x20acquired\x20for\x20background\x20transfer'),this['wakeLock']['addEventListener']('release',()=>{const _0x673465=_0x4b2d1c;console[_0x673465(0x170)](_0x673465(0x15c));});}catch(_0x27eee1){console['log'](_0x4b2d1c(0x227),_0x27eee1['message']);}}['releaseWakeLock'](){const _0xd089a7=_0x3b52e4;this[_0xd089a7(0xef)]&&(this[_0xd089a7(0xef)][_0xd089a7(0x106)](),this[_0xd089a7(0xef)]=null);}async[_0x3b52e4(0x1d0)](){const _0x1bb331=_0x3b52e4;if(_0x1bb331(0x25b)in navigator)try{navigator[_0x1bb331(0x25b)][_0x1bb331(0x1d5)](_0x1bb331(0x1df),{'mode':_0x1bb331(0x172)},async _0x4740a0=>{const _0x3baed5=_0x1bb331;console[_0x3baed5(0x170)]('Web\x20lock\x20acquired\x20-\x20transfer\x20protected'),await new Promise(_0xc4830d=>{const _0x3e62c7=_0x3baed5;this[_0x3e62c7(0xf8)]=_0xc4830d;});});}catch(_0x2161cf){console['log'](_0x1bb331(0x1ff),_0x2161cf[_0x1bb331(0x157)]);}}[_0x3b52e4(0x217)](){const _0x3a4684=_0x3b52e4,_0x52dc85=document['getElementById']('dropZone'),_0x2195e6=document['getElementById'](_0x3a4684(0x1ec)),_0x36e9d6=document['getElementById']('shareBtn'),_0x52b4d5=document['getElementById'](_0x3a4684(0xed)),_0x40f50a=document['querySelector']('.browse-link');_0x52dc85&&(_0x52dc85['addEventListener']('dragover',_0x4eef8c=>this['handleDragOver'](_0x4eef8c)),_0x52dc85['addEventListener']('dragleave',_0x2de622=>this['handleDragLeave'](_0x2de622)),_0x52dc85[_0x3a4684(0x11f)](_0x3a4684(0x273),_0x6a761a=>this[_0x3a4684(0x267)](_0x6a761a)),_0x52dc85['addEventListener'](_0x3a4684(0x14a),()=>_0x2195e6?.[_0x3a4684(0x14a)]()));if(_0x2195e6)_0x2195e6[_0x3a4684(0x11f)](_0x3a4684(0x1ac),_0x1d69e8=>this[_0x3a4684(0x25a)](_0x1d69e8));if(_0x40f50a)_0x40f50a[_0x3a4684(0x11f)](_0x3a4684(0x14a),_0xb82a4e=>{const _0x331c32=_0x3a4684;_0xb82a4e[_0x331c32(0x16e)](),_0x2195e6?.['click']();});if(_0x36e9d6)_0x36e9d6[_0x3a4684(0x11f)](_0x3a4684(0x14a),()=>this[_0x3a4684(0x160)]());if(_0x52b4d5)_0x52b4d5['addEventListener']('click',()=>this['copyShareLink']());const _0x58d389=document['getElementById'](_0x3a4684(0x1c6));if(_0x58d389)_0x58d389['addEventListener'](_0x3a4684(0x14a),()=>this['clearAllFiles']());const _0x3fefac=document['getElementById']('enablePassword'),_0x402d0e=document['getElementById'](_0x3a4684(0x291));_0x3fefac&&_0x402d0e&&_0x3fefac[_0x3a4684(0x11f)](_0x3a4684(0x1ac),_0x337456=>{const _0x3e6e7a=_0x3a4684;_0x402d0e[_0x3e6e7a(0x1b9)]['display']=_0x337456[_0x3e6e7a(0x1c3)]['checked']?'block':'none';if(!_0x337456['target']['checked'])_0x402d0e['value']='';});this[_0x3a4684(0x1cf)]='link';const _0x1d518a=document['getElementById'](_0x3a4684(0x268)),_0x264e95=document['getElementById']('modeEmailBtn'),_0x1b10eb=document[_0x3a4684(0x179)]('emailForm'),_0x3d1aa6=document[_0x3a4684(0x179)](_0x3a4684(0x278));_0x1d518a&&_0x264e95&&(_0x1d518a['addEventListener']('click',()=>{const _0x570899=_0x3a4684;this['transferMode']='link',_0x1d518a['classList']['add'](_0x570899(0x186)),_0x264e95['classList']['remove']('active');if(_0x1b10eb)_0x1b10eb['style']['display']='none';if(_0x3d1aa6)_0x3d1aa6['textContent']=_0x570899(0x1e8);}),_0x264e95[_0x3a4684(0x11f)](_0x3a4684(0x14a),()=>{const _0x5d2eec=_0x3a4684;this[_0x5d2eec(0x1cf)]=_0x5d2eec(0x1db),_0x264e95[_0x5d2eec(0x288)]['add'](_0x5d2eec(0x186)),_0x1d518a[_0x5d2eec(0x288)]['remove']('active');if(_0x1b10eb)_0x1b10eb['style']['display']=_0x5d2eec(0x249);if(_0x3d1aa6)_0x3d1aa6['textContent']='Send\x20Files';})),window[_0x3a4684(0x11f)](_0x3a4684(0x14b),()=>{if(this['ws'])this['ws']['close']();});}[_0x3b52e4(0x223)](){const _0x4c4774=_0x3b52e4;this['files']=[],this['updateFilesList'](),this[_0x4c4774(0x1dc)](),this[_0x4c4774(0x1c1)]();const _0x10d951=document['getElementById']('dropZone');if(_0x10d951)_0x10d951['classList']['remove'](_0x4c4774(0x151));const _0x15ce22=document[_0x4c4774(0x1d8)](_0x4c4774(0x236));if(_0x15ce22)_0x15ce22['classList'][_0x4c4774(0x274)](_0x4c4774(0x1be));const _0x1e2030=document['getElementById']('shareOptions');if(_0x1e2030)_0x1e2030[_0x4c4774(0x1b9)][_0x4c4774(0x253)]='none';}['handleDragOver'](_0x447dd9){const _0x4d95ff=_0x3b52e4;_0x447dd9['preventDefault'](),_0x447dd9[_0x4d95ff(0x16e)](),_0x447dd9[_0x4d95ff(0x28a)]['classList']['add']('drag-over');}[_0x3b52e4(0x129)](_0x2451d3){const _0x28421e=_0x3b52e4;_0x2451d3[_0x28421e(0x275)](),_0x2451d3['stopPropagation'](),_0x2451d3[_0x28421e(0x28a)][_0x28421e(0x288)][_0x28421e(0x274)]('drag-over');}[_0x3b52e4(0x267)](_0x1df300){const _0x2abf4a=_0x3b52e4;_0x1df300[_0x2abf4a(0x275)](),_0x1df300['stopPropagation'](),_0x1df300['currentTarget'][_0x2abf4a(0x288)][_0x2abf4a(0x274)]('drag-over'),this[_0x2abf4a(0xf2)](Array[_0x2abf4a(0x190)](_0x1df300['dataTransfer'][_0x2abf4a(0x169)]));}[_0x3b52e4(0x25a)](_0x3b81fa){const _0x57b6e7=_0x3b52e4;this['addFiles'](Array['from'](_0x3b81fa[_0x57b6e7(0x1c3)]['files']));}['addFiles'](_0x187728){const _0x23307b=_0x3b52e4;this[_0x23307b(0x169)]=[...this[_0x23307b(0x169)],..._0x187728],this['updateFilesList'](),this['showSelectedFiles'](),this[_0x23307b(0x1c1)]();const _0x307485=document[_0x23307b(0x179)](_0x23307b(0x1b0));_0x307485&&this['files'][_0x23307b(0x261)]>0x0&&_0x307485[_0x23307b(0x288)]['add']('has-files');const _0x12bbef=document['querySelector']('.hero-card');_0x12bbef&&this[_0x23307b(0x169)][_0x23307b(0x261)]>0x0&&_0x12bbef['classList'][_0x23307b(0x271)](_0x23307b(0x1be));const _0x45f8c9=document['getElementById']('shareOptions');_0x45f8c9&&this[_0x23307b(0x169)][_0x23307b(0x261)]>0x0&&(_0x45f8c9[_0x23307b(0x1b9)][_0x23307b(0x253)]='block');}[_0x3b52e4(0x17d)](_0x4983d6){const _0x6bb233=_0x3b52e4;this['files'][_0x6bb233(0x214)](_0x4983d6,0x1),this['updateFilesList'](),this[_0x6bb233(0x1c1)]();if(this[_0x6bb233(0x169)][_0x6bb233(0x261)]===0x0){this['hideSelectedFiles']();const _0x1ffd36=document[_0x6bb233(0x179)]('dropZone');if(_0x1ffd36)_0x1ffd36[_0x6bb233(0x288)][_0x6bb233(0x274)](_0x6bb233(0x151));const _0x3e5df4=document[_0x6bb233(0x1d8)](_0x6bb233(0x236));if(_0x3e5df4)_0x3e5df4['classList'][_0x6bb233(0x274)]('data-flowing');const _0x24c4f9=document[_0x6bb233(0x179)](_0x6bb233(0x116));if(_0x24c4f9)_0x24c4f9[_0x6bb233(0x1b9)]['display']='none';}}['updateShareButton'](){const _0x5d1de9=_0x3b52e4,_0xb99500=document[_0x5d1de9(0x179)]('shareBtn');if(_0xb99500)_0xb99500['disabled']=this[_0x5d1de9(0x169)]['length']===0x0;}['updateFilesList'](){const _0x5984c0=_0x3b52e4,_0x233e3b=document['getElementById']('filesList');if(!_0x233e3b)return;_0x233e3b['innerHTML']=this['files'][_0x5984c0(0x19b)]((_0x5d5f7a,_0x2f2663)=>_0x5984c0(0x103)+this['getFileIcon'](_0x5d5f7a['type'])+_0x5984c0(0x28b)+this[_0x5984c0(0x231)](_0x5d5f7a[_0x5984c0(0x17a)])+_0x5984c0(0x141)+this[_0x5984c0(0xee)](_0x5d5f7a['size'])+_0x5984c0(0x147)+_0x2f2663+_0x5984c0(0x25f))['join'](''),_0x233e3b[_0x5984c0(0x285)]('.remove-file')['forEach'](_0x3bbab6=>{const _0x50533f=_0x5984c0;_0x3bbab6[_0x50533f(0x11f)]('click',_0x10e931=>{const _0xb6a826=_0x50533f;_0x10e931[_0xb6a826(0x16e)](),this['removeFile'](parseInt(_0x3bbab6[_0xb6a826(0x1d9)][_0xb6a826(0x28d)]));});});const _0x40bb15=this['files']['reduce']((_0x5b1a2c,_0x5a6a6b)=>_0x5b1a2c+_0x5a6a6b['size'],0x0),_0x1b5593=document[_0x5984c0(0x179)](_0x5984c0(0x26f)),_0x3c2e0a=document['getElementById']('fileCount');if(_0x1b5593)_0x1b5593['textContent']=this['formatFileSize'](_0x40bb15);if(_0x3c2e0a)_0x3c2e0a[_0x5984c0(0x20d)]=this['files'][_0x5984c0(0x261)]+'\x20file'+(this[_0x5984c0(0x169)]['length']!==0x1?'s':'');}['showSelectedFiles'](){const _0x56b479=_0x3b52e4,_0x47e1b8=document[_0x56b479(0x179)]('selectedFiles');if(_0x47e1b8&&this[_0x56b479(0x169)]['length']>0x0)_0x47e1b8[_0x56b479(0x1b9)][_0x56b479(0x253)]=_0x56b479(0x249);}['hideSelectedFiles'](){const _0x447d47=_0x3b52e4,_0x19a2c6=document[_0x447d47(0x179)](_0x447d47(0x1ba));if(_0x19a2c6)_0x19a2c6[_0x447d47(0x1b9)]['display']='none';}[_0x3b52e4(0x221)](_0x581552){const _0x462672=_0x3b52e4;if(!_0x581552)return'üìÅ';if(_0x581552[_0x462672(0x176)]('image/'))return'üñºÔ∏è';if(_0x581552['startsWith'](_0x462672(0x1e1)))return'üé¨';if(_0x581552['startsWith'](_0x462672(0x189)))return'üéµ';if(_0x581552[_0x462672(0x25c)](_0x462672(0x135)))return'üìÑ';if(_0x581552['includes'](_0x462672(0x16d))||_0x581552[_0x462672(0x25c)]('rar')||_0x581552['includes']('7z'))return'üì¶';if(_0x581552[_0x462672(0x25c)](_0x462672(0x206))||_0x581552[_0x462672(0x25c)]('document'))return'üìù';return'üìÅ';}['formatFileSize'](_0x4ab42a){const _0x3430aa=_0x3b52e4;if(_0x4ab42a===0x0)return _0x3430aa(0x13a);const _0x443ede=0x400,_0x40c75a=['Bytes','KB','MB','GB','TB'],_0x3bc4a5=Math['floor'](Math['log'](_0x4ab42a)/Math[_0x3430aa(0x170)](_0x443ede));return parseFloat((_0x4ab42a/Math[_0x3430aa(0x18c)](_0x443ede,_0x3bc4a5))[_0x3430aa(0xec)](0x2))+'\x20'+_0x40c75a[_0x3bc4a5];}['escapeHtml'](_0x169670){const _0x2d86c7=_0x3b52e4,_0x223a6f=document[_0x2d86c7(0x11c)](_0x2d86c7(0x11e));return _0x223a6f['textContent']=_0x169670,_0x223a6f[_0x2d86c7(0x143)];}['generateRoomId'](){const _0x49133b=_0x3b52e4,_0x4fc3c8='abcdefghijklmnopqrstuvwxyz0123456789';let _0x553cf2='';for(let _0x3ad9d8=0x0;_0x3ad9d8<0xc;_0x3ad9d8++)_0x553cf2+=_0x4fc3c8[_0x49133b(0x13f)](Math['floor'](Math[_0x49133b(0x19d)]()*_0x4fc3c8['length']));return _0x553cf2;}['getWebSocketUrl'](){const _0x2d1a26=_0x3b52e4,_0xf2481c=window['location'][_0x2d1a26(0x1b3)]===_0x2d1a26(0x1cd)?_0x2d1a26(0x108):'ws:';return _0xf2481c+'//'+window['location']['host']+'/ws';}[_0x3b52e4(0x1f4)](_0x475b02=0x3){return new Promise((_0x17bf46,_0x4e494d)=>{const _0x3f9e29=_0x6d64,_0x43373c=this[_0x3f9e29(0x161)]();console[_0x3f9e29(0x170)](_0x3f9e29(0x188),_0x43373c);const _0x347bd4=_0x487b8b=>{const _0x5d98e5=_0x3f9e29;this['ws']=new WebSocket(_0x43373c),this['ws'][_0x5d98e5(0x196)]=()=>{const _0x7c2f1d=_0x5d98e5;console[_0x7c2f1d(0x170)]('WebSocket\x20connected'),this[_0x7c2f1d(0x294)]=0x0,_0x17bf46();},this['ws'][_0x5d98e5(0xf0)]=()=>{const _0x17c6c2=_0x5d98e5;console[_0x17c6c2(0x170)](_0x17c6c2(0x21d)),this[_0x17c6c2(0x111)]&&this['roomId']&&this['attemptReconnect']();},this['ws'][_0x5d98e5(0x130)]=_0x1ef37a=>{const _0x2b47a8=_0x5d98e5;console[_0x2b47a8(0x28f)](_0x2b47a8(0x222),_0x1ef37a),_0x487b8b<_0x475b02?(console[_0x2b47a8(0x170)]('Retrying...\x20('+(_0x487b8b+0x1)+'/'+_0x475b02+')'),setTimeout(()=>_0x347bd4(_0x487b8b+0x1),0x3e8)):_0x4e494d(new Error('Connection\x20failed\x20after\x20'+_0x475b02+_0x2b47a8(0x1fb)));},this['ws'][_0x5d98e5(0x201)]=_0x157faa=>{const _0x28edeb=_0x5d98e5;try{this[_0x28edeb(0x134)](JSON['parse'](_0x157faa['data']));}catch(_0x2fb16b){console[_0x28edeb(0x28f)]('Message\x20error:',_0x2fb16b);}},setTimeout(()=>{const _0x559480=_0x5d98e5;this['ws']['readyState']!==WebSocket[_0x559480(0x247)]&&_0x487b8b>=_0x475b02&&(this['ws'][_0x559480(0x1c9)](),_0x4e494d(new Error(_0x559480(0x22f))));},0x2710);};_0x347bd4(0x1);});}['attemptReconnect'](){const _0x18bbc8=_0x3b52e4;if(this[_0x18bbc8(0x294)]>=0x5){this['showNotification'](_0x18bbc8(0x20c),_0x18bbc8(0x28f));return;}this[_0x18bbc8(0x294)]=(this['reconnectAttempts']||0x0)+0x1,console['log']('Reconnecting...\x20attempt',this['reconnectAttempts']),setTimeout(async()=>{const _0x254d9a=_0x18bbc8;try{await this[_0x254d9a(0x1f4)](0x1),this[_0x254d9a(0x111)]&&this['roomId']&&this[_0x254d9a(0x100)]({'type':_0x254d9a(0x185),'roomId':this[_0x254d9a(0x27c)]});}catch(_0x5b5b14){this['attemptReconnect']();}},0x7d0);}[_0x3b52e4(0x100)](_0x14052a){const _0x2ca2f1=_0x3b52e4;this['ws']&&this['ws'][_0x2ca2f1(0x233)]===WebSocket[_0x2ca2f1(0x247)]&&this['ws']['send'](JSON['stringify'](_0x14052a));}async['handleMessage'](_0x169351){const _0x4ba3d=_0x3b52e4;console['log']('Received:',_0x169351['type']);switch(_0x169351['type']){case _0x4ba3d(0x154):console[_0x4ba3d(0x170)](_0x4ba3d(0x182),_0x169351[_0x4ba3d(0x27c)]);if(this[_0x4ba3d(0x181)])this[_0x4ba3d(0x181)]();break;case'room-joined':this[_0x4ba3d(0x21f)](_0x4ba3d(0x255));break;case _0x4ba3d(0x173):this[_0x4ba3d(0x111)]&&(this['showNotification']('Receiver\x20connected!','success'),this['updateShareStatus']('Establishing\x20connection...'),this['scrollToTransferSection'](),await this[_0x4ba3d(0x200)]());break;case _0x4ba3d(0x148):this[_0x4ba3d(0x139)]?this['updateConnectionStatus']('Peer\x20disconnected'):(this[_0x4ba3d(0x1e2)](_0x169351[_0x4ba3d(0x157)]||'Peer\x20disconnected','error'),this['updateTransferStatus'](_0x4ba3d(0x256)),this['updateConnectionStatus']('Peer\x20disconnected'));break;case _0x4ba3d(0x18f):await this['handleOffer'](_0x169351);break;case _0x4ba3d(0x137):await this['handleAnswer'](_0x169351);break;case'ice-candidate':await this[_0x4ba3d(0x133)](_0x169351);break;case _0x4ba3d(0x102):await this[_0x4ba3d(0x12b)]();break;case'password-required':this['pendingRoomId']=_0x169351['roomId'],this[_0x4ba3d(0x107)]();break;case'room-closed':!this['transferComplete']&&(this['showNotification'](_0x169351[_0x4ba3d(0x156)]||'Room\x20closed','info'),this[_0x4ba3d(0x21f)](_0x169351[_0x4ba3d(0x156)]||_0x4ba3d(0x12c)));break;case'error':this['showNotification'](_0x169351[_0x4ba3d(0x157)],'error');if(_0x169351[_0x4ba3d(0x157)]===_0x4ba3d(0x164))this[_0x4ba3d(0x21f)](_0x4ba3d(0x10a));else _0x169351[_0x4ba3d(0x157)]==='Incorrect\x20password'?this['showPasswordPrompt'](!![]):this[_0x4ba3d(0x21f)](_0x169351[_0x4ba3d(0x157)]);break;}}[_0x3b52e4(0x107)](_0xe81de0=![]){const _0x33035b=_0x3b52e4,_0x59c9b2=prompt(_0xe81de0?_0x33035b(0x1c4):_0x33035b(0x28c));_0x59c9b2?this[_0x33035b(0x100)]({'type':_0x33035b(0x1cb),'roomId':this['pendingRoomId'],'password':_0x59c9b2}):(this[_0x33035b(0x1e2)](_0x33035b(0x292),'error'),this['updateTransferStatus']('Access\x20denied\x20-\x20password\x20required'));}[_0x3b52e4(0x239)](){const _0x250de8=_0x3b52e4,_0x324520=document['getElementById'](_0x250de8(0x11a)),_0x1cd660=document['getElementById']('expiryTime'),_0x5c057d=document[_0x250de8(0x179)]('enablePassword'),_0x10cfbe=document[_0x250de8(0x179)]('sharePassword');return{'maxDownloads':_0x324520?parseInt(_0x324520[_0x250de8(0x19a)]):0x1,'expiryHours':_0x1cd660?parseInt(_0x1cd660['value']):0x18,'password':_0x5c057d?.['checked']&&_0x10cfbe?.['value']?_0x10cfbe['value']:null};}['getEmailData'](){const _0x1ffaf2=_0x3b52e4;return{'recipients':document[_0x1ffaf2(0x179)](_0x1ffaf2(0x1c8))?.[_0x1ffaf2(0x19a)]||'','senderEmail':document[_0x1ffaf2(0x179)]('senderEmail')?.['value']||'','title':document[_0x1ffaf2(0x179)]('transferTitle')?.['value']||'','message':document[_0x1ffaf2(0x179)](_0x1ffaf2(0x122))?.[_0x1ffaf2(0x19a)]||''};}['validateEmail'](_0x22601a){const _0x2ba168=_0x3b52e4;return/^[^\s@]+@[^\s@]+\.[^\s@]+$/[_0x2ba168(0x207)](_0x22601a['trim']());}async['sendEmailNotification'](_0x18c846,_0xd191ed){const _0x302785=_0x3b52e4;try{const _0x4e85ad=this['files']['reduce']((_0x398f62,_0x517147)=>_0x398f62+_0x517147['size'],0x0),_0x18cede=await fetch('/api/send-email',{'method':'POST','headers':{'Content-Type':_0x302785(0x153)},'body':JSON['stringify']({'recipients':_0xd191ed[_0x302785(0x24e)],'senderEmail':_0xd191ed[_0x302785(0x293)],'title':_0xd191ed['title'],'message':_0xd191ed[_0x302785(0x157)],'link':_0x18c846,'fileCount':this['files']['length'],'totalSize':this[_0x302785(0xee)](_0x4e85ad),'password':this['shareOptions'][_0x302785(0x21c)],'expiryHours':this[_0x302785(0x116)][_0x302785(0x1fe)]})});if(!_0x18cede['ok']){const _0xe8c684=await _0x18cede['json']();throw new Error(_0xe8c684['message']||_0x302785(0x110));}return await _0x18cede[_0x302785(0x26e)]();}catch(_0x203ea3){console[_0x302785(0x28f)](_0x302785(0x187),_0x203ea3);throw _0x203ea3;}}async['createShareLink'](){const _0xeb3cbe=_0x3b52e4;if(this['files'][_0xeb3cbe(0x261)]===0x0){this['showNotification'](_0xeb3cbe(0x146),_0xeb3cbe(0x28f));return;}const _0x814c0=document[_0xeb3cbe(0x179)]('enablePassword'),_0x1dedd2=document['getElementById'](_0xeb3cbe(0x291));if(_0x814c0?.[_0xeb3cbe(0x125)]&&!_0x1dedd2?.[_0xeb3cbe(0x19a)]){this['showNotification'](_0xeb3cbe(0x216),_0xeb3cbe(0x28f));return;}if(this[_0xeb3cbe(0x1cf)]==='email'){const _0x1ea9a5=this['getEmailData']();if(!_0x1ea9a5['recipients']['trim']()){this['showNotification'](_0xeb3cbe(0x1d7),'error');return;}const _0x4396de=_0x1ea9a5[_0xeb3cbe(0x24e)][_0xeb3cbe(0x128)](',')['map'](_0x3d4020=>_0x3d4020['trim']())[_0xeb3cbe(0x118)](_0x23cf0e=>_0x23cf0e),_0xcc9018=_0x4396de['filter'](_0x42c32a=>!this['validateEmail'](_0x42c32a));if(_0xcc9018[_0xeb3cbe(0x261)]>0x0){this['showNotification']('Invalid\x20email(s):\x20'+_0xcc9018['join'](',\x20'),'error');return;}if(!_0x1ea9a5[_0xeb3cbe(0x293)][_0xeb3cbe(0x119)]()){this['showNotification'](_0xeb3cbe(0x16a),_0xeb3cbe(0x28f));return;}if(!this['validateEmail'](_0x1ea9a5['senderEmail'])){this[_0xeb3cbe(0x1e2)](_0xeb3cbe(0x124),'error');return;}}this['isHost']=!![],this['roomId']=this[_0xeb3cbe(0x24f)](),this[_0xeb3cbe(0x116)]=this['getShareOptions']();try{await this[_0xeb3cbe(0x1f4)]();const _0x8da369=new Promise((_0x8465d,_0xf17ac0)=>{const _0x663248=_0xeb3cbe;this[_0x663248(0x181)]=_0x8465d,setTimeout(()=>_0xf17ac0(new Error(_0x663248(0x175))),0x2710);});this['send']({'type':'create-room','roomId':this[_0xeb3cbe(0x27c)],'options':this[_0xeb3cbe(0x116)]}),await _0x8da369;const _0x1a028d=document['getElementById']('shareLinkSection'),_0x1ead0d=document[_0xeb3cbe(0x179)](_0xeb3cbe(0x177)),_0x240c26=window['location']['pathname'][_0xeb3cbe(0x219)](/index\.html$/,''),_0x187a97=''+window[_0xeb3cbe(0xeb)][_0xeb3cbe(0x1c2)]+_0x240c26+'?Q-Gate='+this[_0xeb3cbe(0x27c)];let _0x5b476a=![];if(this['transferMode']==='email'){const _0x1899ce=this[_0xeb3cbe(0xfd)]();try{await this[_0xeb3cbe(0x27e)](_0x187a97,_0x1899ce),_0x5b476a=!![];}catch(_0xb15fa1){this['showNotification'](_0xeb3cbe(0x126)+_0xb15fa1['message'],_0xeb3cbe(0x28f));}}if(_0x1a028d&&_0x1ead0d){_0x1ead0d[_0xeb3cbe(0x19a)]=_0x187a97,_0x1a028d[_0xeb3cbe(0x1b9)][_0xeb3cbe(0x253)]=_0xeb3cbe(0x249);const _0x31b27f=document['querySelector'](_0xeb3cbe(0x236));if(_0x31b27f)_0x31b27f[_0xeb3cbe(0x288)]['remove'](_0xeb3cbe(0x1be));const _0x7a0e5c=document[_0xeb3cbe(0x1d8)](_0xeb3cbe(0x24d)),_0x5e9dab=document['querySelector'](_0xeb3cbe(0x208)),_0x1222c6=document['querySelector'](_0xeb3cbe(0x11b));if(this[_0xeb3cbe(0x1cf)]==='email'&&_0x5b476a){if(_0x7a0e5c)_0x7a0e5c[_0xeb3cbe(0x20d)]='Email\x20Sent\x20Successfully!';if(_0x5e9dab)_0x5e9dab[_0xeb3cbe(0x20d)]=_0xeb3cbe(0x209);if(_0x1222c6)_0x1222c6[_0xeb3cbe(0x143)]='<div\x20style=\x22font-size:\x2048px;\x22>‚úì</div>';}else{if(this['transferMode']===_0xeb3cbe(0x1db)&&!_0x5b476a){if(_0x7a0e5c)_0x7a0e5c['textContent']='Email\x20Failed\x20-\x20Share\x20Link\x20Instead';if(_0x5e9dab)_0x5e9dab[_0xeb3cbe(0x20d)]=_0xeb3cbe(0x287);}}setTimeout(()=>{const _0x469f2d=_0xeb3cbe;_0x1a028d[_0x469f2d(0x1af)]({'behavior':'smooth','block':_0x469f2d(0x277)});},0x64),this[_0xeb3cbe(0x26d)](_0x187a97);}await this[_0xeb3cbe(0x228)]();if(this[_0xeb3cbe(0x1cf)]==='email'&&_0x5b476a)this['showNotification']('Email\x20sent!\x20Waiting\x20for\x20recipient\x20to\x20download...',_0xeb3cbe(0x23d));else this['transferMode']==='link'&&this[_0xeb3cbe(0x1e2)]('Share\x20link\x20created!','success');this['startKeepalive']();}catch(_0x9ddfcd){console['error']('Error:',_0x9ddfcd),this['showNotification'](_0xeb3cbe(0x10b)+_0x9ddfcd[_0xeb3cbe(0x157)],'error');}}['startKeepalive'](){const _0x2ebbde=_0x3b52e4;this[_0x2ebbde(0x13b)]=setInterval(()=>{const _0x29d963=_0x2ebbde;this['ws']&&this['ws']['readyState']===WebSocket[_0x29d963(0x247)]&&this[_0x29d963(0x100)]({'type':'ping'});},0x61a8);}['generateAnimatedQRCode'](_0x55e2ab){const _0x472513=_0x3b52e4,_0x27b5db=document['getElementById'](_0x472513(0x10c)),_0x12a0ee=document[_0x472513(0x1d8)](_0x472513(0x257));if(!_0x27b5db)return;const _0x3c87af=['Initializing\x20quantum\x20state...','Merging\x20qubits...',_0x472513(0x243),_0x472513(0x24c),'Calibrating\x20tunnel\x20coordinates...','Locking\x20dimensional\x20rift...',_0x472513(0x168),'Quantum\x20link\x20established!'];_0x27b5db[_0x472513(0x143)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-loading\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-spinner\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qr-status-text\x22>'+_0x3c87af[0x0]+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20';if(_0x12a0ee)_0x12a0ee['style']['opacity']='0';let _0x516e82=0x0;const _0x5540f3=setInterval(()=>{_0x516e82++;const _0x5c8183=_0x27b5db['querySelector']('.qr-status-text');_0x5c8183&&_0x516e82<_0x3c87af['length']-0x1&&(_0x5c8183['style']['opacity']='0',setTimeout(()=>{const _0x1b6cf3=_0x6d64;_0x5c8183[_0x1b6cf3(0x20d)]=_0x3c87af[_0x516e82],_0x5c8183['style']['opacity']='1';},0xc8));},0x3e8);setTimeout(()=>{const _0x363eac=_0x472513;clearInterval(_0x5540f3);const _0x2a3e8b=_0x27b5db[_0x363eac(0x1d8)]('.qr-status-text');_0x2a3e8b&&(_0x2a3e8b[_0x363eac(0x1b9)]['opacity']='0',setTimeout(()=>{const _0x37d9fa=_0x363eac;_0x2a3e8b[_0x37d9fa(0x20d)]=_0x3c87af[_0x3c87af[_0x37d9fa(0x261)]-0x1],_0x2a3e8b['style']['opacity']='1';},0xc8)),setTimeout(()=>{const _0x4698b8=_0x363eac;this[_0x4698b8(0x1ca)](_0x55e2ab),_0x12a0ee&&(_0x12a0ee[_0x4698b8(0x1b9)][_0x4698b8(0x225)]='1',_0x12a0ee['style']['transition']=_0x4698b8(0x167));},0x3e8);},0x1b58);}['generateQRCode'](_0xbbcc14){const _0x1e2777=_0x3b52e4,_0x33f84d=document['getElementById']('qrCode');if(!_0x33f84d)return;const _0x195897=qrcode(0x0,'M');_0x195897['addData'](_0xbbcc14),_0x195897['make']();const _0x18465e=_0x195897['getModuleCount'](),_0x5bf411=0x5,_0x1331e3=_0x18465e*_0x5bf411,_0x2fa7d5=0xf,_0x44c37c=_0x1331e3+_0x2fa7d5*0x2;let _0x10e61a=_0x1e2777(0x1d1)+_0x44c37c+'\x22\x20height=\x22'+_0x44c37c+'\x22\x20viewBox=\x220\x200\x20'+_0x44c37c+'\x20'+_0x44c37c+_0x1e2777(0x1b7);_0x10e61a+=_0x1e2777(0x27d);let _0x73f71d=0x0;for(let _0x66f28e=0x0;_0x66f28e<_0x18465e;_0x66f28e++){for(let _0x137e72=0x0;_0x137e72<_0x18465e;_0x137e72++){if(_0x195897['isDark'](_0x66f28e,_0x137e72)){const _0x4e4926=_0x2fa7d5+_0x137e72*_0x5bf411+_0x5bf411/0x2,_0x29a17f=_0x2fa7d5+_0x66f28e*_0x5bf411+_0x5bf411/0x2,_0x232875=_0x73f71d*0x5%0x1f4,_0x59b5a2=this['isQRCorner'](_0x66f28e,_0x137e72,_0x18465e),_0x22fb0f=_0x59b5a2?_0x5bf411/0x2:_0x5bf411/2.5;_0x10e61a+='<circle\x20cx=\x22'+_0x4e4926+'\x22\x20cy=\x22'+_0x29a17f+'\x22\x20r=\x22'+_0x22fb0f+'\x22\x20fill=\x22#4ade80\x22\x20class=\x22qr-dot\x22\x20style=\x22animation-delay:\x20'+_0x232875+_0x1e2777(0x1fc),_0x10e61a+=_0x1e2777(0x281)+_0x232875+'ms\x22\x20fill=\x22freeze\x22/>',_0x10e61a+='</circle>',_0x73f71d++;}}}_0x10e61a+=_0x1e2777(0x18e),_0x33f84d['innerHTML']=_0x10e61a+'<div\x20class=\x22scan-line\x22></div>';}['isQRCorner'](_0x5000be,_0x529162,_0x58edf7){const _0x38c777=0x7;if(_0x5000be<_0x38c777&&_0x529162<_0x38c777)return!![];if(_0x5000be<_0x38c777&&_0x529162>=_0x58edf7-_0x38c777)return!![];if(_0x5000be>=_0x58edf7-_0x38c777&&_0x529162<_0x38c777)return!![];return![];}async[_0x3b52e4(0x1f3)](){const _0x2b95ed=_0x3b52e4,_0x42256a=document['getElementById']('shareLink');if(!_0x42256a)return;try{await navigator[_0x2b95ed(0x1bd)][_0x2b95ed(0x1f0)](_0x42256a[_0x2b95ed(0x19a)]),this[_0x2b95ed(0x1e2)](_0x2b95ed(0x1c0),_0x2b95ed(0x23d));}catch(_0x3c8961){_0x42256a[_0x2b95ed(0x112)](),document['execCommand']('copy'),this['showNotification']('Link\x20copied!\x20Waiting\x20for\x20receiver...','success');}}['scrollToTransferSection'](){const _0x1cb985=_0x3b52e4,_0x2693ca=document['getElementById']('transferSection');_0x2693ca&&(_0x2693ca[_0x1cb985(0x1b9)][_0x1cb985(0x253)]='block',setTimeout(()=>{_0x2693ca['scrollIntoView']({'behavior':'smooth','block':'center'});},0x64));}['checkUrlForRoom'](){const _0xa516ee=_0x3b52e4,_0x3f3fd4=new URLSearchParams(window['location'][_0xa516ee(0x18b)]),_0x3781ef=_0x3f3fd4[_0xa516ee(0x24b)]('Q-Gate')||_0x3f3fd4['get']('room');_0x3781ef&&(this['isHost']=![],this[_0xa516ee(0x27c)]=_0x3781ef,this['showReceiverMode'](),setTimeout(()=>this[_0xa516ee(0x1b6)](),0x1f4));}async[_0x3b52e4(0x1b6)](){const _0x57a7e3=_0x3b52e4;try{this['updateTransferStatus'](_0x57a7e3(0x165)),await this['connectToServer'](),await this[_0x57a7e3(0x228)](),this['send']({'type':'join-room','roomId':this['roomId']}),this[_0x57a7e3(0x21f)]('Waiting\x20for\x20sender...');}catch(_0x150093){console['error']('Join\x20error:',_0x150093),this[_0x57a7e3(0x1e2)]('Failed:\x20'+_0x150093['message'],_0x57a7e3(0x28f)),this['updateTransferStatus']('Connection\x20failed');}}[_0x3b52e4(0x136)](){const _0x387df6=_0x3b52e4,_0x9ba8f9=document['querySelector'](_0x387df6(0x279)),_0x559fcc=document[_0x387df6(0x1d8)](_0x387df6(0x1d6)),_0x29534c=document[_0x387df6(0x179)](_0x387df6(0x1b0)),_0xf140ac=document[_0x387df6(0x179)](_0x387df6(0x1ba)),_0x20e835=document[_0x387df6(0x179)](_0x387df6(0x1f8));if(_0x9ba8f9)_0x9ba8f9['innerHTML']='Receiving\x20<span\x20class=\x22highlight\x22>Files</span>';if(_0x559fcc)_0x559fcc[_0x387df6(0x20d)]=_0x387df6(0x276);if(_0x29534c)_0x29534c[_0x387df6(0x1b9)]['display']='none';if(_0xf140ac)_0xf140ac[_0x387df6(0x1b9)][_0x387df6(0x253)]=_0x387df6(0x1b2);if(_0x20e835)_0x20e835['style'][_0x387df6(0x253)]='none';const _0x5a8e61=document[_0x387df6(0x179)](_0x387df6(0x289));_0x5a8e61&&(_0x5a8e61['style']['display']=_0x387df6(0x249),this[_0x387df6(0x21f)]('Connecting...'));}[_0x3b52e4(0x17b)](_0x55d5a2){const _0x4ddbcc=document['querySelector']('.status-title');if(_0x4ddbcc)_0x4ddbcc['textContent']=_0x55d5a2;}async['initializeWebRTC'](_0x479590=![]){const _0x2e42a1=_0x3b52e4;this['connectionTimeout']&&(clearTimeout(this[_0x2e42a1(0x183)]),this['connectionTimeout']=null);this['forceRelayMode']=_0x479590,this[_0x2e42a1(0x20f)]++,console['log'](_0x2e42a1(0x152)+this['connectionAttempt']+_0x2e42a1(0x290)+_0x479590+')');const _0xbfae47=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x1721c3=_0xbfae47;if(this['cachedIceServers'])_0x1721c3=this['cachedIceServers'],console[_0x2e42a1(0x170)]('FileShare:\x20Using\x20cached\x20ICE\x20servers');else try{const _0x1b7bdf=await fetch('/api/turn-credentials'),_0x2121a3=await _0x1b7bdf[_0x2e42a1(0x26e)]();Array[_0x2e42a1(0xf6)](_0x2121a3)&&_0x2121a3['length']>0x0?(_0x1721c3=_0x2121a3,this['cachedIceServers']=_0x2121a3,console[_0x2e42a1(0x170)](_0x2e42a1(0x238),_0x1721c3['length'],'servers'),_0x1721c3['forEach']((_0x454226,_0x3b86c6)=>{const _0x20ada7=_0x2e42a1;console[_0x20ada7(0x170)](_0x20ada7(0x1b8)+_0x3b86c6+':',JSON['stringify'](_0x454226));})):console[_0x2e42a1(0x1b5)]('Invalid\x20TURN\x20response,\x20using\x20fallback\x20STUN');}catch(_0x340b1c){console['error'](_0x2e42a1(0x1bf),_0x340b1c);}const _0xd3b45d=_0x479590?_0x2e42a1(0x21a):_0x2e42a1(0x1f1);console['log'](_0x2e42a1(0x1ef)+_0xd3b45d);const _0x41584a={'iceServers':_0x1721c3,'iceCandidatePoolSize':0xa,'iceTransportPolicy':_0xd3b45d};this['peerConnection']=new RTCPeerConnection(_0x41584a),this['peerConnection']['onicecandidate']=_0x5783fd=>{const _0x5e7f15=_0x2e42a1;_0x5783fd['candidate']&&this[_0x5e7f15(0x100)]({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x5783fd['candidate']});},this['peerConnection']['onconnectionstatechange']=async()=>{const _0x4b8d68=_0x2e42a1,_0x1b98d8=this['peerConnection']['connectionState'];console['log']('Connection\x20state:',_0x1b98d8);if(_0x1b98d8===_0x4b8d68(0x1aa))this[_0x4b8d68(0x21f)](_0x4b8d68(0x264)),this['updateConnectionStatus'](_0x4b8d68(0x165)),!this[_0x4b8d68(0x1a3)]&&this[_0x4b8d68(0x20f)]<this[_0x4b8d68(0x204)]&&(this[_0x4b8d68(0x183)]=setTimeout(()=>{const _0x24422d=_0x4b8d68;this[_0x24422d(0x213)]&&this[_0x24422d(0x213)][_0x24422d(0x251)]==='connecting'&&(console[_0x24422d(0x170)]('FileShare:\x20Connection\x20timeout,\x20retrying\x20with\x20relay-only\x20mode...'),this[_0x24422d(0x1a5)]());},0x3a98));else{if(_0x1b98d8===_0x4b8d68(0xf7)){this['connectionTimeout']&&(clearTimeout(this[_0x4b8d68(0x183)]),this[_0x4b8d68(0x183)]=null);const _0x49ef59=await this[_0x4b8d68(0x1ea)]();console['log']('Connection\x20type\x20detected:',_0x49ef59);_0x49ef59==='relay'?(this[_0x4b8d68(0x1e2)]('Connected\x20via\x20relay\x20server','info'),this[_0x4b8d68(0x142)]('Connected\x20(Relayed)'),this[_0x4b8d68(0x127)]()):(this['showNotification'](_0x4b8d68(0xfa),_0x4b8d68(0x23d)),this[_0x4b8d68(0x142)](_0x4b8d68(0x10d)),this['showDirectConnectionBadge']());if(this[_0x4b8d68(0x111)])this[_0x4b8d68(0x17b)]('Transfer\x20starting...');}else{if(_0x1b98d8===_0x4b8d68(0x1fd)||_0x1b98d8===_0x4b8d68(0x242)){this[_0x4b8d68(0x183)]&&(clearTimeout(this['connectionTimeout']),this[_0x4b8d68(0x183)]=null);if(this['transferComplete'])console[_0x4b8d68(0x170)]('Connection\x20closed\x20after\x20successful\x20transfer'),this['updateConnectionStatus'](_0x4b8d68(0x1f9));else _0x1b98d8==='failed'?!this['forceRelayMode']&&this['connectionAttempt']<this['maxConnectionAttempts']?(console[_0x4b8d68(0x170)](_0x4b8d68(0x22a)),this[_0x4b8d68(0x1a5)]()):(this[_0x4b8d68(0x1e2)](_0x4b8d68(0x105),'error'),this[_0x4b8d68(0x21f)]('Connection\x20failed\x20-\x20try\x20again'),this[_0x4b8d68(0x142)](_0x4b8d68(0x12d))):(this[_0x4b8d68(0x21f)]('Connection\x20interrupted...'),this['updateConnectionStatus']('Disconnected'));}}}},this['peerConnection'][_0x2e42a1(0x263)]=()=>{const _0x29f6f6=_0x2e42a1,_0x3c817d=this[_0x29f6f6(0x213)]['iceConnectionState'];console[_0x29f6f6(0x170)](_0x29f6f6(0x205),_0x3c817d);if(_0x3c817d===_0x29f6f6(0x19f))this[_0x29f6f6(0x21f)](_0x29f6f6(0x1a7));else _0x3c817d==='failed'&&!this['transferComplete']&&(!this['forceRelayMode']&&this[_0x29f6f6(0x20f)]<this['maxConnectionAttempts']?(console['log']('FileShare:\x20ICE\x20failed,\x20retrying\x20with\x20relay-only\x20mode...'),this[_0x29f6f6(0x1a5)]()):(this['showNotification'](_0x29f6f6(0x1ab),'error'),this[_0x29f6f6(0x21f)]('Network\x20error\x20-\x20check\x20firewall')));},this['isHost']?(this[_0x2e42a1(0x1fa)]=this['peerConnection'][_0x2e42a1(0x1a0)]('fileTransfer',{'ordered':!![]}),this['setupDataChannel']()):this[_0x2e42a1(0x213)]['ondatachannel']=_0x59f9a6=>{const _0x5d0303=_0x2e42a1;this[_0x5d0303(0x1fa)]=_0x59f9a6[_0x5d0303(0x192)],this[_0x5d0303(0x1c7)]();};}async[_0x3b52e4(0x1a5)](){const _0x3d9c0d=_0x3b52e4;console[_0x3d9c0d(0x170)]('FileShare:\x20Retrying\x20connection\x20with\x20relay-only\x20mode\x20(VPN\x20fallback)...'),this['showNotification'](_0x3d9c0d(0x25d),_0x3d9c0d(0x235)),this[_0x3d9c0d(0x21f)]('Retrying\x20with\x20relay\x20mode...'),this[_0x3d9c0d(0x142)]('Switching\x20to\x20relay\x20mode...'),this[_0x3d9c0d(0x213)]&&(this[_0x3d9c0d(0x213)]['onicecandidate']=null,this['peerConnection']['onconnectionstatechange']=null,this[_0x3d9c0d(0x213)]['oniceconnectionstatechange']=null,this[_0x3d9c0d(0x213)][_0x3d9c0d(0x1a8)]=null,this[_0x3d9c0d(0x213)]['close'](),this[_0x3d9c0d(0x213)]=null),this['dataChannel']&&(this[_0x3d9c0d(0x1fa)]['close'](),this[_0x3d9c0d(0x1fa)]=null),await this['initializeWebRTC'](!![]),this[_0x3d9c0d(0x111)]?(this[_0x3d9c0d(0x100)]({'type':_0x3d9c0d(0x102),'roomId':this['roomId']}),setTimeout(()=>{const _0x29176c=_0x3d9c0d;this[_0x29176c(0x200)]();},0x1f4)):this['send']({'type':_0x3d9c0d(0x102),'roomId':this[_0x3d9c0d(0x27c)]});}async['handleRetryRelay'](){const _0x1ff60d=_0x3b52e4;console['log'](_0x1ff60d(0x224)),this['showNotification'](_0x1ff60d(0x101),'info'),this[_0x1ff60d(0x21f)]('Switching\x20to\x20relay\x20mode...'),this[_0x1ff60d(0x213)]&&(this['peerConnection']['onicecandidate']=null,this[_0x1ff60d(0x213)][_0x1ff60d(0x1f7)]=null,this[_0x1ff60d(0x213)]['oniceconnectionstatechange']=null,this[_0x1ff60d(0x213)][_0x1ff60d(0x1a8)]=null,this[_0x1ff60d(0x213)]['close'](),this[_0x1ff60d(0x213)]=null),this['dataChannel']&&(this[_0x1ff60d(0x1fa)]['close'](),this[_0x1ff60d(0x1fa)]=null),await this[_0x1ff60d(0x228)](!![]),this[_0x1ff60d(0x111)]&&setTimeout(()=>{this['createAndSendOffer']();},0x1f4);}async[_0x3b52e4(0x200)](){const _0x462ff7=_0x3b52e4;try{const _0x6bdf9c=await this['peerConnection'][_0x462ff7(0x117)]();await this[_0x462ff7(0x213)][_0x462ff7(0x1a4)](_0x6bdf9c),this[_0x462ff7(0x100)]({'type':_0x462ff7(0x18f),'roomId':this[_0x462ff7(0x27c)],'sdp':_0x6bdf9c[_0x462ff7(0x1e0)]});}catch(_0x438fbe){console['error']('Offer\x20error:',_0x438fbe),this[_0x462ff7(0x1e2)](_0x462ff7(0x12d),_0x462ff7(0x28f));}}async['handleOffer'](_0xed1b73){const _0x4e3051=_0x3b52e4;try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0xed1b73['sdp']}));const _0x575ec5=await this[_0x4e3051(0x213)]['createAnswer']();await this['peerConnection']['setLocalDescription'](_0x575ec5),this['send']({'type':_0x4e3051(0x137),'roomId':this['roomId'],'sdp':_0x575ec5['sdp']}),this[_0x4e3051(0x21f)](_0x4e3051(0x10e)),this[_0x4e3051(0x142)](_0x4e3051(0x1d3));}catch(_0x8193b6){console[_0x4e3051(0x28f)](_0x4e3051(0x114),_0x8193b6);}}async['handleAnswer'](_0x3612fc){const _0x42ad09=_0x3b52e4;try{await this['peerConnection'][_0x42ad09(0x18a)](new RTCSessionDescription({'type':'answer','sdp':_0x3612fc['sdp']}));}catch(_0x424fc3){console[_0x42ad09(0x28f)](_0x42ad09(0x132),_0x424fc3);}}async['handleIceCandidate'](_0x116fbf){const _0x55853a=_0x3b52e4;try{_0x116fbf[_0x55853a(0x1f2)]&&await this['peerConnection'][_0x55853a(0x198)](new RTCIceCandidate(_0x116fbf['candidate']));}catch(_0x181f82){console['error']('ICE\x20error:',_0x181f82);}}['setupDataChannel'](){const _0x30e6ac=_0x3b52e4;this[_0x30e6ac(0x1fa)][_0x30e6ac(0x197)]='arraybuffer',this[_0x30e6ac(0x1fa)]['onopen']=()=>{const _0x2f8e93=_0x30e6ac;console['log']('Data\x20channel\x20open'),this[_0x2f8e93(0x111)]?(this[_0x2f8e93(0x1e2)]('Starting\x20transfer...','success'),this[_0x2f8e93(0x142)]('Sending\x20files...'),this['startFileTransfer']()):(this['updateTransferStatus'](_0x2f8e93(0xf9)),this[_0x2f8e93(0x142)]('Receiving\x20files...'));},this[_0x30e6ac(0x1fa)][_0x30e6ac(0xf0)]=()=>console[_0x30e6ac(0x170)](_0x30e6ac(0x171)),this[_0x30e6ac(0x1fa)]['onerror']=_0x50c60b=>{const _0x15e0dd=_0x30e6ac;console[_0x15e0dd(0x28f)](_0x15e0dd(0x27f),_0x50c60b),this[_0x15e0dd(0x1e2)]('Transfer\x20error','error');},this[_0x30e6ac(0x1fa)][_0x30e6ac(0x201)]=_0x14e8c1=>this[_0x30e6ac(0x131)](_0x14e8c1);}async['handleDataChannelMessage'](_0x51feb3){const _0x35ed62=_0x3b52e4;if(typeof _0x51feb3['data']==='string'){const _0x2d0ef0=JSON[_0x35ed62(0x12a)](_0x51feb3['data']);if(_0x2d0ef0[_0x35ed62(0xf1)]==='file-info')_0x2d0ef0['currentIndex']===0x1&&(await this['acquireWakeLock'](),await this['acquireWebLock']()),this['receivedFileInfo']=_0x2d0ef0,this['receivedChunks']=[],this[_0x35ed62(0x174)]=0x0,this[_0x35ed62(0x20e)]=Date[_0x35ed62(0x18d)](),this[_0x35ed62(0x21f)]('Receiving:\x20'+_0x2d0ef0[_0x35ed62(0x17a)]+'\x20('+_0x2d0ef0['currentIndex']+'/'+_0x2d0ef0['totalFiles']+')'),this[_0x35ed62(0x1dd)](_0x2d0ef0[_0x35ed62(0x17a)]);else{if(_0x2d0ef0[_0x35ed62(0xf1)]==='file-complete')this[_0x35ed62(0x138)]&&(this['receivedFilesCount']++,this[_0x35ed62(0x14e)]+=this[_0x35ed62(0x138)]['size']),this[_0x35ed62(0xff)]();else{if(_0x2d0ef0[_0x35ed62(0xf1)]==='all-complete'){this['transferComplete']=!![],this[_0x35ed62(0x21f)]('Transfer\x20Complete!'),this['updateConnectionStatus']('All\x20files\x20received\x20successfully'),this[_0x35ed62(0x16c)](0x64),this[_0x35ed62(0x1e2)](_0x35ed62(0xf5),'success'),this[_0x35ed62(0x1e6)]();const _0x128477=Date[_0x35ed62(0x18d)]()-this['transferStartTime'];window['globalStats']&&this[_0x35ed62(0x272)]>0x0&&window['globalStats'][_0x35ed62(0x17e)](this[_0x35ed62(0x272)],this[_0x35ed62(0x14e)],_0x128477);if(this['isUsingRelay']&&this['receivedTotalBytes']>0x0){const _0x29c287=this['updateRelayUsage'](this[_0x35ed62(0x14e)]);console[_0x35ed62(0x170)](_0x35ed62(0x1f6),this['formatRelayUsage'](_0x29c287));}if(window[_0x35ed62(0x11d)]&&this['receivedFilesCount']>0x0){const _0x6098d3=this['receivedTotalBytes']/(_0x128477/0x3e8)/(0x400*0x400);window[_0x35ed62(0x11d)][_0x35ed62(0x15f)](this['receivedFilesCount'],_0x6098d3,_0x128477);}this[_0x35ed62(0x100)]({'type':_0x35ed62(0x220),'roomId':this[_0x35ed62(0x27c)]}),this[_0x35ed62(0xfc)]();if(this[_0x35ed62(0xf8)])this['releaseWebLock']();}}}}else this[_0x35ed62(0x166)]['push'](_0x51feb3['data']),this[_0x35ed62(0x174)]+=_0x51feb3['data']['byteLength'],this[_0x35ed62(0x1ed)]();}async[_0x3b52e4(0x1de)](){const _0xfbbbbd=_0x3b52e4,_0x55dcff=document['getElementById']('transferSection');if(_0x55dcff)_0x55dcff['style'][_0xfbbbbd(0x253)]=_0xfbbbbd(0x249);if(this['isUsingRelay']){const _0x175e57=await this[_0xfbbbbd(0x1bc)]();if(!_0x175e57){this[_0xfbbbbd(0x21f)]('Transfer\x20blocked\x20-\x20relay\x20limit\x20exceeded');return;}}await this[_0xfbbbbd(0x199)](),await this[_0xfbbbbd(0x1d0)](),this[_0xfbbbbd(0x20e)]=Date['now']();for(let _0x9df1f1=0x0;_0x9df1f1<this[_0xfbbbbd(0x169)][_0xfbbbbd(0x261)];_0x9df1f1++){await this['sendFile'](this[_0xfbbbbd(0x169)][_0x9df1f1],_0x9df1f1+0x1,this[_0xfbbbbd(0x169)]['length']);}this[_0xfbbbbd(0x1fa)]['send'](JSON[_0xfbbbbd(0x155)]({'type':'all-complete'})),this[_0xfbbbbd(0x139)]=!![],this['updateTransferStatus']('Transfer\x20Complete!'),this[_0xfbbbbd(0x17b)]('Transfer\x20Complete!'),this['updateConnectionStatus'](_0xfbbbbd(0x260)),this[_0xfbbbbd(0x16c)](0x64),this[_0xfbbbbd(0x1e2)](_0xfbbbbd(0x15a),_0xfbbbbd(0x23d));const _0x38aaa5=this['files'][_0xfbbbbd(0x210)]((_0x21d168,_0x10b304)=>_0x21d168+_0x10b304[_0xfbbbbd(0x16b)],0x0),_0x3c9d3c=Date[_0xfbbbbd(0x18d)]()-this['transferStartTime'];window[_0xfbbbbd(0x27b)]&&window['globalStats']['addTransfer'](this['files']['length'],_0x38aaa5,_0x3c9d3c);if(this[_0xfbbbbd(0x24a)]){const _0x34afd1=this['updateRelayUsage'](_0x38aaa5);console['log']('Relay\x20usage\x20updated:',this['formatRelayUsage'](_0x34afd1));}if(window['statsWidgets']){const _0x5aecc6=_0x38aaa5/(_0x3c9d3c/0x3e8)/(0x400*0x400);window['statsWidgets']['onTransferComplete'](this[_0xfbbbbd(0x169)]['length'],_0x5aecc6,_0x3c9d3c);}this['releaseWakeLock']();if(this['releaseWebLock'])this[_0xfbbbbd(0xf8)]();}async['sendFile'](_0x1fe834,_0x597b6d,_0xd601cf){return new Promise(_0x523809=>{const _0x356fb2=_0x6d64;this['dataChannel']['send'](JSON[_0x356fb2(0x155)]({'type':_0x356fb2(0x27a),'name':_0x1fe834[_0x356fb2(0x17a)],'size':_0x1fe834['size'],'mimeType':_0x1fe834[_0x356fb2(0xf1)],'currentIndex':_0x597b6d,'totalFiles':_0xd601cf})),this['updateTransferStatus']('Sending:\x20'+_0x1fe834[_0x356fb2(0x17a)]+'\x20('+_0x597b6d+'/'+_0xd601cf+')'),this['updateCurrentFileName'](_0x1fe834[_0x356fb2(0x17a)]);const _0x3802f1=new FileReader();let _0xe631c=0x0;this['totalBytesTransferred']=0x0;const _0x180740=()=>{const _0xe65827=_0x356fb2;_0x3802f1[_0xe65827(0x26b)](_0x1fe834['slice'](_0xe631c,_0xe631c+this['chunkSize']));};_0x3802f1['onload']=_0x558e41=>{const _0x4dc402=()=>{const _0x58ab9c=_0x6d64;if(this['dataChannel'][_0x58ab9c(0x22c)]>this['chunkSize']*0x10){setTimeout(_0x4dc402,0xa);return;}this['dataChannel'][_0x58ab9c(0x100)](_0x558e41['target'][_0x58ab9c(0x203)]),this['totalBytesTransferred']=_0xe631c+_0x558e41[_0x58ab9c(0x1c3)]['result'][_0x58ab9c(0x14c)],_0xe631c+=this['chunkSize'],this['updateProgressBar'](Math[_0x58ab9c(0x218)](Math[_0x58ab9c(0x15e)](_0xe631c,_0x1fe834[_0x58ab9c(0x16b)])/_0x1fe834['size']*0x64)),this[_0x58ab9c(0x1ad)](_0x1fe834[_0x58ab9c(0x16b)]),_0xe631c<_0x1fe834['size']?_0x180740():(this['dataChannel']['send'](JSON['stringify']({'type':_0x58ab9c(0x245)})),setTimeout(_0x523809,0x64));};_0x4dc402();},_0x180740();});}[_0x3b52e4(0x16c)](_0x5c13ac){const _0x16a351=_0x3b52e4,_0x21f1a8=document[_0x16a351(0x179)](_0x16a351(0x17f)),_0x16bac6=document['getElementById']('progressPercent');if(_0x21f1a8)_0x21f1a8[_0x16a351(0x1b9)]['width']=_0x5c13ac+'%';if(_0x16bac6)_0x16bac6['textContent']=_0x5c13ac+'%';}[_0x3b52e4(0x1ad)](_0x908e1e){const _0x4745bb=_0x3b52e4;if(!this[_0x4745bb(0x20e)])return;const _0x154da2=(Date['now']()-this[_0x4745bb(0x20e)])/0x3e8,_0x20a6b6=this[_0x4745bb(0x174)]/_0x154da2,_0x1d42ca=document[_0x4745bb(0x179)](_0x4745bb(0x194)),_0x63fb14=document[_0x4745bb(0x179)](_0x4745bb(0x19e)),_0x41b439=document[_0x4745bb(0x179)]('remainingSize'),_0x2eceeb=document[_0x4745bb(0x179)](_0x4745bb(0x1eb));if(_0x1d42ca)_0x1d42ca['textContent']=this[_0x4745bb(0xee)](_0x20a6b6)+'/s';if(_0x63fb14)_0x63fb14[_0x4745bb(0x20d)]=this['formatFileSize'](this[_0x4745bb(0x174)]);if(_0x41b439)_0x41b439[_0x4745bb(0x20d)]=this['formatFileSize'](Math['max'](0x0,_0x908e1e-this[_0x4745bb(0x174)]));if(_0x2eceeb&&_0x20a6b6>0x0){const _0x51ebe1=(_0x908e1e-this[_0x4745bb(0x174)])/_0x20a6b6;_0x2eceeb['textContent']=_0x51ebe1<0x3c?Math[_0x4745bb(0x1da)](_0x51ebe1)+'s':Math['ceil'](_0x51ebe1/0x3c)+'m';}}['updateCurrentFileName'](_0x49bc8c){const _0xf87d18=_0x3b52e4,_0x1a5057=document[_0xf87d18(0x179)](_0xf87d18(0x10f));if(_0x1a5057)_0x1a5057[_0xf87d18(0x20d)]=_0x49bc8c;}['updateProgress'](){const _0x53416d=_0x3b52e4;if(!this['receivedFileInfo'])return;const _0x5aa25e=this[_0x53416d(0x166)][_0x53416d(0x210)]((_0x9098c,_0x12786c)=>_0x9098c+_0x12786c[_0x53416d(0x14c)],0x0);this[_0x53416d(0x16c)](Math[_0x53416d(0x15e)](Math[_0x53416d(0x218)](_0x5aa25e/this['receivedFileInfo']['size']*0x64),0x64)),this['updateTransferSpeed'](this['receivedFileInfo'][_0x53416d(0x16b)]);}['assembleAndDownloadFile'](){const _0x41da74=_0x3b52e4;if(!this[_0x41da74(0x138)]||!this[_0x41da74(0x166)][_0x41da74(0x261)])return;const _0x5cb102=new Blob(this[_0x41da74(0x166)],{'type':this[_0x41da74(0x138)]['mimeType']||_0x41da74(0x286)});this['completedFiles'][_0x41da74(0x215)]({'blob':_0x5cb102,'name':this['receivedFileInfo']['name']}),this['showNotification'](_0x41da74(0x193)+this[_0x41da74(0x138)]['name'],_0x41da74(0x23d)),this['receivedChunks']=[],this['receivedFileInfo']=null,this['totalBytesTransferred']=0x0,this['transferStartTime']=Date[_0x41da74(0x18d)]();}[_0x3b52e4(0x1e6)](){const _0x4e67fb=_0x3b52e4;if(this['completedFiles'][_0x4e67fb(0x261)]===0x0)return;this['completedFiles']['forEach']((_0x799821,_0x42e29e)=>{setTimeout(()=>{const _0x2d1951=_0x6d64,_0x265661=URL[_0x2d1951(0x246)](_0x799821['blob']),_0x39b025=document[_0x2d1951(0x11c)]('a');_0x39b025[_0x2d1951(0x284)]=_0x265661,_0x39b025['download']=_0x799821[_0x2d1951(0x17a)],document[_0x2d1951(0x1e3)][_0x2d1951(0x226)](_0x39b025),_0x39b025[_0x2d1951(0x14a)](),document[_0x2d1951(0x1e3)][_0x2d1951(0x109)](_0x39b025),URL['revokeObjectURL'](_0x265661);},_0x42e29e*0x1f4);}),this[_0x4e67fb(0x266)]=[];}[_0x3b52e4(0x21f)](_0x1dd7fe){const _0x599f1b=_0x3b52e4,_0x30089e=document['querySelector']('.transfer-title');if(_0x30089e)_0x30089e[_0x599f1b(0x20d)]=_0x1dd7fe;_0x1dd7fe===_0x599f1b(0x149)&&this['showTransferComplete']();}['showTransferComplete'](){const _0x2fc2ac=_0x3b52e4,_0x355635=document['querySelector'](_0x2fc2ac(0x123)),_0x472655=document[_0x2fc2ac(0x1d8)](_0x2fc2ac(0x280));if(_0x355635)_0x355635['classList'][_0x2fc2ac(0x271)]('completed');if(_0x472655)_0x472655[_0x2fc2ac(0x288)][_0x2fc2ac(0x271)](_0x2fc2ac(0x262));const _0x1a5ccc=document[_0x2fc2ac(0x1d8)]('.radar-loader');_0x1a5ccc&&(_0x1a5ccc[_0x2fc2ac(0x143)]='<div\x20style=\x22font-size:\x2048px;\x20color:\x20#4ade80;\x20animation:\x20none;\x22>‚úì</div>');const _0x16252a=document[_0x2fc2ac(0x1d8)]('.status-title'),_0x591195=document[_0x2fc2ac(0x1d8)]('.status-text');if(_0x16252a)_0x16252a['textContent']=_0x2fc2ac(0x149);if(_0x591195)_0x591195['textContent']=_0x2fc2ac(0x252);}['updateConnectionStatus'](_0x2b8d2b){const _0xb88e29=_0x3b52e4,_0x22e477=document[_0xb88e29(0x179)](_0xb88e29(0x115));if(_0x22e477)_0x22e477[_0xb88e29(0x20d)]=_0x2b8d2b;}[_0x3b52e4(0x1e2)](_0x4b1fbd,_0x41bf0d=_0x3b52e4(0x235)){const _0x1e85da=_0x3b52e4,_0x1513a3=document[_0x1e85da(0x1d8)]('.notification-toast');if(_0x1513a3)_0x1513a3['remove']();const _0x18be69=document[_0x1e85da(0x11c)]('div');_0x18be69[_0x1e85da(0xfb)]=_0x1e85da(0x23b)+_0x41bf0d,_0x18be69[_0x1e85da(0x143)]=_0x1e85da(0x1a6)+(_0x41bf0d==='success'?'‚úì':_0x41bf0d==='error'?'‚úï':'‚Ñπ')+'</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-message\x22>'+this['escapeHtml'](_0x4b1fbd)+_0x1e85da(0x140),document[_0x1e85da(0x1e3)][_0x1e85da(0x226)](_0x18be69),setTimeout(()=>_0x18be69[_0x1e85da(0x288)]['add'](_0x1e85da(0x113)),0xa),setTimeout(()=>{const _0x475be6=_0x1e85da;_0x18be69[_0x475be6(0x288)][_0x475be6(0x274)](_0x475be6(0x113)),setTimeout(()=>_0x18be69['remove'](),0x12c);},0xfa0);}}document[_0x3b52e4(0x11f)](_0x3b52e4(0x211),()=>{const _0x45b5fa=_0x3b52e4;window[_0x45b5fa(0x240)]=new FileShare();});function _0x1119(){const _0x926cc4=['showPasswordPrompt','wss:','removeChild','Share\x20link\x20expired\x20or\x20invalid.\x20Ask\x20sender\x20for\x20a\x20new\x20link.','Failed\x20to\x20connect:\x20','qrCode','Direct\x20P2P\x20Connected','Connected!\x20Waiting\x20for\x20files...','currentFileName','Failed\x20to\x20send\x20email','isHost','select','show','Offer\x20handling\x20error:','connectionStatus','shareOptions','createOffer','filter','trim','downloadLimit','.radar-loader','createElement','statsWidgets','div','addEventListener','localCandidateId','cachedIceServers','transferMessage','.transfer-icon','Please\x20enter\x20a\x20valid\x20sender\x20email','checked','Email\x20sending\x20failed:\x20','showRelayWarning','split','handleDragLeave','parse','handleRetryRelay','Room\x20closed','Connection\x20failed','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-content\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-icon\x22>üö´</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22relay-warning-text\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<strong>Monthly\x20Relay\x20Limit\x20Reached</strong>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span>You\x27ve\x20used\x20your\x20200GB\x20monthly\x20relay\x20quota.\x20Direct\x20P2P\x20transfers\x20are\x20still\x20unlimited.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22relay-usage\x22>Limit\x20resets\x20on\x20the\x201st\x20of\x20next\x20month.</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','4650668JsJYEY','onerror','handleDataChannelMessage','Answer\x20error:','handleIceCandidate','handleMessage','pdf','showReceiverMode','answer','receivedFileInfo','transferComplete','0\x20Bytes','keepaliveInterval','transport','relayWarningStyles','relayWarningBanner','charAt','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-size\x22>','updateConnectionStatus','innerHTML','head','Error\x20fetching\x20global\x20stats:','Please\x20select\x20files','</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22remove-file\x22\x20data-index=\x22','peer-left','Transfer\x20Complete!','click','beforeunload','byteLength','state','receivedTotalBytes','formatSpeed','addRelayWarningStyles','has-files','FileShare:\x20Initializing\x20WebRTC\x20(attempt\x20','application/json','room-created','stringify','reason','message','getItem','updateDisplay','All\x20files\x20sent!','nominated','Wake\x20lock\x20released','getStats','min','onTransferComplete','createShareLink','getWebSocketUrl','POST','relay-warning-banner\x20relay-limit-exceeded','Room\x20not\x20found','Connecting...','receivedChunks','opacity\x200.5s\x20ease','Synchronizing\x20timelines...','files','Please\x20enter\x20your\x20email','size','updateProgressBar','zip','stopPropagation','fetchStats','log','Data\x20channel\x20closed','exclusive','peer-joined','totalBytesTransferred','Room\x20creation\x20timeout','startsWith','shareLink','isIntersecting','getElementById','name','updateShareStatus','offsetWidth','removeFile','addTransfer','progressFill','checkUrlForRoom','onRoomCreated','Room\x20created:','connectionTimeout','showDirectConnectionBadge','create-room','active','Email\x20send\x20error:','Connecting\x20to:','audio/','setRemoteDescription','search','pow','now','</svg>','offer','from','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-banner\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20rgba(251,\x20146,\x2060,\x200.12),\x20rgba(239,\x2068,\x2068,\x200.08)),\x20rgba(255,\x20255,\x20255,\x200.08);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(251,\x20146,\x2060,\x200.4);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-bottom:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20animation:\x20slideDown\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20-webkit-backdrop-filter:\x20blur(12px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20backdrop-filter:\x20blur(12px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20box-shadow:\x200\x208px\x2032px\x20rgba(0,\x200,\x200,\x200.2),\x20inset\x200\x200\x2029px\x20-5px\x20rgba(255,\x20255,\x20255,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x202;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20@keyframes\x20slideDown\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20from\x20{\x20opacity:\x200;\x20transform:\x20translateY(-10px);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20to\x20{\x20opacity:\x201;\x20transform:\x20translateY(0);\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-content\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20flex-start;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-icon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-shrink:\x200;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20flex-direction:\x20column;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#fb923c;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.95rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-text\x20span\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.7);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.85rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.9)\x20!important;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-weight:\x20500;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-close\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x20none;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20cursor:\x20pointer;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.25rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x201rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20line-height:\x201;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-warning-close:hover\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20rgba(255,\x20255,\x20255,\x200.8);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage-bar\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x204px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20overflow:\x20hidden;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-usage-fill\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20height:\x20100%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(90deg,\x20#4ade80,\x20#fb923c,\x20#ef4444);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x202px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20width\x200.3s\x20ease;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-connection-badge\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20display:\x20inline-flex;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20align-items:\x20center;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20gap:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(74,\x20222,\x20128,\x200.15);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(74,\x20222,\x20128,\x200.3);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2020px;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20padding:\x200.35rem\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20margin-top:\x200.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.8rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-badge-icon\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20font-size:\x200.9rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.direct-badge-text\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#4ade80;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-limit-exceeded\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20background:\x20linear-gradient(135deg,\x20rgba(239,\x2068,\x2068,\x200.2),\x20rgba(239,\x2068,\x2068,\x200.1));\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.5);\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20.relay-limit-exceeded\x20.relay-warning-text\x20strong\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20color:\x20#ef4444;\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20}\x0a\x20\x20\x20\x20\x20\x20\x20\x20','channel','Received:\x20','progressSpeed','isTransferring','onopen','binaryType','addIceCandidate','acquireWakeLock','value','map','webLock','random','transferredSize','checking','createDataChannel','1754202zSaURE','live-pulse','forceRelayMode','setLocalDescription','retryWithRelayMode','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22notification-icon\x22>','Finding\x20best\x20connection\x20path...','ondatachannel','Not\x20enough\x20relay\x20quota.\x20Remaining:\x20','connecting','Network\x20connection\x20failed','change','updateTransferSpeed','host','scrollIntoView','dropZone','\x20MB/s','none','protocol','toString','warn','joinRoom','\x22\x20class=\x22qr-animated\x22>','FileShare:\x20ICE\x20Server\x20','style','selectedFiles','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22direct-badge-icon\x22>üîó</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22direct-badge-text\x22>Direct\x20P2P\x20-\x20No\x20relay\x20limits</span>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','checkRelayLimitBeforeTransfer','clipboard','data-flowing','Failed\x20to\x20fetch\x20TURN\x20credentials:','Link\x20copied!\x20Waiting\x20for\x20receiver...','updateShareButton','origin','target','Incorrect\x20password.\x20Please\x20try\x20again:','/api/stats','clearFiles','setupDataChannel','recipientEmails','close','generateQRCode','verify-password','.step-number','https:','7440830OAmrfH','transferMode','acquireWebLock','<svg\x20width=\x22','formatGB','Waiting\x20for\x20files...','setupBackgroundSupport','request','.hero-subtitle','Please\x20enter\x20recipient\x20email(s)','querySelector','dataset','ceil','email','hideSelectedFiles','updateCurrentFileName','startFileTransfer','file-transfer-lock','sdp','video/','showNotification','body','getRelayUsage','observe','downloadAllFiles','contains','Generate\x20Share\x20Link','9NzPqMI','detectConnectionType','timeLeft','fileInput','updateProgress','totalDuration','FileShare:\x20Using\x20iceTransportPolicy:\x20','writeText','all','candidate','copyShareLink','connectToServer','apiUrl','Relay\x20usage\x20updated\x20(receiver):','onconnectionstatechange','shareBtn','Transfer\x20completed\x20-\x20connection\x20closed','dataChannel','\x20attempts','ms\x22>','failed','expiryHours','Web\x20lock\x20not\x20available:','createAndSendOffer','onmessage','stats','result','maxConnectionAttempts','ICE\x20state:','text','test','.status-text','The\x20recipient\x20will\x20receive\x20an\x20email\x20with\x20the\x20download\x20link.','candidate-pair','forEach','Connection\x20lost.\x20Please\x20refresh\x20the\x20page.','textContent','transferStartTime','connectionAttempt','reduce','DOMContentLoaded','\x20GB','peerConnection','splice','push','Please\x20enter\x20a\x20password','bindEvents','round','replace','relay','setItem','password','WebSocket\x20closed','getRemainingRelayQuota','updateTransferStatus','transfer-complete','getFileIcon','WebSocket\x20error:','clearAllFiles','FileShare:\x20Received\x20retry-relay\x20signal,\x20switching\x20to\x20relay\x20mode...','opacity','appendChild','Wake\x20lock\x20not\x20available:','initializeWebRTC','formatNumber','FileShare:\x20Connection\x20failed,\x20retrying\x20with\x20relay-only\x20mode...','totalBytes','bufferedAmount','\x0a\x20\x20\x20\x20.notification-toast\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20position:\x20fixed;\x20bottom:\x2030px;\x20left:\x2050%;\x0a\x20\x20\x20\x20\x20\x20\x20\x20transform:\x20translateX(-50%)\x20translateY(100px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20background:\x20rgba(30,\x2030,\x2030,\x200.95);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border:\x201px\x20solid\x20rgba(255,\x20255,\x20255,\x200.1);\x0a\x20\x20\x20\x20\x20\x20\x20\x20border-radius:\x2012px;\x20padding:\x201rem\x201.5rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20display:\x20flex;\x20align-items:\x20center;\x20gap:\x200.75rem;\x0a\x20\x20\x20\x20\x20\x20\x20\x20z-index:\x2010000;\x20backdrop-filter:\x20blur(10px);\x0a\x20\x20\x20\x20\x20\x20\x20\x20transition:\x20transform\x200.3s\x20ease,\x20opacity\x200.3s\x20ease;\x20opacity:\x200;\x0a\x20\x20\x20\x20}\x0a\x20\x20\x20\x20.notification-toast.show\x20{\x20transform:\x20translateX(-50%)\x20translateY(0);\x20opacity:\x201;\x20}\x0a\x20\x20\x20\x20.notification-success\x20{\x20border-color:\x20rgba(74,\x20222,\x20128,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-success\x20.notification-icon\x20{\x20color:\x20#4ade80;\x20}\x0a\x20\x20\x20\x20.notification-error\x20{\x20border-color:\x20rgba(239,\x2068,\x2068,\x200.3);\x20}\x0a\x20\x20\x20\x20.notification-error\x20.notification-icon\x20{\x20color:\x20#ef4444;\x20}\x0a\x20\x20\x20\x20.notification-icon\x20{\x20font-size:\x201.2rem;\x20font-weight:\x20bold;\x20}\x0a\x20\x20\x20\x20.notification-message\x20{\x20color:\x20rgba(255,\x20255,\x20255,\x200.9);\x20font-size:\x200.95rem;\x20}\x0a','reportRelayUsageToServer','Connection\x20timeout','toISOString','escapeHtml','Monthly\x20relay\x20limit\x20(200GB)\x20exceeded.\x20Please\x20try\x20again\x20next\x20month\x20or\x20use\x20same\x20network\x20for\x20direct\x20P2P.','readyState','glitch-animate','info','.hero-card','showRelayLimitExceededBanner','TURN\x20credentials\x20loaded:','getShareOptions','connectionType','notification-toast\x20notification-','MONTHLY_RELAY_LIMIT_GB','success','init','51ifCLJF','fileShare','3368mBNBci','disconnected','Stabilizing\x20wormhole...','direct','file-complete','createObjectURL','OPEN','\x20GB\x20(','block','isUsingRelay','get','Entangling\x20particles...','.status-title','recipients','generateRoomId','5106344XcXUpz','connectionState','All\x20files\x20have\x20been\x20transferred\x20successfully.','display','\x20/\x20','Connected!\x20Waiting\x20for\x20sender...','Peer\x20disconnected','.qr-hint','63439iHsiiE','14413cxkOxo','handleFileSelect','locks','includes','Trying\x20VPN-compatible\x20mode...','%\x22></div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x22\x20title=\x22Remove\x20file\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<svg\x20width=\x2216\x22\x20height=\x2216\x22\x20viewBox=\x220\x200\x2024\x2024\x22\x20fill=\x22none\x22\x20stroke=\x22currentColor\x22\x20stroke-width=\x222\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x2218\x22\x20y1=\x226\x22\x20x2=\x226\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<line\x20x1=\x226\x22\x20y1=\x226\x22\x20x2=\x2218\x22\x20y2=\x2218\x22></line>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</svg>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','All\x20files\x20sent\x20successfully','length','completed','oniceconnectionstatechange','Establishing\x20P2P\x20connection...','Connection\x20types\x20-\x20Local:\x20','completedFiles','handleDrop','modeLinkBtn','72780WnnZwA','relay-warning-banner','readAsArrayBuffer','open','generateAnimatedQRCode','json','totalSize','10FonlyF','add','receivedFilesCount','drop','remove','preventDefault','Connecting\x20to\x20sender...','center','shareBtnText','.hero-title','file-info','globalStats','roomId','<rect\x20width=\x22100%\x22\x20height=\x22100%\x22\x20fill=\x22rgba(255,255,255,0.1)\x22\x20rx=\x2212\x22/>','sendEmailNotification','Data\x20channel\x20error:','.transfer-title','<animate\x20attributeName=\x22opacity\x22\x20values=\x220;1;1\x22\x20dur=\x220.5s\x22\x20begin=\x22','relayUsage','totalFiles','href','querySelectorAll','application/octet-stream','Copy\x20this\x20link\x20and\x20share\x20it\x20manually\x20with\x20the\x20recipient.','classList','transferSection','currentTarget','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-info\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<span\x20class=\x22file-name\x22>','This\x20file\x20is\x20password\x20protected.\x20Enter\x20password:','index','insertBefore','error',',\x20forceRelay=','sharePassword','Password\x20required\x20to\x20access\x20files','senderEmail','reconnectAttempts','location','toFixed','copyLink','formatFileSize','wakeLock','onclose','type','addFiles','hasExceededRelayLimit','totalSessions','All\x20files\x20received!','isArray','connected','releaseWebLock','Receiving\x20files...','Direct\x20P2P\x20connected!','className','releaseWakeLock','getEmailData','\x20GB/s','assembleAndDownloadFile','send','Peer\x20requested\x20VPN-compatible\x20mode...','retry-relay','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-item\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22file-icon\x22>','features-grid','P2P\x20connection\x20failed.\x20Try\x20refreshing\x20both\x20devices.','release'];_0x1119=function(){return _0x926cc4;};return _0x1119();}const styles=document[_0x3b52e4(0x11c)](_0x3b52e4(0x1b9));styles[_0x3b52e4(0x20d)]=_0x3b52e4(0x22d),document[_0x3b52e4(0x144)][_0x3b52e4(0x226)](styles);class GlobalStats{constructor(){const _0x4c0175=_0x3b52e4;this[_0x4c0175(0x1f5)]=_0x4c0175(0x1c5),this['stats']={'totalFiles':0x0,'totalBytes':0x0,'totalSessions':0x0,'totalDuration':0x0},this[_0x4c0175(0x23e)]();}async[_0x3b52e4(0x23e)](){const _0x275922=_0x3b52e4;await this[_0x275922(0x16f)](),this[_0x275922(0x159)]();}async['fetchStats'](){const _0x16c80a=_0x3b52e4;try{const _0x1b5570=await fetch(this[_0x16c80a(0x1f5)]);_0x1b5570['ok']&&(this['stats']=await _0x1b5570[_0x16c80a(0x26e)]());}catch(_0xa21697){console[_0x16c80a(0x28f)](_0x16c80a(0x145),_0xa21697);}}async['addTransfer'](_0x235dff,_0x59b453,_0x1eac16=0x0){const _0xd0e095=_0x3b52e4;try{const _0x1a9bde=await fetch(this[_0xd0e095(0x1f5)],{'method':_0xd0e095(0x162),'headers':{'Content-Type':_0xd0e095(0x153)},'body':JSON['stringify']({'files':_0x235dff,'bytes':_0x59b453,'duration':_0x1eac16/0x3e8})});if(_0x1a9bde['ok']){const _0x2d6e98=await _0x1a9bde['json']();this[_0xd0e095(0x202)]=_0x2d6e98['stats'],this[_0xd0e095(0x159)]();}}catch(_0x2f7de1){console['error']('Error\x20updating\x20global\x20stats:',_0x2f7de1);}}[_0x3b52e4(0x1d2)](_0x2ccc24){const _0x290749=_0x3b52e4,_0x3c7416=_0x2ccc24/(0x400*0x400*0x400);if(_0x3c7416>=0x3e8)return(_0x3c7416/0x3e8)[_0x290749(0xec)](0x2)+'\x20TB';return _0x3c7416[_0x290749(0xec)](0x1)+_0x290749(0x212);}['formatNumber'](_0x3dff90){const _0x4ebfa8=_0x3b52e4;if(_0x3dff90>=0xf4240)return(_0x3dff90/0xf4240)[_0x4ebfa8(0xec)](0x1)+'M';else{if(_0x3dff90>=0x3e8)return(_0x3dff90/0x3e8)[_0x4ebfa8(0xec)](0x1)+'K';}return _0x3dff90[_0x4ebfa8(0x1b4)]();}[_0x3b52e4(0x14f)](_0x1bdcc6){const _0x2f1284=_0x3b52e4,_0x465fe8=_0x1bdcc6/(0x400*0x400);if(_0x465fe8>=0x3e8)return(_0x465fe8/0x3e8)[_0x2f1284(0xec)](0x1)+_0x2f1284(0xfe);return _0x465fe8[_0x2f1284(0xec)](0x1)+_0x2f1284(0x1b1);}[_0x3b52e4(0x159)](){const _0xe31452=_0x3b52e4,_0x1f3082=document[_0xe31452(0x179)]('globalTotalFiles'),_0x2acb0d=document['getElementById']('globalTotalSize'),_0x34f376=document['getElementById']('globalTotalSessions'),_0x4f146a=document['getElementById']('globalAvgSpeed');_0x1f3082&&(_0x1f3082['textContent']=this[_0xe31452(0x229)](this['stats']['totalFiles']));_0x2acb0d&&(_0x2acb0d[_0xe31452(0x20d)]=this[_0xe31452(0x1d2)](this[_0xe31452(0x202)]['totalBytes']));_0x34f376&&(_0x34f376[_0xe31452(0x20d)]=this['formatNumber'](this[_0xe31452(0x202)][_0xe31452(0xf4)]));if(_0x4f146a){if(this['stats'][_0xe31452(0x1ee)]>0x0){const _0x46c981=this['stats'][_0xe31452(0x22b)]/this['stats']['totalDuration'];_0x4f146a['textContent']=this['formatSpeed'](_0x46c981);}else _0x4f146a['textContent']='--';}}[_0x3b52e4(0x15d)](){const _0x392464=_0x3b52e4;return{'totalFiles':this[_0x392464(0x202)][_0x392464(0x283)],'totalBytes':this['stats']['totalBytes'],'totalSessions':this[_0x392464(0x202)]['totalSessions']};}}document['addEventListener']('DOMContentLoaded',()=>{const _0x415702=_0x3b52e4;window['globalStats']=new GlobalStats();function _0x37d241(_0x3b9e7a){const _0x4fc5b4=_0x6d64;_0x3b9e7a[_0x4fc5b4(0x20b)]((_0x40fbd0,_0x3c7564)=>{const _0x54319b=_0x4fc5b4;_0x40fbd0[_0x54319b(0x288)][_0x54319b(0x274)](_0x54319b(0x1a2)),setTimeout(()=>{const _0x502846=_0x54319b;_0x40fbd0[_0x502846(0x288)][_0x502846(0x274)](_0x502846(0x234)),void _0x40fbd0[_0x502846(0x17c)],_0x40fbd0[_0x502846(0x288)][_0x502846(0x271)](_0x502846(0x234)),setTimeout(()=>{const _0x260679=_0x502846;_0x40fbd0['classList']['add'](_0x260679(0x1a2));},0x320);},_0x3c7564*0x96);});}const _0x104ef1=new IntersectionObserver(_0x44eeae=>{_0x44eeae['forEach'](_0x4d33c6=>{const _0x4b8341=_0x6d64;if(_0x4d33c6[_0x4b8341(0x178)]){const _0x184ea5=_0x4d33c6['target'];if(_0x184ea5['classList']['contains']('global-stats-container'))_0x37d241(_0x184ea5['querySelectorAll']('.global-stat-number'));else{if(_0x184ea5['classList']['contains']('steps-grid'))_0x37d241(_0x184ea5['querySelectorAll'](_0x4b8341(0x1cc)));else _0x184ea5['classList'][_0x4b8341(0x1e7)](_0x4b8341(0x104))&&_0x37d241(_0x184ea5['querySelectorAll']('.feature-icon'));}}});},{'threshold':0.5}),_0x1a8c0f=document['querySelector']('.global-stats-container'),_0x558526=document[_0x415702(0x1d8)]('.steps-grid'),_0x37de07=document['querySelector']('.features-grid');if(_0x1a8c0f)_0x104ef1['observe'](_0x1a8c0f);if(_0x558526)_0x104ef1['observe'](_0x558526);if(_0x37de07)_0x104ef1[_0x415702(0x1e5)](_0x37de07);});