function _0x449a(_0x448a9a,_0x1ee09e){_0x448a9a=_0x448a9a-0x1dc;const _0x4f1e44=_0x4f1e();let _0x449ada=_0x4f1e44[_0x448a9a];return _0x449ada;}const _0x5923b5=_0x449a;function _0x4f1e(){const _0x1f5609=['disconnected','px,\x20','connectSection','location','display','connected','60KeLtoM','appendChild','createAndSendOffer','96KQrFRf','escapeHtml','toUpperCase','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','joinBtn','preventDefault','roomInfoSection','remove','roomId','qchatConnect','initializeWebRTC','getElementById','Error:\x20','stun:stun.l.google.com:19302','showChatUI','togglePanel','qchatPanel','handleSignalingMessage','px)','scrollTop','Encrypting\x20Neural\x20Pathway...','addEventListener','sent','Q-Chat:\x20Error\x20creating\x20offer:','fade-out','Q-Chat:\x20Connection\x20state:','setLocalDescription','142296TxAwLV','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','oniceconnectionstatechange','room-created','create-room','contains','sendBtn','then','joinRoom','reveal','answer','offer','Secure\x20P2P','Q-Chat:\x20Sending\x20ICE\x20candidate:','transform','candidate','2352010wKHHDE','startMatrixSphereAnimation','qchatMessageInput','protocol','disabled','length','qchatCopyCode','messagesList','handleIceCandidate','Q-Chat:\x20ICE\x20Server\x20','add','innerHTML','Q-Chat:\x20Received\x20message:','Room\x20code\x20copied!','peerConnection','span','Error','Establishing\x20Secure\x20Link...','open','trim','roomCodeEl','execCommand','updateBadge','Q-Chat:\x20Received\x20ICE\x20candidate:','badge','log','qChat','url','send','message','onicecandidate','Failed\x20to\x20send\x20message','substring','Please\x20enter\x20a\x20valid\x20room\x20code','copy','sin','failed','OPEN','Q-Chat:\x20Data\x20channel\x20closed','room-joined','type','99+','style','closePanel','urls','updateStatus','hidden','Finalizing\x20Quantum\x20Code...','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal,\x20count:','channel','handleAnswer','key','peer-joined','Waiting\x20for\x20host...','715782OSWelz','Q-Chat:\x20Data\x20channel\x20open','textarea','copyCodeBtn','handleDisconnect','Establishing\x20P2P...','toLocaleTimeString','matrixSphere','select','cos','roomInput','qchatMessages','classList','wss:','error','205981KOFYVQ','Joined\x20room!\x20Waiting\x20for\x20host...','floor','acos','sdp','qchat-system-message','bindEvents','clipboard','createElement','qchatWaiting','connecting','marginTop','Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:','Q-Chat:\x20WebSocket\x20error:','messagesSection','onconnectionstatechange','active','onopen','removeChild','1760770eBEaSq','none','onclose','opacity','timestamp','toggleBtn','Connection\x20failed','writeText','addMessage','ws:','2-digit','textContent','50%','div','className','2mIdsCh','260LRpADm','Disconnected','sendMessage','receiveMessage','getWebSocketUrl','createRoom','openPanel','random','ice-candidate','onmessage','showSystemMessage','digitChangeInterval','isHost','data','Q-Chat:\x20ICE\x20connection\x20state:','closeBtn','qchatSendBtn','statusEl','flex','dataChannel','isPanelOpen','messageInput','isConnected','270bwkENT','unreadCount','initElements','setupDataChannel','click','iceConnectionState','-7px','left','qchatMessagesList','createDataChannel','qchatJoin','translate3d(','disableChat','panel','Q-Chat:\x20Offer\x20sent','-10px','createBtn','qchatBadge','map','value','71676ctctNl','15999uhTBjC','setRemoteDescription','inputSection'];_0x4f1e=function(){return _0x1f5609;};return _0x4f1e();}(function(_0x3a8b84,_0x53ca18){const _0x43422c=_0x449a,_0x1e69e1=_0x3a8b84();while(!![]){try{const _0x3fe569=-parseInt(_0x43422c(0x26a))/0x1*(parseInt(_0x43422c(0x28c))/0x2)+parseInt(_0x43422c(0x1ee))/0x3*(-parseInt(_0x43422c(0x28d))/0x4)+parseInt(_0x43422c(0x225))/0x5+parseInt(_0x43422c(0x25b))/0x6+parseInt(_0x43422c(0x215))/0x7*(-parseInt(_0x43422c(0x1fa))/0x8)+parseInt(_0x43422c(0x1ed))/0x9*(-parseInt(_0x43422c(0x2a4))/0xa)+parseInt(_0x43422c(0x27d))/0xb*(parseInt(_0x43422c(0x1f7))/0xc);if(_0x3fe569===_0x53ca18)break;else _0x1e69e1['push'](_0x1e69e1['shift']());}catch(_0x26a9b9){_0x1e69e1['push'](_0x1e69e1['shift']());}}}(_0x4f1e,0x5c65b));class QChat{constructor(){const _0xcc27e3=_0x449a;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this['roomId']=null,this['isHost']=![],this[_0xcc27e3(0x2a3)]=![],this[_0xcc27e3(0x2a5)]=0x0,this[_0xcc27e3(0x2a1)]=![],this[_0xcc27e3(0x2a6)](),this[_0xcc27e3(0x270)]();}[_0x5923b5(0x2a6)](){const _0x3973f3=_0x5923b5;this[_0x3973f3(0x1e6)]=document[_0x3973f3(0x205)](_0x3973f3(0x20a)),this['toggleBtn']=document['getElementById']('qchatToggle'),this[_0x3973f3(0x29c)]=document['getElementById']('qchatClose'),this[_0x3973f3(0x23d)]=document['getElementById'](_0x3973f3(0x1ea)),this[_0x3973f3(0x1f3)]=document['getElementById'](_0x3973f3(0x203)),this[_0x3973f3(0x200)]=document['getElementById']('qchatRoomInfo'),this[_0x3973f3(0x278)]=document[_0x3973f3(0x205)](_0x3973f3(0x266)),this[_0x3973f3(0x1f0)]=document['getElementById']('qchatInputSection'),this[_0x3973f3(0x29e)]=document['getElementById']('qchatStatus'),this[_0x3973f3(0x239)]=document['getElementById']('qchatRoomCode'),this['createBtn']=document['getElementById']('qchatCreate'),this[_0x3973f3(0x1fe)]=document[_0x3973f3(0x205)](_0x3973f3(0x1e3)),this[_0x3973f3(0x25e)]=document['getElementById'](_0x3973f3(0x22b)),this['sendBtn']=document['getElementById'](_0x3973f3(0x29d)),this[_0x3973f3(0x265)]=document[_0x3973f3(0x205)]('qchatRoomInput'),this['messageInput']=document['getElementById'](_0x3973f3(0x227)),this['messagesList']=document['getElementById'](_0x3973f3(0x1e1));}['bindEvents'](){const _0x1cbeed=_0x5923b5;this[_0x1cbeed(0x282)]?.[_0x1cbeed(0x20f)](_0x1cbeed(0x1dd),()=>this[_0x1cbeed(0x209)]()),this[_0x1cbeed(0x29c)]?.['addEventListener']('click',()=>this['closePanel']()),this[_0x1cbeed(0x1e9)]?.[_0x1cbeed(0x20f)](_0x1cbeed(0x1dd),()=>this[_0x1cbeed(0x292)]()),this[_0x1cbeed(0x1fe)]?.[_0x1cbeed(0x20f)](_0x1cbeed(0x1dd),()=>this['joinRoom']()),this['roomInput']?.['addEventListener']('keypress',_0x493e9f=>{const _0xca174=_0x1cbeed;if(_0x493e9f[_0xca174(0x258)]==='Enter')this[_0xca174(0x21d)]();}),this['copyCodeBtn']?.['addEventListener'](_0x1cbeed(0x1dd),()=>this['copyRoomCode']()),this[_0x1cbeed(0x21b)]?.['addEventListener']('click',()=>this[_0x1cbeed(0x28f)]()),this[_0x1cbeed(0x2a2)]?.[_0x1cbeed(0x20f)]('keypress',_0x39820b=>{const _0x170d60=_0x1cbeed;_0x39820b[_0x170d60(0x258)]==='Enter'&&!_0x39820b['shiftKey']&&(_0x39820b[_0x170d60(0x1ff)](),this[_0x170d60(0x28f)]());}),document['addEventListener']('click',_0x4c8cf3=>{const _0x491c93=_0x1cbeed;this[_0x491c93(0x2a1)]&&!this[_0x491c93(0x1e6)]?.[_0x491c93(0x21a)](_0x4c8cf3['target'])&&!this[_0x491c93(0x282)]?.[_0x491c93(0x21a)](_0x4c8cf3['target'])&&this['closePanel']();});}[_0x5923b5(0x209)](){const _0x539530=_0x5923b5;this['isPanelOpen']?this[_0x539530(0x250)]():this[_0x539530(0x293)]();}[_0x5923b5(0x293)](){const _0x36d380=_0x5923b5;this['panel']?.['classList']['add']('open'),this['toggleBtn']?.['classList'][_0x36d380(0x22f)](_0x36d380(0x27a)),this['isPanelOpen']=!![],this['clearUnread']();}['closePanel'](){const _0x548848=_0x5923b5;this['panel']?.[_0x548848(0x267)]['remove'](_0x548848(0x237)),this[_0x548848(0x282)]?.[_0x548848(0x267)]['remove']('active'),this['isPanelOpen']=![];}['generateRoomId'](){const _0x257db2='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x4c4712='';for(let _0x563941=0x0;_0x563941<0x6;_0x563941++){_0x4c4712+=_0x257db2['charAt'](Math['floor'](Math['random']()*_0x257db2['length']));}return _0x4c4712;}[_0x5923b5(0x291)](){const _0x4251eb=_0x5923b5,_0x1a4431=window['location'][_0x4251eb(0x228)]==='https:'?_0x4251eb(0x268):_0x4251eb(0x286);return _0x1a4431+'//'+window[_0x4251eb(0x1f4)]['host']+'/ws';}async['connectToServer'](){return new Promise((_0x222607,_0x23698d)=>{const _0x1f5967=_0x449a,_0x4e6c96=this[_0x1f5967(0x291)]();console[_0x1f5967(0x23e)]('Q-Chat:\x20Connecting\x20to:',_0x4e6c96),this['ws']=new WebSocket(_0x4e6c96),this['ws'][_0x1f5967(0x27b)]=()=>{const _0x4ec8da=_0x1f5967;console[_0x4ec8da(0x23e)]('Q-Chat:\x20WebSocket\x20connected'),_0x222607();},this['ws']['onerror']=_0x138152=>{const _0x447395=_0x1f5967;console[_0x447395(0x269)](_0x447395(0x277),_0x138152),_0x23698d(_0x138152);},this['ws'][_0x1f5967(0x27f)]=()=>{const _0x405c87=_0x1f5967;console[_0x405c87(0x23e)]('Q-Chat:\x20WebSocket\x20closed'),this['handleDisconnect']();},this['ws'][_0x1f5967(0x296)]=_0x2434e3=>{const _0x471ab3=_0x1f5967,_0x3abbae=JSON['parse'](_0x2434e3['data']);console['log'](_0x471ab3(0x231),_0x3abbae['type'],_0x3abbae),this['handleSignalingMessage'](_0x3abbae);};});}[_0x5923b5(0x241)](_0x5a91f1){const _0x40febb=_0x5923b5;this['ws']&&this['ws']['readyState']===WebSocket[_0x40febb(0x24a)]&&this['ws']['send'](JSON['stringify'](_0x5a91f1));}async['createRoom'](){const _0xe5e966=_0x5923b5;this[_0xe5e966(0x299)]=!![],this['roomId']=this['generateRoomId'](),this['updateStatus'](_0xe5e966(0x274),'Connecting...');try{await this['connectToServer'](),this[_0xe5e966(0x241)]({'type':_0xe5e966(0x219),'roomId':this[_0xe5e966(0x202)]});}catch(_0x3b5c5b){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0xe5e966(0x1f1),_0xe5e966(0x283));}}async[_0x5923b5(0x21d)](){const _0x57e656=_0x5923b5,_0x5064b0=this['roomInput']?.[_0x57e656(0x1ec)]['trim']()[_0x57e656(0x1fc)]();if(!_0x5064b0||_0x5064b0['length']<0x4){this[_0x57e656(0x297)](_0x57e656(0x246));return;}this[_0x57e656(0x299)]=![],this['roomId']=_0x5064b0,this[_0x57e656(0x252)]('connecting','Joining...');try{await this['connectToServer'](),this['send']({'type':'join-room','roomId':this['roomId']});}catch(_0x4789dd){this[_0x57e656(0x297)]('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0x57e656(0x1f1),'Connection\x20failed');}}async[_0x5923b5(0x20b)](_0x3d3508){const _0x1cf9c9=_0x5923b5;switch(_0x3d3508[_0x1cf9c9(0x24d)]){case _0x1cf9c9(0x218):this['showRoomInfo'](),this[_0x1cf9c9(0x252)](_0x1cf9c9(0x274),'Waiting\x20for\x20peer...');break;case _0x1cf9c9(0x24c):this['showSystemMessage'](_0x1cf9c9(0x26b)),this['updateStatus'](_0x1cf9c9(0x274),_0x1cf9c9(0x25a));break;case _0x1cf9c9(0x259):console['log']('Q-Chat:\x20peer-joined\x20received,\x20isHost:',this[_0x1cf9c9(0x299)]),this['showSystemMessage'](_0x1cf9c9(0x216)),this[_0x1cf9c9(0x252)](_0x1cf9c9(0x274),_0x1cf9c9(0x260));try{await this[_0x1cf9c9(0x204)](),console['log']('Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:',!!this['peerConnection']),this[_0x1cf9c9(0x299)]&&(console['log']('Q-Chat:\x20Creating\x20and\x20sending\x20offer...'),await this['createAndSendOffer'](),console['log'](_0x1cf9c9(0x1e7)));}catch(_0xc52f74){console[_0x1cf9c9(0x269)](_0x1cf9c9(0x276),_0xc52f74),this['showSystemMessage']('Connection\x20setup\x20failed'),this[_0x1cf9c9(0x252)](_0x1cf9c9(0x1f1),'Setup\x20failed');}break;case'peer-left':this['showSystemMessage']('Peer\x20disconnected'),this['updateStatus']('disconnected','Peer\x20left'),this['disableChat']();break;case _0x1cf9c9(0x220):await this['handleOffer'](_0x3d3508);break;case'answer':await this[_0x1cf9c9(0x257)](_0x3d3508);break;case _0x1cf9c9(0x295):await this[_0x1cf9c9(0x22d)](_0x3d3508);break;case _0x1cf9c9(0x269):this[_0x1cf9c9(0x297)](_0x1cf9c9(0x206)+_0x3d3508['message']),this['updateStatus'](_0x1cf9c9(0x1f1),_0x1cf9c9(0x235)),console['error']('Q-Chat\x20Server\x20Error:',_0x3d3508[_0x1cf9c9(0x242)]);break;}}async['initializeWebRTC'](){const _0x327729=_0x5923b5,_0x129fb2=[{'urls':_0x327729(0x207)},{'urls':'stun:stun1.l.google.com:19302'}];let _0x357f40=_0x129fb2;try{const _0x45cfc7=await fetch('/api/turn-credentials'),_0x305a23=await _0x45cfc7['json']();Array['isArray'](_0x305a23)&&_0x305a23[_0x327729(0x22a)]>0x0?(_0x357f40=_0x305a23[_0x327729(0x1eb)](_0x3118aa=>{const _0x3ccab1=_0x327729,_0x5b8371={..._0x3118aa};return _0x3118aa[_0x3ccab1(0x251)]&&!_0x3118aa['url']&&(_0x5b8371[_0x3ccab1(0x240)]=_0x3118aa['urls']),_0x5b8371;}),console['log'](_0x327729(0x255),_0x357f40[_0x327729(0x22a)]),_0x357f40['forEach']((_0x4b84f9,_0x2c6856)=>{const _0x1ed8be=_0x327729;console['log'](_0x1ed8be(0x22e)+_0x2c6856+':',JSON['stringify'](_0x4b84f9));})):console[_0x327729(0x23e)]('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x4aabb0){console[_0x327729(0x23e)](_0x327729(0x1fd),_0x4aabb0);}const _0x35170b={'iceServers':_0x357f40,'iceTransportPolicy':'all'};this[_0x327729(0x233)]=new RTCPeerConnection(_0x35170b),this['peerConnection'][_0x327729(0x243)]=_0x1c8d4b=>{const _0x40bc6e=_0x327729;_0x1c8d4b['candidate']?(console['log'](_0x40bc6e(0x222),_0x1c8d4b[_0x40bc6e(0x224)]['candidate'][_0x40bc6e(0x245)](0x0,0x32)),this['send']({'type':_0x40bc6e(0x295),'roomId':this[_0x40bc6e(0x202)],'candidate':_0x1c8d4b['candidate']})):console[_0x40bc6e(0x23e)]('Q-Chat:\x20ICE\x20gathering\x20complete');},this[_0x327729(0x233)][_0x327729(0x217)]=()=>{const _0xd70e0d=_0x327729;console['log'](_0xd70e0d(0x29b),this['peerConnection'][_0xd70e0d(0x1de)]);},this[_0x327729(0x233)]['onicegatheringstatechange']=()=>{const _0x1bfca9=_0x327729;console[_0x1bfca9(0x23e)]('Q-Chat:\x20ICE\x20gathering\x20state:',this['peerConnection']['iceGatheringState']);},this['peerConnection'][_0x327729(0x279)]=()=>{const _0x569230=_0x327729,_0x4b9a6f=this['peerConnection']['connectionState'];console[_0x569230(0x23e)](_0x569230(0x213),_0x4b9a6f);if(_0x4b9a6f===_0x569230(0x1f6))this['updateStatus'](_0x569230(0x1f6),_0x569230(0x221)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x4b9a6f==='disconnected'||_0x4b9a6f===_0x569230(0x249))&&(this['updateStatus'](_0x569230(0x1f1),_0x569230(0x28e)),this['disableChat']());},this['isHost']?(this[_0x327729(0x2a0)]=this[_0x327729(0x233)][_0x327729(0x1e2)]('qchat',{'ordered':!![]}),this[_0x327729(0x1dc)]()):this[_0x327729(0x233)]['ondatachannel']=_0x160106=>{const _0x3e9916=_0x327729;this[_0x3e9916(0x2a0)]=_0x160106[_0x3e9916(0x256)],this[_0x3e9916(0x1dc)]();};}[_0x5923b5(0x1dc)](){const _0x3c82fa=_0x5923b5;this[_0x3c82fa(0x2a0)]['onopen']=()=>{const _0x2ba256=_0x3c82fa;console['log'](_0x2ba256(0x25c)),this['isConnected']=!![],this['enableChat'](),this['showChatUI']();},this['dataChannel']['onclose']=()=>{const _0x34d8f7=_0x3c82fa;console['log'](_0x34d8f7(0x24b)),this['isConnected']=![],this['disableChat']();},this[_0x3c82fa(0x2a0)]['onmessage']=_0x2c2281=>{const _0x2306f5=_0x3c82fa,_0x6882e=JSON['parse'](_0x2c2281[_0x2306f5(0x29a)]);this[_0x2306f5(0x290)](_0x6882e);};}async[_0x5923b5(0x1f9)](){const _0x2ad9cf=_0x5923b5;try{const _0x3f02c4=await this['peerConnection']['createOffer']();await this['peerConnection']['setLocalDescription'](_0x3f02c4),this['send']({'type':'offer','roomId':this[_0x2ad9cf(0x202)],'sdp':_0x3f02c4[_0x2ad9cf(0x26e)]});}catch(_0x2e4af6){console['error'](_0x2ad9cf(0x211),_0x2e4af6);}}async['handleOffer'](_0x932fa0){const _0x59dad8=_0x5923b5;try{!this[_0x59dad8(0x233)]&&await this[_0x59dad8(0x204)]();await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x59dad8(0x220),'sdp':_0x932fa0[_0x59dad8(0x26e)]}));const _0x322cbb=await this[_0x59dad8(0x233)]['createAnswer']();await this['peerConnection'][_0x59dad8(0x214)](_0x322cbb),this[_0x59dad8(0x241)]({'type':_0x59dad8(0x21f),'roomId':this['roomId'],'sdp':_0x322cbb['sdp']});}catch(_0xda489f){console[_0x59dad8(0x269)]('Q-Chat:\x20Error\x20handling\x20offer:',_0xda489f);}}async[_0x5923b5(0x257)](_0x3a0ed1){const _0x429deb=_0x5923b5;try{await this['peerConnection'][_0x429deb(0x1ef)](new RTCSessionDescription({'type':_0x429deb(0x21f),'sdp':_0x3a0ed1[_0x429deb(0x26e)]}));}catch(_0x534d8f){console['error']('Q-Chat:\x20Error\x20handling\x20answer:',_0x534d8f);}}async['handleIceCandidate'](_0x11c26a){const _0x51eede=_0x5923b5;try{_0x11c26a[_0x51eede(0x224)]&&this['peerConnection']&&(console[_0x51eede(0x23e)](_0x51eede(0x23c),_0x11c26a['candidate']['candidate']?.[_0x51eede(0x245)](0x0,0x32)),await this[_0x51eede(0x233)]['addIceCandidate'](new RTCIceCandidate(_0x11c26a[_0x51eede(0x224)])));}catch(_0xe44931){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0xe44931);}}['showRoomInfo'](){const _0x2c98fe=_0x5923b5;if(this[_0x2c98fe(0x1f3)])this['connectSection']['style'][_0x2c98fe(0x1f5)]=_0x2c98fe(0x27e);if(this['roomInfoSection'])this[_0x2c98fe(0x200)][_0x2c98fe(0x24f)]['display']='block';this['startMatrixSphereAnimation']();}[_0x5923b5(0x226)](){const _0x75149b=_0x5923b5,_0xb7e969=document[_0x75149b(0x205)]('matrixSphereContainer'),_0x47ea54=document['getElementById'](_0x75149b(0x262)),_0x46302e=document['getElementById']('matrixSphereStatus'),_0x79d6e0=document[_0x75149b(0x205)]('qchatRoomCodeSection'),_0x25a62e=document['getElementById'](_0x75149b(0x273));if(!_0x47ea54||!_0xb7e969){if(this[_0x75149b(0x239)])this['roomCodeEl'][_0x75149b(0x288)]=this[_0x75149b(0x202)];return;}this['createMatrixSphere'](_0x47ea54);const _0x3c9595=['Generating\x20Quantum\x20Tunnel...',_0x75149b(0x20e),_0x75149b(0x236),_0x75149b(0x254)];let _0x350864=0x0;const _0x31539d=setInterval(()=>{_0x350864++,_0x350864<_0x3c9595['length']&&_0x46302e&&(_0x46302e['textContent']=_0x3c9595[_0x350864]);},0x258);setTimeout(()=>{const _0x322155=_0x75149b;clearInterval(_0x31539d),_0x47ea54[_0x322155(0x267)]['add'](_0x322155(0x212));if(_0x46302e)_0x46302e['style'][_0x322155(0x1f5)]='none';setTimeout(()=>{const _0x27505a=_0x322155;_0xb7e969[_0x27505a(0x24f)]['display']=_0x27505a(0x27e);if(this['roomCodeEl'])this[_0x27505a(0x239)][_0x27505a(0x288)]=this[_0x27505a(0x202)];_0x79d6e0&&(_0x79d6e0[_0x27505a(0x267)][_0x27505a(0x201)]('hidden'),_0x79d6e0[_0x27505a(0x267)]['add'](_0x27505a(0x21e))),_0x25a62e&&_0x25a62e['classList']['remove'](_0x27505a(0x253));},0x320);},0x9c4);}['createMatrixSphere'](_0x5309ec){const _0x229cc0=_0x5923b5;_0x5309ec[_0x229cc0(0x230)]='';const _0x83a93f=0x78,_0x4c97f9=0x3c;for(let _0x551b61=0x0;_0x551b61<_0x83a93f;_0x551b61++){const _0x49d610=document[_0x229cc0(0x272)](_0x229cc0(0x234));_0x49d610[_0x229cc0(0x28b)]='matrix-digit',_0x49d610[_0x229cc0(0x288)]=Math['floor'](Math['random']()*0xa);const _0x916bb3=Math[_0x229cc0(0x26d)](0x1-0x2*(_0x551b61+0.5)/_0x83a93f),_0x54061f=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x551b61,_0x16299d=_0x4c97f9*Math['sin'](_0x916bb3)*Math[_0x229cc0(0x264)](_0x54061f),_0x37b8f4=_0x4c97f9*Math[_0x229cc0(0x248)](_0x916bb3)*Math[_0x229cc0(0x248)](_0x54061f),_0x4c7841=_0x4c97f9*Math[_0x229cc0(0x264)](_0x916bb3);_0x49d610['style'][_0x229cc0(0x223)]=_0x229cc0(0x1e4)+_0x16299d+_0x229cc0(0x1f2)+_0x37b8f4+'px,\x20'+_0x4c7841+_0x229cc0(0x20c),_0x49d610['style'][_0x229cc0(0x1e0)]=_0x229cc0(0x289),_0x49d610[_0x229cc0(0x24f)]['top']='50%',_0x49d610['style']['marginLeft']=_0x229cc0(0x1df),_0x49d610['style'][_0x229cc0(0x275)]=_0x229cc0(0x1e8),_0x49d610[_0x229cc0(0x24f)]['animationDelay']=Math[_0x229cc0(0x294)]()*0.5+'s';const _0x40c144=0.4+(_0x4c7841+_0x4c97f9)/(0x2*_0x4c97f9)*0.6;_0x49d610[_0x229cc0(0x24f)][_0x229cc0(0x280)]=_0x40c144,_0x5309ec[_0x229cc0(0x1f8)](_0x49d610);}this[_0x229cc0(0x298)]=setInterval(()=>{const _0x50c808=_0x229cc0,_0x3bfdfa=_0x5309ec['querySelectorAll']('.matrix-digit'),_0x414939=_0x3bfdfa[Math[_0x50c808(0x26c)](Math['random']()*_0x3bfdfa[_0x50c808(0x22a)])];_0x414939&&(_0x414939['textContent']=Math['floor'](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x513ecd=_0x229cc0;this[_0x513ecd(0x298)]&&clearInterval(this['digitChangeInterval']);},0xdac);}[_0x5923b5(0x208)](){const _0x1f614f=_0x5923b5;if(this['connectSection'])this['connectSection']['style']['display']='none';if(this['roomInfoSection'])this[_0x1f614f(0x200)][_0x1f614f(0x24f)]['display']='none';if(this['messagesSection'])this[_0x1f614f(0x278)]['style'][_0x1f614f(0x1f5)]=_0x1f614f(0x29f);if(this[_0x1f614f(0x1f0)])this[_0x1f614f(0x1f0)][_0x1f614f(0x24f)][_0x1f614f(0x1f5)]='block';}['enableChat'](){const _0x9fa3f5=_0x5923b5;this['messageInput']&&(this['messageInput'][_0x9fa3f5(0x229)]=![],this['messageInput']['focus']());if(this[_0x9fa3f5(0x21b)])this['sendBtn']['disabled']=![];}['disableChat'](){const _0x26c365=_0x5923b5;if(this[_0x26c365(0x2a2)])this['messageInput'][_0x26c365(0x229)]=!![];if(this[_0x26c365(0x21b)])this[_0x26c365(0x21b)]['disabled']=!![];}['sendMessage'](){const _0x4f1783=_0x5923b5,_0x5dc45f=this[_0x4f1783(0x2a2)]?.[_0x4f1783(0x1ec)][_0x4f1783(0x238)]();if(!_0x5dc45f||!this[_0x4f1783(0x2a3)])return;const _0x49601c={'type':'message','text':_0x5dc45f,'timestamp':Date['now']()};try{this[_0x4f1783(0x2a0)]['send'](JSON['stringify'](_0x49601c)),this['addMessage'](_0x5dc45f,_0x4f1783(0x210),_0x49601c[_0x4f1783(0x281)]),this[_0x4f1783(0x2a2)][_0x4f1783(0x1ec)]='';}catch(_0x4a8d7b){console['error']('Q-Chat:\x20Error\x20sending\x20message:',_0x4a8d7b),this['showSystemMessage'](_0x4f1783(0x244));}}['receiveMessage'](_0x4237e1){const _0x594e38=_0x5923b5;_0x4237e1['type']===_0x594e38(0x242)&&(this[_0x594e38(0x285)](_0x4237e1['text'],'received',_0x4237e1['timestamp']),!this['isPanelOpen']&&(this[_0x594e38(0x2a5)]++,this['updateBadge']()));}['addMessage'](_0x548fc2,_0x58697f,_0x4c0714){const _0x37bc41=_0x5923b5,_0x337908=document[_0x37bc41(0x272)](_0x37bc41(0x28a));_0x337908['className']='qchat-message\x20'+_0x58697f;const _0x44d340=new Date(_0x4c0714)[_0x37bc41(0x261)]([],{'hour':_0x37bc41(0x287),'minute':'2-digit'});_0x337908[_0x37bc41(0x230)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this['escapeHtml'](_0x548fc2)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x58697f===_0x37bc41(0x210)?'âœ“\x20':'')+_0x44d340+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x37bc41(0x22c)]?.['appendChild'](_0x337908),this['scrollToBottom']();}[_0x5923b5(0x297)](_0x10a4bd){const _0x46d75f=_0x5923b5,_0x5032f5=document[_0x46d75f(0x272)](_0x46d75f(0x28a));_0x5032f5['className']=_0x46d75f(0x26f),_0x5032f5[_0x46d75f(0x288)]=_0x10a4bd,this['messagesList']?.['appendChild'](_0x5032f5),this['scrollToBottom']();}['scrollToBottom'](){const _0x1383d2=_0x5923b5;this['messagesSection']&&(this[_0x1383d2(0x278)][_0x1383d2(0x20d)]=this['messagesSection']['scrollHeight']);}[_0x5923b5(0x252)](_0x2b358a,_0x5bef0d){const _0x48d5e3=_0x5923b5;if(this['statusEl']){this[_0x48d5e3(0x29e)][_0x48d5e3(0x28b)]='qchat-status\x20'+_0x2b358a;const _0x57fdb8=this[_0x48d5e3(0x29e)]['querySelector']('.status-text');if(_0x57fdb8)_0x57fdb8[_0x48d5e3(0x288)]=_0x5bef0d;}}[_0x5923b5(0x23b)](){const _0x186aa9=_0x5923b5;this['badge']&&(this['unreadCount']>0x0?(this['badge']['textContent']=this['unreadCount']>0x63?_0x186aa9(0x24e):this['unreadCount'],this[_0x186aa9(0x23d)][_0x186aa9(0x24f)][_0x186aa9(0x1f5)]='flex'):this[_0x186aa9(0x23d)][_0x186aa9(0x24f)][_0x186aa9(0x1f5)]='none');}['clearUnread'](){const _0x5f4011=_0x5923b5;this['unreadCount']=0x0,this[_0x5f4011(0x23b)]();}['copyRoomCode'](){const _0x47c1dd=_0x5923b5;this['roomId']&&navigator[_0x47c1dd(0x271)][_0x47c1dd(0x284)](this['roomId'])[_0x47c1dd(0x21c)](()=>{const _0x25e03c=_0x47c1dd;this[_0x25e03c(0x297)](_0x25e03c(0x232));})['catch'](()=>{const _0x269ba5=_0x47c1dd,_0x5a4973=document['createElement'](_0x269ba5(0x25d));_0x5a4973[_0x269ba5(0x1ec)]=this[_0x269ba5(0x202)],document['body']['appendChild'](_0x5a4973),_0x5a4973[_0x269ba5(0x263)](),document[_0x269ba5(0x23a)](_0x269ba5(0x247)),document['body'][_0x269ba5(0x27c)](_0x5a4973),this['showSystemMessage'](_0x269ba5(0x232));});}[_0x5923b5(0x25f)](){const _0x4c9bed=_0x5923b5;this['isConnected']=![],this[_0x4c9bed(0x252)]('disconnected',_0x4c9bed(0x28e)),this[_0x4c9bed(0x1e5)]();}[_0x5923b5(0x1fb)](_0x1e0a79){const _0x165cec=_0x5923b5,_0x3c0656=document[_0x165cec(0x272)]('div');return _0x3c0656[_0x165cec(0x288)]=_0x1e0a79,_0x3c0656[_0x165cec(0x230)];}}document['addEventListener']('DOMContentLoaded',()=>{const _0x47a7c3=_0x5923b5;window[_0x47a7c3(0x23f)]=new QChat();});