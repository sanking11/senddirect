function _0x805e(_0x52f7cb,_0x492f2d){_0x52f7cb=_0x52f7cb-0x9c;const _0x158781=_0x1587();let _0x805e55=_0x158781[_0x52f7cb];return _0x805e55;}const _0x3959b5=_0x805e;(function(_0x236912,_0x5c0b09){const _0x392561=_0x805e,_0x359040=_0x236912();while(!![]){try{const _0x3be6bb=-parseInt(_0x392561(0xde))/0x1*(-parseInt(_0x392561(0xb7))/0x2)+parseInt(_0x392561(0xc1))/0x3*(-parseInt(_0x392561(0xb9))/0x4)+parseInt(_0x392561(0x159))/0x5+-parseInt(_0x392561(0x122))/0x6*(parseInt(_0x392561(0x11a))/0x7)+-parseInt(_0x392561(0xa4))/0x8+-parseInt(_0x392561(0xcb))/0x9+parseInt(_0x392561(0xf5))/0xa;if(_0x3be6bb===_0x5c0b09)break;else _0x359040['push'](_0x359040['shift']());}catch(_0x243857){_0x359040['push'](_0x359040['shift']());}}}(_0x1587,0x4f4e0));class QChat{constructor(){const _0x13ff3b=_0x805e;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this['roomId']=null,this['isHost']=![],this['isConnected']=![],this[_0x13ff3b(0xd1)]=0x0,this[_0x13ff3b(0xa6)]=![],this[_0x13ff3b(0xe2)]=![],this['connectionAttempt']=0x0,this[_0x13ff3b(0x128)]=null,this[_0x13ff3b(0xbb)]=null,this[_0x13ff3b(0xa9)]=0x2,this['initElements'](),this['bindEvents']();}['initElements'](){const _0xedea4f=_0x805e;this[_0xedea4f(0x15d)]=document[_0xedea4f(0x114)]('qchatPanel'),this[_0xedea4f(0x12e)]=document['getElementById']('qchatToggle'),this['closeBtn']=document[_0xedea4f(0x114)](_0xedea4f(0x118)),this['badge']=document['getElementById']('qchatBadge'),this[_0xedea4f(0xea)]=document[_0xedea4f(0x114)]('qchatConnect'),this['roomInfoSection']=document[_0xedea4f(0x114)](_0xedea4f(0x119)),this[_0xedea4f(0x129)]=document['getElementById']('qchatMessages'),this['inputSection']=document['getElementById'](_0xedea4f(0xb2)),this['statusEl']=document[_0xedea4f(0x114)](_0xedea4f(0xa2)),this['roomCodeEl']=document['getElementById'](_0xedea4f(0xf9)),this[_0xedea4f(0xfb)]=document['getElementById']('qchatCreate'),this['joinBtn']=document['getElementById']('qchatJoin'),this[_0xedea4f(0x157)]=document[_0xedea4f(0x114)]('qchatCopyCode'),this['sendBtn']=document[_0xedea4f(0x114)]('qchatSendBtn'),this[_0xedea4f(0xdd)]=document[_0xedea4f(0x114)]('qchatRoomInput'),this['messageInput']=document['getElementById']('qchatMessageInput'),this['messagesList']=document['getElementById'](_0xedea4f(0xae));}['bindEvents'](){const _0x31411b=_0x805e;this[_0x31411b(0x12e)]?.['addEventListener']('click',()=>this[_0x31411b(0x13f)]()),this[_0x31411b(0xa8)]?.[_0x31411b(0x14e)]('click',()=>this[_0x31411b(0xfd)]()),this[_0x31411b(0xfb)]?.['addEventListener'](_0x31411b(0x10d),()=>this[_0x31411b(0x15e)]()),this[_0x31411b(0x12b)]?.[_0x31411b(0x14e)]('click',()=>this[_0x31411b(0xca)]()),this[_0x31411b(0xdd)]?.['addEventListener'](_0x31411b(0xd9),_0x4a1515=>{const _0x3c4424=_0x31411b;if(_0x4a1515['key']==='Enter')this[_0x3c4424(0xca)]();}),this[_0x31411b(0x157)]?.['addEventListener']('click',()=>this[_0x31411b(0x113)]()),this[_0x31411b(0xad)]?.['addEventListener']('click',()=>this['sendMessage']()),this['messageInput']?.[_0x31411b(0x14e)](_0x31411b(0xd9),_0x52c782=>{const _0x5878ad=_0x31411b;_0x52c782[_0x5878ad(0x9f)]===_0x5878ad(0x142)&&!_0x52c782[_0x5878ad(0x136)]&&(_0x52c782[_0x5878ad(0xd4)](),this['sendMessage']());}),document['addEventListener']('click',_0x57e98f=>{const _0x534dff=_0x31411b;this['isPanelOpen']&&!this['panel']?.[_0x534dff(0xfc)](_0x57e98f[_0x534dff(0x9c)])&&!this['toggleBtn']?.['contains'](_0x57e98f['target'])&&this['closePanel']();});}[_0x3959b5(0x13f)](){const _0x3c6e92=_0x3959b5;this[_0x3c6e92(0xa6)]?this[_0x3c6e92(0xfd)]():this['openPanel']();}['openPanel'](){const _0x53e476=_0x3959b5;this['panel']?.['classList']['add']('open'),this[_0x53e476(0x12e)]?.['classList']['add']('active'),this['isPanelOpen']=!![],this[_0x53e476(0x143)]();}['closePanel'](){const _0xf8d063=_0x3959b5;this[_0xf8d063(0x15d)]?.[_0xf8d063(0xb4)][_0xf8d063(0xff)]('open'),this['toggleBtn']?.['classList'][_0xf8d063(0xff)](_0xf8d063(0x117)),this['isPanelOpen']=![];}[_0x3959b5(0x14a)](){const _0x2aae85=_0x3959b5,_0x2f14e5='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x13a35e='';for(let _0xc9f280=0x0;_0xc9f280<0x6;_0xc9f280++){_0x13a35e+=_0x2f14e5['charAt'](Math[_0x2aae85(0x12d)](Math['random']()*_0x2f14e5['length']));}return _0x13a35e;}['getWebSocketUrl'](){const _0x4e2f71=_0x3959b5,_0x2ce290=window['location']['protocol']===_0x4e2f71(0xa7)?_0x4e2f71(0xcc):'ws:';return _0x2ce290+'//'+window[_0x4e2f71(0x13d)][_0x4e2f71(0x12c)]+'/ws';}async[_0x3959b5(0x101)](){return new Promise((_0x258b2e,_0x2cee66)=>{const _0x11c943=_0x805e,_0x52f3ac=this[_0x11c943(0x11d)]();console['log']('Q-Chat:\x20Connecting\x20to:',_0x52f3ac),this['ws']=new WebSocket(_0x52f3ac),this['ws']['onopen']=()=>{const _0x4c0149=_0x11c943;console[_0x4c0149(0xed)]('Q-Chat:\x20WebSocket\x20connected'),_0x258b2e();},this['ws'][_0x11c943(0x116)]=_0xd289dc=>{console['error']('Q-Chat:\x20WebSocket\x20error:',_0xd289dc),_0x2cee66(_0xd289dc);},this['ws']['onclose']=()=>{const _0x2fdf59=_0x11c943;console[_0x2fdf59(0xed)]('Q-Chat:\x20WebSocket\x20closed'),this[_0x2fdf59(0xac)]();},this['ws'][_0x11c943(0xdc)]=_0x39762c=>{const _0x45239d=_0x11c943,_0x2fbb66=JSON[_0x45239d(0x15f)](_0x39762c[_0x45239d(0x103)]);console['log']('Q-Chat:\x20Received\x20message:',_0x2fbb66[_0x45239d(0x152)],_0x2fbb66),this['handleSignalingMessage'](_0x2fbb66);};});}['send'](_0xc770b9){const _0x8cf201=_0x3959b5;this['ws']&&this['ws'][_0x8cf201(0xa3)]===WebSocket[_0x8cf201(0xb6)]&&this['ws']['send'](JSON[_0x8cf201(0x10a)](_0xc770b9));}async[_0x3959b5(0x15e)](){const _0x41bdf1=_0x3959b5;this[_0x41bdf1(0x133)]=!![],this[_0x41bdf1(0xab)]=this[_0x41bdf1(0x14a)](),this[_0x41bdf1(0x124)](_0x41bdf1(0x13a),_0x41bdf1(0xf8));try{await this['connectToServer'](),this[_0x41bdf1(0x115)]({'type':'create-room','roomId':this[_0x41bdf1(0xab)]});}catch(_0x48eb5d){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0x41bdf1(0xeb),_0x41bdf1(0xd5));}}async['joinRoom'](){const _0x5833e9=_0x3959b5,_0x568fea=this[_0x5833e9(0xdd)]?.[_0x5833e9(0x162)]['trim']()['toUpperCase']();if(!_0x568fea||_0x568fea[_0x5833e9(0x156)]<0x4){this['showSystemMessage'](_0x5833e9(0x102));return;}this[_0x5833e9(0x133)]=![],this[_0x5833e9(0xab)]=_0x568fea,this['updateStatus']('connecting','Joining...');try{await this['connectToServer'](),this[_0x5833e9(0x115)]({'type':'join-room','roomId':this[_0x5833e9(0xab)]});}catch(_0x4fc47b){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this[_0x5833e9(0x124)]('disconnected','Connection\x20failed');}}async['handleSignalingMessage'](_0x3ce647){const _0x4b7a24=_0x3959b5;switch(_0x3ce647['type']){case _0x4b7a24(0xd8):this[_0x4b7a24(0xce)](),this['updateStatus']('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage'](_0x4b7a24(0x11f)),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case'peer-joined':console[_0x4b7a24(0xed)]('Q-Chat:\x20peer-joined\x20received,\x20isHost:',this[_0x4b7a24(0x133)]),this['showSystemMessage']('Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...'),this[_0x4b7a24(0x124)](_0x4b7a24(0x13a),'Establishing\x20P2P...');try{await this[_0x4b7a24(0x13b)](),console[_0x4b7a24(0xed)]('Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:',!!this[_0x4b7a24(0x132)]),this[_0x4b7a24(0x133)]&&(console['log']('Q-Chat:\x20Creating\x20and\x20sending\x20offer...'),await this['createAndSendOffer'](),console['log']('Q-Chat:\x20Offer\x20sent'));}catch(_0x335136){console['error']('Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:',_0x335136),this['showSystemMessage']('Connection\x20setup\x20failed'),this[_0x4b7a24(0x124)]('disconnected','Setup\x20failed');}break;case _0x4b7a24(0x105):this[_0x4b7a24(0xc9)]('Peer\x20disconnected'),this[_0x4b7a24(0x124)]('disconnected',_0x4b7a24(0x13c)),this[_0x4b7a24(0x163)]();break;case'offer':await this[_0x4b7a24(0xd3)](_0x3ce647);break;case'answer':await this[_0x4b7a24(0x131)](_0x3ce647);break;case'ice-candidate':await this['handleIceCandidate'](_0x3ce647);break;case'retry-relay':await this[_0x4b7a24(0x12a)]();break;case'error':this[_0x4b7a24(0xc9)](_0x4b7a24(0x14d)+_0x3ce647[_0x4b7a24(0xcd)]),this['updateStatus']('disconnected','Error'),console[_0x4b7a24(0xe7)](_0x4b7a24(0x10b),_0x3ce647[_0x4b7a24(0xcd)]);break;}}async[_0x3959b5(0x13b)](_0x23f9c9=![]){const _0x3157f0=_0x3959b5;this['forceRelayMode']=_0x23f9c9,this[_0x3157f0(0x155)]++,console[_0x3157f0(0xed)](_0x3157f0(0x150)+this[_0x3157f0(0x155)]+_0x3157f0(0x10c)+_0x23f9c9+')');let _0x2030aa=this['cachedIceServers'];if(!_0x2030aa){const _0x317d9c=[{'urls':_0x3157f0(0xc2)},{'urls':_0x3157f0(0xa5)}];_0x2030aa=_0x317d9c;try{const _0x7c1042=await fetch(_0x3157f0(0xda)),_0x368642=await _0x7c1042['json']();Array['isArray'](_0x368642)&&_0x368642[_0x3157f0(0x156)]>0x0?(_0x2030aa=_0x368642['map'](_0x5400ab=>{const _0x1f182a=_0x3157f0,_0x5f1aef={..._0x5400ab};return _0x5400ab[_0x1f182a(0xd6)]&&!_0x5400ab['url']&&(_0x5f1aef['url']=_0x5400ab[_0x1f182a(0xd6)]),_0x5f1aef;}),console['log'](_0x3157f0(0xa0),_0x2030aa['length']),_0x2030aa[_0x3157f0(0x14c)]((_0x374ebc,_0x5e1b30)=>{const _0x303ff3=_0x3157f0;console['log']('Q-Chat:\x20ICE\x20Server\x20'+_0x5e1b30+':',JSON[_0x303ff3(0x10a)](_0x374ebc));})):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x56038a){console[_0x3157f0(0xed)]('Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback',_0x56038a);}this['cachedIceServers']=_0x2030aa;}else console['log']('Q-Chat:\x20Using\x20cached\x20ICE\x20servers\x20for\x20retry');const _0x365b04={'iceServers':_0x2030aa,'iceTransportPolicy':_0x23f9c9?_0x3157f0(0x126):_0x3157f0(0xb0)};_0x23f9c9&&console[_0x3157f0(0xed)](_0x3157f0(0x112)),this[_0x3157f0(0x132)]=new RTCPeerConnection(_0x365b04),this['peerConnection']['onicecandidate']=_0x839abe=>{const _0x48bd90=_0x3157f0;_0x839abe['candidate']?(console['log']('Q-Chat:\x20Sending\x20ICE\x20candidate:',_0x839abe[_0x48bd90(0x9d)]['candidate']['substring'](0x0,0x32)),this['send']({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x839abe['candidate']})):console['log'](_0x48bd90(0x108));},this['peerConnection']['oniceconnectionstatechange']=()=>{const _0x4e08bc=_0x3157f0;console[_0x4e08bc(0xed)](_0x4e08bc(0xe8),this['peerConnection'][_0x4e08bc(0xbd)]);},this[_0x3157f0(0x132)][_0x3157f0(0x14f)]=()=>{const _0x272164=_0x3157f0;console['log'](_0x272164(0xe0),this['peerConnection'][_0x272164(0x135)]);},this[_0x3157f0(0x132)]['onconnectionstatechange']=()=>{const _0x291f07=_0x3157f0,_0x29360d=this[_0x291f07(0x132)][_0x291f07(0x10f)];console['log'](_0x291f07(0x144),_0x29360d);if(_0x29360d===_0x291f07(0x13a))this['connectionTimeout']&&clearTimeout(this[_0x291f07(0xbb)]),this[_0x291f07(0xbb)]=setTimeout(()=>{const _0x499181=_0x291f07;this[_0x499181(0x132)]&&this['peerConnection']['connectionState']===_0x499181(0x13a)&&(console['log'](_0x499181(0x11c)),!this['forceRelayMode']&&this['connectionAttempt']<this['maxConnectionAttempts']&&(this[_0x499181(0xc9)]('Connection\x20slow,\x20trying\x20VPN-compatible\x20mode...'),this[_0x499181(0xb1)]()));},0x3a98);else{if(_0x29360d==='connected')this[_0x291f07(0xbb)]&&(clearTimeout(this[_0x291f07(0xbb)]),this[_0x291f07(0xbb)]=null),this['updateStatus'](_0x291f07(0x15b),_0x291f07(0x107)),this['forceRelayMode']?this[_0x291f07(0xc9)]('ðŸ”’\x20Secure\x20connection\x20established\x20via\x20relay\x20(VPN\x20mode)'):this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x29360d==='disconnected'||_0x29360d===_0x291f07(0x134))&&(this[_0x291f07(0xbb)]&&(clearTimeout(this[_0x291f07(0xbb)]),this[_0x291f07(0xbb)]=null),_0x29360d==='failed'&&!this['forceRelayMode']&&this['connectionAttempt']<this[_0x291f07(0xa9)]?(console['log']('Q-Chat:\x20Connection\x20failed,\x20retrying\x20with\x20relay\x20mode'),this[_0x291f07(0xc9)]('Direct\x20connection\x20failed,\x20trying\x20VPN-compatible\x20mode...'),this['retryWithRelayMode']()):(this[_0x291f07(0x124)](_0x291f07(0xeb),'Disconnected'),this['disableChat']()));}},this['isHost']?(this[_0x3157f0(0xc0)]=this[_0x3157f0(0x132)]['createDataChannel'](_0x3157f0(0xb3),{'ordered':!![]}),this['setupDataChannel']()):this['peerConnection']['ondatachannel']=_0x297110=>{const _0x406f1c=_0x3157f0;this[_0x406f1c(0xc0)]=_0x297110['channel'],this['setupDataChannel']();};}[_0x3959b5(0x15c)](){const _0x1aca9e=_0x3959b5;this[_0x1aca9e(0xc0)]['onopen']=()=>{const _0x220369=_0x1aca9e;console['log'](_0x220369(0xe6)),this['isConnected']=!![],this['enableChat'](),this['showChatUI']();},this['dataChannel'][_0x1aca9e(0x121)]=()=>{const _0x4eed3c=_0x1aca9e;console[_0x4eed3c(0xed)]('Q-Chat:\x20Data\x20channel\x20closed'),this['isConnected']=![],this['disableChat']();},this['dataChannel']['onmessage']=_0xf17c29=>{const _0x2b0073=_0x1aca9e,_0x2bcee8=JSON[_0x2b0073(0x15f)](_0xf17c29['data']);this[_0x2b0073(0x161)](_0x2bcee8);};}async['createAndSendOffer'](){const _0x5b0500=_0x3959b5;try{const _0x2dc090=await this['peerConnection'][_0x5b0500(0x146)]();await this['peerConnection']['setLocalDescription'](_0x2dc090),this['send']({'type':_0x5b0500(0x106),'roomId':this['roomId'],'sdp':_0x2dc090[_0x5b0500(0x11e)]});}catch(_0x2b2b58){console['error'](_0x5b0500(0xf1),_0x2b2b58);}}async['handleOffer'](_0x53b87f){const _0x17579c=_0x3959b5;try{!this[_0x17579c(0x132)]&&await this[_0x17579c(0x13b)]();await this[_0x17579c(0x132)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x17579c(0x106),'sdp':_0x53b87f[_0x17579c(0x11e)]}));const _0x47ec8c=await this['peerConnection']['createAnswer']();await this['peerConnection']['setLocalDescription'](_0x47ec8c),this['send']({'type':_0x17579c(0x130),'roomId':this['roomId'],'sdp':_0x47ec8c[_0x17579c(0x11e)]});}catch(_0x4a91bb){console[_0x17579c(0xe7)]('Q-Chat:\x20Error\x20handling\x20offer:',_0x4a91bb);}}async[_0x3959b5(0x131)](_0x5e793f){const _0x5296ca=_0x3959b5;try{await this[_0x5296ca(0x132)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x5296ca(0x130),'sdp':_0x5e793f['sdp']}));}catch(_0x3f5359){console['error']('Q-Chat:\x20Error\x20handling\x20answer:',_0x3f5359);}}async['handleIceCandidate'](_0x32a23d){const _0x24d4af=_0x3959b5;try{_0x32a23d['candidate']&&this[_0x24d4af(0x132)]&&(console[_0x24d4af(0xed)]('Q-Chat:\x20Received\x20ICE\x20candidate:',_0x32a23d['candidate'][_0x24d4af(0x9d)]?.[_0x24d4af(0xe9)](0x0,0x32)),await this[_0x24d4af(0x132)][_0x24d4af(0x127)](new RTCIceCandidate(_0x32a23d[_0x24d4af(0x9d)])));}catch(_0x2a6cbf){console[_0x24d4af(0xe7)]('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x2a6cbf);}}async['retryWithRelayMode'](){const _0x1afddc=_0x3959b5;console[_0x1afddc(0xed)]('Q-Chat:\x20Retrying\x20with\x20relay-only\x20mode\x20for\x20VPN\x20compatibility'),this['send']({'type':'retry-relay','roomId':this['roomId']}),this[_0x1afddc(0xc0)]&&(this[_0x1afddc(0xc0)][_0x1afddc(0xfe)](),this[_0x1afddc(0xc0)]=null),this[_0x1afddc(0x132)]&&(this['peerConnection'][_0x1afddc(0xfe)](),this['peerConnection']=null),await this['initializeWebRTC'](!![]),this['isHost']&&await this[_0x1afddc(0xb5)]();}async['handleRetryRelay'](){const _0x1169e3=_0x3959b5;console['log'](_0x1169e3(0x153)),this['showSystemMessage']('Peer\x20requested\x20VPN-compatible\x20mode...'),this['dataChannel']&&(this['dataChannel']['close'](),this[_0x1169e3(0xc0)]=null),this['peerConnection']&&(this['peerConnection']['close'](),this[_0x1169e3(0x132)]=null),await this[_0x1169e3(0x13b)](!![]);}['showRoomInfo'](){const _0x272e66=_0x3959b5;if(this['connectSection'])this['connectSection'][_0x272e66(0x104)][_0x272e66(0x137)]=_0x272e66(0x9e);if(this[_0x272e66(0xc4)])this['roomInfoSection'][_0x272e66(0x104)][_0x272e66(0x137)]='block';this[_0x272e66(0x151)]();}[_0x3959b5(0x151)](){const _0x8315a=_0x3959b5,_0x404fd6=document[_0x8315a(0x114)]('matrixSphereContainer'),_0x2bd5ee=document[_0x8315a(0x114)](_0x8315a(0x139)),_0x4d5e52=document[_0x8315a(0x114)](_0x8315a(0xdf)),_0x4ea7ed=document[_0x8315a(0x114)]('qchatRoomCodeSection'),_0x785424=document[_0x8315a(0x114)]('qchatWaiting');if(!_0x2bd5ee||!_0x404fd6){if(this[_0x8315a(0x140)])this['roomCodeEl']['textContent']=this['roomId'];return;}this[_0x8315a(0x120)](_0x2bd5ee);const _0x45f52c=['Generating\x20Quantum\x20Tunnel...','Encrypting\x20Neural\x20Pathway...','Establishing\x20Secure\x20Link...','Finalizing\x20Quantum\x20Code...'];let _0x41c1a4=0x0;const _0x1f64f5=setInterval(()=>{const _0x1ea0ba=_0x8315a;_0x41c1a4++,_0x41c1a4<_0x45f52c[_0x1ea0ba(0x156)]&&_0x4d5e52&&(_0x4d5e52[_0x1ea0ba(0xbf)]=_0x45f52c[_0x41c1a4]);},0x258);setTimeout(()=>{const _0x55e04c=_0x8315a;clearInterval(_0x1f64f5),_0x2bd5ee[_0x55e04c(0xb4)][_0x55e04c(0xf7)]('fade-out');if(_0x4d5e52)_0x4d5e52['style'][_0x55e04c(0x137)]=_0x55e04c(0x9e);setTimeout(()=>{const _0x53382f=_0x55e04c;_0x404fd6[_0x53382f(0x104)]['display']=_0x53382f(0x9e);if(this['roomCodeEl'])this[_0x53382f(0x140)]['textContent']=this[_0x53382f(0xab)];_0x4ea7ed&&(_0x4ea7ed['classList'][_0x53382f(0xff)](_0x53382f(0xe5)),_0x4ea7ed[_0x53382f(0xb4)][_0x53382f(0xf7)]('reveal')),_0x785424&&_0x785424['classList'][_0x53382f(0xff)](_0x53382f(0xe5));},0x320);},0x9c4);}['createMatrixSphere'](_0x4bad00){const _0x529509=_0x3959b5;_0x4bad00[_0x529509(0x147)]='';const _0x5d1c45=0x78,_0x107018=0x3c;for(let _0x3c5091=0x0;_0x3c5091<_0x5d1c45;_0x3c5091++){const _0x38bf76=document[_0x529509(0x109)]('span');_0x38bf76[_0x529509(0xba)]=_0x529509(0x158),_0x38bf76['textContent']=Math['floor'](Math['random']()*0xa);const _0x2525ab=Math[_0x529509(0xbc)](0x1-0x2*(_0x3c5091+0.5)/_0x5d1c45),_0x83e1cf=Math['PI']*(0x1+Math[_0x529509(0xbe)](0x5))*_0x3c5091,_0x22a503=_0x107018*Math[_0x529509(0x145)](_0x2525ab)*Math[_0x529509(0xaf)](_0x83e1cf),_0x284916=_0x107018*Math['sin'](_0x2525ab)*Math['sin'](_0x83e1cf),_0x4731b1=_0x107018*Math[_0x529509(0xaf)](_0x2525ab);_0x38bf76[_0x529509(0x104)][_0x529509(0xef)]=_0x529509(0xf4)+_0x22a503+_0x529509(0xc8)+_0x284916+'px,\x20'+_0x4731b1+_0x529509(0xf0),_0x38bf76['style']['left']=_0x529509(0xec),_0x38bf76['style'][_0x529509(0xd2)]=_0x529509(0xec),_0x38bf76[_0x529509(0x104)]['marginLeft']='-7px',_0x38bf76['style']['marginTop']=_0x529509(0xb8),_0x38bf76[_0x529509(0x104)]['animationDelay']=Math['random']()*0.5+'s';const _0x252ba2=0.4+(_0x4731b1+_0x107018)/(0x2*_0x107018)*0.6;_0x38bf76['style']['opacity']=_0x252ba2,_0x4bad00[_0x529509(0xdb)](_0x38bf76);}this['digitChangeInterval']=setInterval(()=>{const _0x3d869f=_0x529509,_0x1a472a=_0x4bad00[_0x3d869f(0x141)]('.matrix-digit'),_0x371d3b=_0x1a472a[Math['floor'](Math['random']()*_0x1a472a[_0x3d869f(0x156)])];_0x371d3b&&(_0x371d3b['textContent']=Math[_0x3d869f(0x12d)](Math['random']()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}[_0x3959b5(0xcf)](){const _0x31eabf=_0x3959b5;if(this['connectSection'])this['connectSection'][_0x31eabf(0x104)][_0x31eabf(0x137)]=_0x31eabf(0x9e);if(this['roomInfoSection'])this[_0x31eabf(0xc4)][_0x31eabf(0x104)][_0x31eabf(0x137)]=_0x31eabf(0x9e);if(this[_0x31eabf(0x129)])this[_0x31eabf(0x129)][_0x31eabf(0x104)]['display']=_0x31eabf(0x154);if(this['inputSection'])this['inputSection'][_0x31eabf(0x104)]['display']='block';}[_0x3959b5(0xfa)](){const _0x3cfb05=_0x3959b5;this['messageInput']&&(this[_0x3cfb05(0xd7)][_0x3cfb05(0x11b)]=![],this['messageInput'][_0x3cfb05(0xaa)]());if(this['sendBtn'])this['sendBtn']['disabled']=![];}['disableChat'](){const _0x31e3af=_0x3959b5;if(this[_0x31e3af(0xd7)])this['messageInput']['disabled']=!![];if(this[_0x31e3af(0xad)])this[_0x31e3af(0xad)][_0x31e3af(0x11b)]=!![];}['sendMessage'](){const _0x36736e=_0x3959b5,_0x5cbf8e=this[_0x36736e(0xd7)]?.['value']['trim']();if(!_0x5cbf8e||!this['isConnected'])return;const _0x106155={'type':'message','text':_0x5cbf8e,'timestamp':Date[_0x36736e(0xf3)]()};try{this['dataChannel']['send'](JSON[_0x36736e(0x10a)](_0x106155)),this['addMessage'](_0x5cbf8e,'sent',_0x106155['timestamp']),this[_0x36736e(0xd7)][_0x36736e(0x162)]='';}catch(_0x230112){console['error']('Q-Chat:\x20Error\x20sending\x20message:',_0x230112),this['showSystemMessage'](_0x36736e(0x123));}}[_0x3959b5(0x161)](_0x2087d4){const _0x296a1c=_0x3959b5;_0x2087d4['type']==='message'&&(this['addMessage'](_0x2087d4[_0x296a1c(0xe1)],_0x296a1c(0xc3),_0x2087d4[_0x296a1c(0xe4)]),!this[_0x296a1c(0xa6)]&&(this['unreadCount']++,this['updateBadge']()));}['addMessage'](_0x59b5a7,_0xbfb4b5,_0x550e79){const _0x492d40=_0x3959b5,_0x22b8c0=document[_0x492d40(0x109)]('div');_0x22b8c0[_0x492d40(0xba)]='qchat-message\x20'+_0xbfb4b5;const _0x270615=new Date(_0x550e79)[_0x492d40(0x110)]([],{'hour':'2-digit','minute':_0x492d40(0xa1)});_0x22b8c0[_0x492d40(0x147)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this[_0x492d40(0x138)](_0x59b5a7)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xbfb4b5==='sent'?'âœ“\x20':'')+_0x270615+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x492d40(0xc7)]?.['appendChild'](_0x22b8c0),this['scrollToBottom']();}['showSystemMessage'](_0x2d82b6){const _0xc91d72=_0x3959b5,_0x372fb3=document[_0xc91d72(0x109)]('div');_0x372fb3['className']=_0xc91d72(0x111),_0x372fb3[_0xc91d72(0xbf)]=_0x2d82b6,this[_0xc91d72(0xc7)]?.['appendChild'](_0x372fb3),this['scrollToBottom']();}['scrollToBottom'](){const _0x40f9a8=_0x3959b5;this['messagesSection']&&(this['messagesSection'][_0x40f9a8(0x14b)]=this['messagesSection']['scrollHeight']);}['updateStatus'](_0x759a7b,_0x390c7a){const _0x2ae26e=_0x3959b5;if(this[_0x2ae26e(0xc5)]){this[_0x2ae26e(0xc5)][_0x2ae26e(0xba)]=_0x2ae26e(0x12f)+_0x759a7b;const _0x5e9343=this['statusEl']['querySelector']('.status-text');if(_0x5e9343)_0x5e9343[_0x2ae26e(0xbf)]=_0x390c7a;}}[_0x3959b5(0x125)](){const _0x52a679=_0x3959b5;this[_0x52a679(0x149)]&&(this['unreadCount']>0x0?(this[_0x52a679(0x149)][_0x52a679(0xbf)]=this['unreadCount']>0x63?'99+':this[_0x52a679(0xd1)],this[_0x52a679(0x149)]['style'][_0x52a679(0x137)]=_0x52a679(0x154)):this[_0x52a679(0x149)]['style'][_0x52a679(0x137)]='none');}[_0x3959b5(0x143)](){const _0x3b94fc=_0x3959b5;this[_0x3b94fc(0xd1)]=0x0,this[_0x3b94fc(0x125)]();}['copyRoomCode'](){const _0x48ed8c=_0x3959b5;this[_0x48ed8c(0xab)]&&navigator[_0x48ed8c(0xf6)][_0x48ed8c(0xd0)](this[_0x48ed8c(0xab)])[_0x48ed8c(0x148)](()=>{const _0x50a355=_0x48ed8c;this[_0x50a355(0xc9)](_0x50a355(0xe3));})[_0x48ed8c(0x160)](()=>{const _0x31beda=_0x48ed8c,_0x347811=document['createElement']('textarea');_0x347811['value']=this['roomId'],document['body'][_0x31beda(0xdb)](_0x347811),_0x347811[_0x31beda(0xee)](),document[_0x31beda(0xf2)](_0x31beda(0x10e)),document[_0x31beda(0xc6)]['removeChild'](_0x347811),this['showSystemMessage'](_0x31beda(0xe3));});}[_0x3959b5(0xac)](){const _0x20e1e2=_0x3959b5;this[_0x20e1e2(0x15a)]=![],this[_0x20e1e2(0x124)]('disconnected',_0x20e1e2(0x100)),this['disableChat']();}['escapeHtml'](_0x5f46b6){const _0x3aa7cf=_0x3959b5,_0xfab299=document[_0x3aa7cf(0x109)](_0x3aa7cf(0x13e));return _0xfab299['textContent']=_0x5f46b6,_0xfab299[_0x3aa7cf(0x147)];}}document['addEventListener']('DOMContentLoaded',()=>{window['qChat']=new QChat();});function _0x1587(){const _0x2eb92a=['room-created','keypress','/api/turn-credentials','appendChild','onmessage','roomInput','1Nnjsnl','matrixSphereStatus','Q-Chat:\x20ICE\x20gathering\x20state:','text','forceRelayMode','Room\x20code\x20copied!','timestamp','hidden','Q-Chat:\x20Data\x20channel\x20open','error','Q-Chat:\x20ICE\x20connection\x20state:','substring','connectSection','disconnected','50%','log','select','transform','px)','Q-Chat:\x20Error\x20creating\x20offer:','execCommand','now','translate3d(','12568620rtnKLf','clipboard','add','Connecting...','qchatRoomCode','enableChat','createBtn','contains','closePanel','close','remove','Disconnected','connectToServer','Please\x20enter\x20a\x20valid\x20room\x20code','data','style','peer-left','offer','Secure\x20P2P','Q-Chat:\x20ICE\x20gathering\x20complete','createElement','stringify','Q-Chat\x20Server\x20Error:',',\x20forceRelay:\x20','click','copy','connectionState','toLocaleTimeString','qchat-system-message','Q-Chat:\x20Using\x20relay-only\x20mode\x20for\x20VPN\x20compatibility','copyRoomCode','getElementById','send','onerror','active','qchatClose','qchatRoomInfo','2359KbwkFk','disabled','Q-Chat:\x20Connection\x20timeout\x20-\x20may\x20be\x20behind\x20VPN','getWebSocketUrl','sdp','Joined\x20room!\x20Waiting\x20for\x20host...','createMatrixSphere','onclose','8724dIeYAj','Failed\x20to\x20send\x20message','updateStatus','updateBadge','relay','addIceCandidate','cachedIceServers','messagesSection','handleRetryRelay','joinBtn','host','floor','toggleBtn','qchat-status\x20','answer','handleAnswer','peerConnection','isHost','failed','iceGatheringState','shiftKey','display','escapeHtml','matrixSphere','connecting','initializeWebRTC','Peer\x20left','location','div','togglePanel','roomCodeEl','querySelectorAll','Enter','clearUnread','Q-Chat:\x20Connection\x20state:','sin','createOffer','innerHTML','then','badge','generateRoomId','scrollTop','forEach','Error:\x20','addEventListener','onicegatheringstatechange','Q-Chat:\x20Initializing\x20WebRTC\x20(attempt\x20','startMatrixSphereAnimation','type','Q-Chat:\x20Received\x20retry-relay\x20signal\x20from\x20peer','flex','connectionAttempt','length','copyCodeBtn','matrix-digit','580875rhnQDf','isConnected','connected','setupDataChannel','panel','createRoom','parse','catch','receiveMessage','value','disableChat','target','candidate','none','key','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal,\x20count:','2-digit','qchatStatus','readyState','4355656YDmDGL','stun:stun1.l.google.com:19302','isPanelOpen','https:','closeBtn','maxConnectionAttempts','focus','roomId','handleDisconnect','sendBtn','qchatMessagesList','cos','all','retryWithRelayMode','qchatInputSection','qchat','classList','createAndSendOffer','OPEN','639222adkqTC','-10px','184UymkDZ','className','connectionTimeout','acos','iceConnectionState','sqrt','textContent','dataChannel','12162yIdKvO','stun:stun.l.google.com:19302','received','roomInfoSection','statusEl','body','messagesList','px,\x20','showSystemMessage','joinRoom','1321893cEERKC','wss:','message','showRoomInfo','showChatUI','writeText','unreadCount','top','handleOffer','preventDefault','Connection\x20failed','urls','messageInput'];_0x1587=function(){return _0x2eb92a;};return _0x1587();}