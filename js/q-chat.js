const _0x2bb98e=_0x1dab;(function(_0x4f344b,_0x2e0d0e){const _0x327686=_0x1dab,_0xebe55=_0x4f344b();while(!![]){try{const _0x38b573=-parseInt(_0x327686(0x1a7))/0x1+-parseInt(_0x327686(0x1a9))/0x2+parseInt(_0x327686(0x168))/0x3+parseInt(_0x327686(0x1c2))/0x4*(parseInt(_0x327686(0x1c4))/0x5)+-parseInt(_0x327686(0x1c3))/0x6*(parseInt(_0x327686(0x14a))/0x7)+-parseInt(_0x327686(0x134))/0x8*(parseInt(_0x327686(0x135))/0x9)+-parseInt(_0x327686(0x18b))/0xa*(-parseInt(_0x327686(0x154))/0xb);if(_0x38b573===_0x2e0d0e)break;else _0xebe55['push'](_0xebe55['shift']());}catch(_0x4d7268){_0xebe55['push'](_0xebe55['shift']());}}}(_0x57fb,0xaeaac));function _0x1dab(_0x1503b6,_0x15c9ee){_0x1503b6=_0x1503b6-0x130;const _0x57fb56=_0x57fb();let _0x1dabf8=_0x57fb56[_0x1503b6];return _0x1dabf8;}class QChat{constructor(){const _0x2936ce=_0x1dab;this['ws']=null,this['peerConnection']=null,this[_0x2936ce(0x132)]=null,this[_0x2936ce(0x184)]=null,this[_0x2936ce(0x1ca)]=![],this[_0x2936ce(0x1dc)]=![],this['unreadCount']=0x0,this['isPanelOpen']=![],this[_0x2936ce(0x153)](),this[_0x2936ce(0x198)]();}['initElements'](){const _0x5d3792=_0x1dab;this['panel']=document['getElementById'](_0x5d3792(0x1ea)),this['toggleBtn']=document[_0x5d3792(0x133)]('qchatToggle'),this['closeBtn']=document['getElementById']('qchatClose'),this['badge']=document['getElementById'](_0x5d3792(0x1b9)),this[_0x5d3792(0x1bf)]=document['getElementById'](_0x5d3792(0x1a3)),this['roomInfoSection']=document['getElementById']('qchatRoomInfo'),this[_0x5d3792(0x18c)]=document[_0x5d3792(0x133)]('qchatMessages'),this[_0x5d3792(0x188)]=document['getElementById'](_0x5d3792(0x130)),this[_0x5d3792(0x1cf)]=document[_0x5d3792(0x133)](_0x5d3792(0x15a)),this['roomCodeEl']=document[_0x5d3792(0x133)]('qchatRoomCode'),this['createBtn']=document['getElementById']('qchatCreate'),this[_0x5d3792(0x1b2)]=document[_0x5d3792(0x133)]('qchatJoin'),this['copyCodeBtn']=document[_0x5d3792(0x133)](_0x5d3792(0x1dd)),this[_0x5d3792(0x13b)]=document[_0x5d3792(0x133)](_0x5d3792(0x159)),this[_0x5d3792(0x157)]=document['getElementById']('qchatRoomInput'),this['messageInput']=document['getElementById']('qchatMessageInput'),this[_0x5d3792(0x190)]=document[_0x5d3792(0x133)](_0x5d3792(0x179));}['bindEvents'](){const _0x129cdf=_0x1dab;this['toggleBtn']?.['addEventListener']('click',()=>this[_0x129cdf(0x14d)]()),this['closeBtn']?.[_0x129cdf(0x13e)]('click',()=>this['closePanel']()),this[_0x129cdf(0x151)]?.['addEventListener'](_0x129cdf(0x1ce),()=>this[_0x129cdf(0x1e3)]()),this[_0x129cdf(0x1b2)]?.[_0x129cdf(0x13e)]('click',()=>this[_0x129cdf(0x142)]()),this[_0x129cdf(0x157)]?.[_0x129cdf(0x13e)](_0x129cdf(0x182),_0x2b5956=>{const _0x5733bd=_0x129cdf;if(_0x2b5956['key']===_0x5733bd(0x197))this[_0x5733bd(0x142)]();}),this[_0x129cdf(0x141)]?.[_0x129cdf(0x13e)](_0x129cdf(0x1ce),()=>this[_0x129cdf(0x19d)]()),this[_0x129cdf(0x13b)]?.[_0x129cdf(0x13e)]('click',()=>this[_0x129cdf(0x156)]()),this[_0x129cdf(0x136)]?.[_0x129cdf(0x13e)](_0x129cdf(0x182),_0x3cef90=>{const _0x3365ee=_0x129cdf;_0x3cef90[_0x3365ee(0x180)]==='Enter'&&!_0x3cef90['shiftKey']&&(_0x3cef90[_0x3365ee(0x131)](),this['sendMessage']());}),document[_0x129cdf(0x13e)]('click',_0x355024=>{const _0x1d1913=_0x129cdf;this['isPanelOpen']&&!this[_0x1d1913(0x1c1)]?.['contains'](_0x355024['target'])&&!this['toggleBtn']?.['contains'](_0x355024['target'])&&this[_0x1d1913(0x1c6)]();});}[_0x2bb98e(0x14d)](){const _0x52a48c=_0x2bb98e;this[_0x52a48c(0x16f)]?this[_0x52a48c(0x1c6)]():this['openPanel']();}[_0x2bb98e(0x14c)](){const _0x252376=_0x2bb98e;this['panel']?.['classList']['add']('open'),this[_0x252376(0x1b6)]?.['classList']['add']('active'),this[_0x252376(0x16f)]=!![],this[_0x252376(0x194)]();}[_0x2bb98e(0x1c6)](){const _0x22bf89=_0x2bb98e;this[_0x22bf89(0x1c1)]?.[_0x22bf89(0x150)]['remove'](_0x22bf89(0x1d9)),this[_0x22bf89(0x1b6)]?.['classList'][_0x22bf89(0x1de)](_0x22bf89(0x1c9)),this['isPanelOpen']=![];}[_0x2bb98e(0x1db)](){const _0x36d075=_0x2bb98e,_0x271b43='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x485c94='';for(let _0x3540bf=0x0;_0x3540bf<0x6;_0x3540bf++){_0x485c94+=_0x271b43[_0x36d075(0x1ab)](Math['floor'](Math[_0x36d075(0x1d5)]()*_0x271b43['length']));}return _0x485c94;}[_0x2bb98e(0x149)](){const _0x113342=_0x2bb98e,_0x45385c=window['location'][_0x113342(0x16e)]==='https:'?_0x113342(0x18e):_0x113342(0x1be);return _0x45385c+'//'+window[_0x113342(0x140)][_0x113342(0x13f)]+'/ws';}async[_0x2bb98e(0x1b1)](){return new Promise((_0x108885,_0x39617c)=>{const _0x29d1c6=_0x1dab,_0x2e8da7=this['getWebSocketUrl']();console['log'](_0x29d1c6(0x1d0),_0x2e8da7),this['ws']=new WebSocket(_0x2e8da7),this['ws']['onopen']=()=>{const _0x43fbe8=_0x29d1c6;console['log'](_0x43fbe8(0x1af)),_0x108885();},this['ws']['onerror']=_0x360b88=>{const _0x19da86=_0x29d1c6;console['error'](_0x19da86(0x15f),_0x360b88),_0x39617c(_0x360b88);},this['ws'][_0x29d1c6(0x1e7)]=()=>{console['log']('Q-Chat:\x20WebSocket\x20closed'),this['handleDisconnect']();},this['ws']['onmessage']=_0x3e5b16=>{const _0x362532=_0x29d1c6,_0xff664e=JSON[_0x362532(0x1b8)](_0x3e5b16['data']);this[_0x362532(0x144)](_0xff664e);};});}[_0x2bb98e(0x192)](_0x1cef39){const _0x94b839=_0x2bb98e;this['ws']&&this['ws']['readyState']===WebSocket[_0x94b839(0x199)]&&this['ws'][_0x94b839(0x192)](JSON[_0x94b839(0x178)](_0x1cef39));}async[_0x2bb98e(0x1e3)](){const _0x341727=_0x2bb98e;this[_0x341727(0x1ca)]=!![],this['roomId']=this[_0x341727(0x1db)](),this['updateStatus']('connecting','Connecting...');try{await this[_0x341727(0x1b1)](),this[_0x341727(0x192)]({'type':_0x341727(0x1b3),'roomId':this[_0x341727(0x184)]});}catch(_0x28f061){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0x341727(0x163),_0x341727(0x16a));}}async[_0x2bb98e(0x142)](){const _0x42d865=_0x2bb98e,_0x243d89=this['roomInput']?.[_0x42d865(0x13c)][_0x42d865(0x17c)]()['toUpperCase']();if(!_0x243d89||_0x243d89[_0x42d865(0x15b)]<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this['isHost']=![],this['roomId']=_0x243d89,this[_0x42d865(0x1a2)](_0x42d865(0x143),'Joining...');try{await this[_0x42d865(0x1b1)](),this[_0x42d865(0x192)]({'type':_0x42d865(0x17a),'roomId':this['roomId']});}catch(_0x482b74){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0x42d865(0x163),_0x42d865(0x16a));}}async[_0x2bb98e(0x144)](_0x20b1b3){const _0x43f482=_0x2bb98e;switch(_0x20b1b3[_0x43f482(0x1c5)]){case'room-created':this['showRoomInfo'](),this[_0x43f482(0x1a2)]('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage'](_0x43f482(0x173)),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case _0x43f482(0x1ba):this['showSystemMessage']('Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...'),this['updateStatus'](_0x43f482(0x143),'Establishing\x20P2P...'),await this[_0x43f482(0x1a1)]();this[_0x43f482(0x1ca)]&&await this['createAndSendOffer']();break;case _0x43f482(0x1e8):this['showSystemMessage'](_0x43f482(0x1ac)),this[_0x43f482(0x1a2)](_0x43f482(0x163),'Peer\x20left'),this[_0x43f482(0x17b)]();break;case _0x43f482(0x164):await this['handleOffer'](_0x20b1b3);break;case'answer':await this[_0x43f482(0x185)](_0x20b1b3);break;case'ice-candidate':await this['handleIceCandidate'](_0x20b1b3);break;case'error':this['showSystemMessage'](_0x43f482(0x1d4)+_0x20b1b3[_0x43f482(0x1c0)]),this['updateStatus'](_0x43f482(0x163),_0x43f482(0x167)),console[_0x43f482(0x1b0)](_0x43f482(0x187),_0x20b1b3['message']);break;}}async['initializeWebRTC'](){const _0x12ffa4=_0x2bb98e,_0x49cd64=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x12ffa4(0x1d3)}];let _0x3d426c=_0x49cd64;try{const _0x35ca9d=await fetch('/api/turn-credentials'),_0x5bd8f5=await _0x35ca9d['json']();Array[_0x12ffa4(0x169)](_0x5bd8f5)&&_0x5bd8f5['length']>0x0?(_0x3d426c=_0x5bd8f5,console[_0x12ffa4(0x1c7)]('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console['log'](_0x12ffa4(0x17d));}catch(_0x4bd3ed){console['log'](_0x12ffa4(0x18f));}const _0x619ea7={'iceServers':_0x3d426c};this[_0x12ffa4(0x160)]=new RTCPeerConnection(_0x619ea7),this[_0x12ffa4(0x160)]['onicecandidate']=_0x571230=>{const _0x894b63=_0x12ffa4;_0x571230['candidate']&&this['send']({'type':_0x894b63(0x1ae),'roomId':this[_0x894b63(0x184)],'candidate':_0x571230['candidate']});},this[_0x12ffa4(0x160)]['onconnectionstatechange']=()=>{const _0xfec46d=_0x12ffa4,_0x5c7f31=this[_0xfec46d(0x160)][_0xfec46d(0x1bc)];console[_0xfec46d(0x1c7)]('Q-Chat:\x20Connection\x20state:',_0x5c7f31);if(_0x5c7f31==='connected')this[_0xfec46d(0x1a2)]('connected',_0xfec46d(0x145)),this['showSystemMessage'](_0xfec46d(0x14f));else(_0x5c7f31===_0xfec46d(0x163)||_0x5c7f31===_0xfec46d(0x152))&&(this['updateStatus']('disconnected',_0xfec46d(0x1d2)),this['disableChat']());},this['isHost']?(this[_0x12ffa4(0x132)]=this[_0x12ffa4(0x160)][_0x12ffa4(0x1d8)](_0x12ffa4(0x166),{'ordered':!![]}),this[_0x12ffa4(0x17e)]()):this['peerConnection'][_0x12ffa4(0x19b)]=_0x1ca6d1=>{const _0xb96ab8=_0x12ffa4;this['dataChannel']=_0x1ca6d1[_0xb96ab8(0x1eb)],this['setupDataChannel']();};}['setupDataChannel'](){const _0x92f9=_0x2bb98e;this['dataChannel']['onopen']=()=>{const _0x2ac2ea=_0x1dab;console[_0x2ac2ea(0x1c7)]('Q-Chat:\x20Data\x20channel\x20open'),this[_0x2ac2ea(0x1dc)]=!![],this['enableChat'](),this['showChatUI']();},this[_0x92f9(0x132)]['onclose']=()=>{const _0x5f59cb=_0x92f9;console['log']('Q-Chat:\x20Data\x20channel\x20closed'),this[_0x5f59cb(0x1dc)]=![],this[_0x5f59cb(0x17b)]();},this['dataChannel'][_0x92f9(0x158)]=_0x310948=>{const _0x58fef4=_0x92f9,_0x201060=JSON['parse'](_0x310948[_0x58fef4(0x1a5)]);this['receiveMessage'](_0x201060);};}async['createAndSendOffer'](){const _0x4633c3=_0x2bb98e;try{const _0x1ccb2e=await this[_0x4633c3(0x160)][_0x4633c3(0x1c8)]();await this['peerConnection']['setLocalDescription'](_0x1ccb2e),this[_0x4633c3(0x192)]({'type':_0x4633c3(0x164),'roomId':this[_0x4633c3(0x184)],'sdp':_0x1ccb2e['sdp']});}catch(_0x129b33){console['error'](_0x4633c3(0x15e),_0x129b33);}}async['handleOffer'](_0x3bd059){const _0x225b65=_0x2bb98e;try{await this['initializeWebRTC'](),await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x3bd059[_0x225b65(0x161)]}));const _0x2910b0=await this[_0x225b65(0x160)]['createAnswer']();await this[_0x225b65(0x160)]['setLocalDescription'](_0x2910b0),this['send']({'type':'answer','roomId':this[_0x225b65(0x184)],'sdp':_0x2910b0['sdp']});}catch(_0x2ae0ed){console[_0x225b65(0x1b0)]('Q-Chat:\x20Error\x20handling\x20offer:',_0x2ae0ed);}}async[_0x2bb98e(0x185)](_0x40f8a6){const _0x453e4f=_0x2bb98e;try{await this['peerConnection'][_0x453e4f(0x1e1)](new RTCSessionDescription({'type':'answer','sdp':_0x40f8a6['sdp']}));}catch(_0x1f9425){console['error'](_0x453e4f(0x18d),_0x1f9425);}}async['handleIceCandidate'](_0x32ad78){const _0x598eaa=_0x2bb98e;try{_0x32ad78['candidate']&&await this[_0x598eaa(0x160)][_0x598eaa(0x138)](new RTCIceCandidate(_0x32ad78[_0x598eaa(0x16c)]));}catch(_0x1d66be){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x1d66be);}}['showRoomInfo'](){const _0x12771c=_0x2bb98e;if(this[_0x12771c(0x1bf)])this[_0x12771c(0x1bf)][_0x12771c(0x189)][_0x12771c(0x1bb)]='none';if(this[_0x12771c(0x183)])this[_0x12771c(0x183)]['style'][_0x12771c(0x1bb)]=_0x12771c(0x19c);this['startMatrixSphereAnimation']();}['startMatrixSphereAnimation'](){const _0x1ec958=_0x2bb98e,_0xe30a3b=document['getElementById'](_0x1ec958(0x196)),_0xfbfc9b=document['getElementById']('matrixSphere'),_0xb3063b=document[_0x1ec958(0x133)](_0x1ec958(0x175)),_0x11c886=document[_0x1ec958(0x133)]('qchatRoomCodeSection'),_0x583ecf=document['getElementById']('qchatWaiting');if(!_0xfbfc9b||!_0xe30a3b){if(this[_0x1ec958(0x191)])this[_0x1ec958(0x191)][_0x1ec958(0x1e9)]=this['roomId'];return;}this['createMatrixSphere'](_0xfbfc9b);const _0x5260e9=[_0x1ec958(0x19f),'Encrypting\x20Neural\x20Pathway...',_0x1ec958(0x1e4),'Finalizing\x20Quantum\x20Code...'];let _0xb0f5e6=0x0;const _0x40f180=setInterval(()=>{_0xb0f5e6++,_0xb0f5e6<_0x5260e9['length']&&_0xb3063b&&(_0xb3063b['textContent']=_0x5260e9[_0xb0f5e6]);},0x258);setTimeout(()=>{const _0x3295ef=_0x1ec958;clearInterval(_0x40f180),_0xfbfc9b[_0x3295ef(0x150)]['add'](_0x3295ef(0x162));if(_0xb3063b)_0xb3063b[_0x3295ef(0x189)][_0x3295ef(0x1bb)]=_0x3295ef(0x170);setTimeout(()=>{const _0x59d15=_0x3295ef;_0xe30a3b[_0x59d15(0x189)]['display']='none';if(this[_0x59d15(0x191)])this[_0x59d15(0x191)][_0x59d15(0x1e9)]=this[_0x59d15(0x184)];_0x11c886&&(_0x11c886[_0x59d15(0x150)]['remove']('hidden'),_0x11c886[_0x59d15(0x150)]['add'](_0x59d15(0x1df))),_0x583ecf&&_0x583ecf['classList'][_0x59d15(0x1de)](_0x59d15(0x13a));},0x320);},0x9c4);}['createMatrixSphere'](_0x23064b){const _0x217588=_0x2bb98e;_0x23064b[_0x217588(0x174)]='';const _0x33082d=0x78,_0x493a93=0x3c;for(let _0x493bc5=0x0;_0x493bc5<_0x33082d;_0x493bc5++){const _0x1062ae=document['createElement'](_0x217588(0x1cd));_0x1062ae[_0x217588(0x1d1)]=_0x217588(0x181),_0x1062ae[_0x217588(0x1e9)]=Math[_0x217588(0x186)](Math[_0x217588(0x1d5)]()*0xa);const _0xaef3e7=Math[_0x217588(0x15c)](0x1-0x2*(_0x493bc5+0.5)/_0x33082d),_0x1fd485=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x493bc5,_0x2d13ca=_0x493a93*Math['sin'](_0xaef3e7)*Math[_0x217588(0x14b)](_0x1fd485),_0x264e3e=_0x493a93*Math['sin'](_0xaef3e7)*Math['sin'](_0x1fd485),_0x4df4ed=_0x493a93*Math['cos'](_0xaef3e7);_0x1062ae['style'][_0x217588(0x1a0)]=_0x217588(0x165)+_0x2d13ca+'px,\x20'+_0x264e3e+'px,\x20'+_0x4df4ed+'px)',_0x1062ae[_0x217588(0x189)]['left']='50%',_0x1062ae[_0x217588(0x189)][_0x217588(0x19e)]='50%',_0x1062ae[_0x217588(0x189)]['marginLeft']=_0x217588(0x1ec),_0x1062ae['style'][_0x217588(0x1cb)]=_0x217588(0x147),_0x1062ae['style']['animationDelay']=Math[_0x217588(0x1d5)]()*0.5+'s';const _0xc18efd=0.4+(_0x4df4ed+_0x493a93)/(0x2*_0x493a93)*0.6;_0x1062ae['style']['opacity']=_0xc18efd,_0x23064b[_0x217588(0x148)](_0x1062ae);}this['digitChangeInterval']=setInterval(()=>{const _0x1107cf=_0x217588,_0x58bfdc=_0x23064b['querySelectorAll'](_0x1107cf(0x1a4)),_0x253bb0=_0x58bfdc[Math['floor'](Math[_0x1107cf(0x1d5)]()*_0x58bfdc['length'])];_0x253bb0&&(_0x253bb0[_0x1107cf(0x1e9)]=Math[_0x1107cf(0x186)](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x3424e8=_0x217588;this[_0x3424e8(0x1b5)]&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0xe762c5=_0x2bb98e;if(this[_0xe762c5(0x1bf)])this[_0xe762c5(0x1bf)][_0xe762c5(0x189)][_0xe762c5(0x1bb)]=_0xe762c5(0x170);if(this['roomInfoSection'])this['roomInfoSection'][_0xe762c5(0x189)][_0xe762c5(0x1bb)]=_0xe762c5(0x170);if(this['messagesSection'])this['messagesSection']['style'][_0xe762c5(0x1bb)]='flex';if(this[_0xe762c5(0x188)])this[_0xe762c5(0x188)]['style']['display']='block';}['enableChat'](){const _0x34f770=_0x2bb98e;this[_0x34f770(0x136)]&&(this['messageInput'][_0x34f770(0x195)]=![],this[_0x34f770(0x136)][_0x34f770(0x172)]());if(this['sendBtn'])this['sendBtn']['disabled']=![];}[_0x2bb98e(0x17b)](){const _0x314efc=_0x2bb98e;if(this[_0x314efc(0x136)])this[_0x314efc(0x136)]['disabled']=!![];if(this[_0x314efc(0x13b)])this['sendBtn']['disabled']=!![];}['sendMessage'](){const _0x1df9df=_0x2bb98e,_0x1e0f54=this[_0x1df9df(0x136)]?.[_0x1df9df(0x13c)][_0x1df9df(0x17c)]();if(!_0x1e0f54||!this['isConnected'])return;const _0x3c4fcc={'type':'message','text':_0x1e0f54,'timestamp':Date[_0x1df9df(0x177)]()};try{this['dataChannel'][_0x1df9df(0x192)](JSON[_0x1df9df(0x178)](_0x3c4fcc)),this[_0x1df9df(0x193)](_0x1e0f54,_0x1df9df(0x1a6),_0x3c4fcc['timestamp']),this[_0x1df9df(0x136)]['value']='';}catch(_0x258438){console['error']('Q-Chat:\x20Error\x20sending\x20message:',_0x258438),this['showSystemMessage']('Failed\x20to\x20send\x20message');}}[_0x2bb98e(0x146)](_0x7ebfc0){const _0x5e7940=_0x2bb98e;_0x7ebfc0[_0x5e7940(0x1c5)]===_0x5e7940(0x1c0)&&(this['addMessage'](_0x7ebfc0['text'],_0x5e7940(0x1bd),_0x7ebfc0[_0x5e7940(0x171)]),!this['isPanelOpen']&&(this[_0x5e7940(0x13d)]++,this[_0x5e7940(0x14e)]()));}['addMessage'](_0x4cd3e5,_0xc66e81,_0x391004){const _0x115bbc=_0x2bb98e,_0x4e4375=document['createElement']('div');_0x4e4375[_0x115bbc(0x1d1)]='qchat-message\x20'+_0xc66e81;const _0x60e1da=new Date(_0x391004)[_0x115bbc(0x176)]([],{'hour':_0x115bbc(0x139),'minute':_0x115bbc(0x139)});_0x4e4375['innerHTML']=_0x115bbc(0x137)+this[_0x115bbc(0x1cc)](_0x4cd3e5)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0xc66e81==='sent'?'âœ“\x20':'')+_0x60e1da+_0x115bbc(0x1d7),this[_0x115bbc(0x190)]?.[_0x115bbc(0x148)](_0x4e4375),this[_0x115bbc(0x1da)]();}[_0x2bb98e(0x18a)](_0x5f1e3d){const _0x427eb8=_0x2bb98e,_0x3036bd=document['createElement'](_0x427eb8(0x1ad));_0x3036bd['className']=_0x427eb8(0x16b),_0x3036bd['textContent']=_0x5f1e3d,this['messagesList']?.['appendChild'](_0x3036bd),this['scrollToBottom']();}['scrollToBottom'](){const _0x5df45d=_0x2bb98e;this[_0x5df45d(0x18c)]&&(this[_0x5df45d(0x18c)]['scrollTop']=this[_0x5df45d(0x18c)]['scrollHeight']);}[_0x2bb98e(0x1a2)](_0x1dd6e1,_0x2077fe){const _0xdc948d=_0x2bb98e;if(this['statusEl']){this['statusEl']['className']='qchat-status\x20'+_0x1dd6e1;const _0x21c923=this[_0xdc948d(0x1cf)]['querySelector'](_0xdc948d(0x1aa));if(_0x21c923)_0x21c923[_0xdc948d(0x1e9)]=_0x2077fe;}}[_0x2bb98e(0x14e)](){const _0x42aebc=_0x2bb98e;this[_0x42aebc(0x1e0)]&&(this['unreadCount']>0x0?(this['badge'][_0x42aebc(0x1e9)]=this[_0x42aebc(0x13d)]>0x63?_0x42aebc(0x16d):this['unreadCount'],this['badge']['style']['display']='flex'):this['badge'][_0x42aebc(0x189)][_0x42aebc(0x1bb)]=_0x42aebc(0x170));}[_0x2bb98e(0x194)](){const _0x138487=_0x2bb98e;this[_0x138487(0x13d)]=0x0,this['updateBadge']();}[_0x2bb98e(0x19d)](){const _0x34c7a1=_0x2bb98e;this['roomId']&&navigator[_0x34c7a1(0x15d)][_0x34c7a1(0x17f)](this['roomId'])[_0x34c7a1(0x1e2)](()=>{const _0x5585f0=_0x34c7a1;this[_0x5585f0(0x18a)]('Room\x20code\x20copied!');})['catch'](()=>{const _0x35c6ab=_0x34c7a1,_0x2d6e47=document['createElement'](_0x35c6ab(0x155));_0x2d6e47[_0x35c6ab(0x13c)]=this['roomId'],document[_0x35c6ab(0x1e6)]['appendChild'](_0x2d6e47),_0x2d6e47[_0x35c6ab(0x1b7)](),document['execCommand'](_0x35c6ab(0x19a)),document['body']['removeChild'](_0x2d6e47),this['showSystemMessage'](_0x35c6ab(0x1a8));});}[_0x2bb98e(0x1e5)](){const _0x4ec8a9=_0x2bb98e;this['isConnected']=![],this[_0x4ec8a9(0x1a2)](_0x4ec8a9(0x163),_0x4ec8a9(0x1d2)),this['disableChat']();}[_0x2bb98e(0x1cc)](_0xc3f3b7){const _0x2b212b=_0x2bb98e,_0x335c04=document[_0x2b212b(0x1b4)]('div');return _0x335c04['textContent']=_0xc3f3b7,_0x335c04[_0x2b212b(0x174)];}}document[_0x2bb98e(0x13e)]('DOMContentLoaded',()=>{const _0x4e3709=_0x2bb98e;window[_0x4e3709(0x1d6)]=new QChat();});function _0x57fb(){const _0x4443aa=['toLocaleTimeString','now','stringify','qchatMessagesList','join-room','disableChat','trim','Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback','setupDataChannel','writeText','key','matrix-digit','keypress','roomInfoSection','roomId','handleAnswer','floor','Q-Chat\x20Server\x20Error:','inputSection','style','showSystemMessage','697450NoDtns','messagesSection','Q-Chat:\x20Error\x20handling\x20answer:','wss:','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','messagesList','roomCodeEl','send','addMessage','clearUnread','disabled','matrixSphereContainer','Enter','bindEvents','OPEN','copy','ondatachannel','block','copyRoomCode','top','Generating\x20Quantum\x20Tunnel...','transform','initializeWebRTC','updateStatus','qchatConnect','.matrix-digit','data','sent','1282982toOnWX','Room\x20code\x20copied!','1293760UocTHm','.status-text','charAt','Peer\x20disconnected','div','ice-candidate','Q-Chat:\x20WebSocket\x20connected','error','connectToServer','joinBtn','create-room','createElement','digitChangeInterval','toggleBtn','select','parse','qchatBadge','peer-joined','display','connectionState','received','ws:','connectSection','message','panel','357100sBLSrO','24162XvrdiK','55vKTbGP','type','closePanel','log','createOffer','active','isHost','marginTop','escapeHtml','span','click','statusEl','Q-Chat:\x20Connecting\x20to:','className','Disconnected','stun:stun1.l.google.com:19302','Error:\x20','random','qChat','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','createDataChannel','open','scrollToBottom','generateRoomId','isConnected','qchatCopyCode','remove','reveal','badge','setRemoteDescription','then','createRoom','Establishing\x20Secure\x20Link...','handleDisconnect','body','onclose','peer-left','textContent','qchatPanel','channel','-7px','qchatInputSection','preventDefault','dataChannel','getElementById','7846184mwptIB','9gkGpiv','messageInput','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','addIceCandidate','2-digit','hidden','sendBtn','value','unreadCount','addEventListener','host','location','copyCodeBtn','joinRoom','connecting','handleSignalingMessage','Secure\x20P2P','receiveMessage','-10px','appendChild','getWebSocketUrl','1554hKLXUP','cos','openPanel','togglePanel','updateBadge','ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)','classList','createBtn','failed','initElements','341RPrfvM','textarea','sendMessage','roomInput','onmessage','qchatSendBtn','qchatStatus','length','acos','clipboard','Q-Chat:\x20Error\x20creating\x20offer:','Q-Chat:\x20WebSocket\x20error:','peerConnection','sdp','fade-out','disconnected','offer','translate3d(','qchat','Error','4127835rJSCPs','isArray','Connection\x20failed','qchat-system-message','candidate','99+','protocol','isPanelOpen','none','timestamp','focus','Joined\x20room!\x20Waiting\x20for\x20host...','innerHTML','matrixSphereStatus'];_0x57fb=function(){return _0x4443aa;};return _0x57fb();}