const _0x5c063a=_0x20e1;function _0x3642(){const _0x17039c=['onmessage','closeBtn','messagesSection','qchat','unreadCount','qchatPanel','qchatCreate','Connection\x20failed','createAnswer','message','Secure\x20P2P','-10px','target','Disconnected','qchatWaiting','createMatrixSphere','span','enableChat','Establishing\x20Secure\x20Link...','className','isConnected','floor','messagesList','qchatStatus','handleAnswer','connectionState','50%','bindEvents','onerror','qchatMessages','Peer\x20disconnected','offer','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','then','length','textContent','disableChat','fade-out','error','addIceCandidate','text','sendBtn','scrollToBottom','roomInput','style','roomId','Q-Chat\x20Server\x20Error:','qchatJoin','value','Establishing\x20P2P...','disconnected','matrixSphereStatus','createBtn','writeText','transform','connecting','data','setLocalDescription','stun:stun.l.google.com:19302','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','parse','7AUqTsh','open','classList','addMessage','handleSignalingMessage','body','Q-Chat:\x20Connecting\x20to:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','send','answer','qchatBadge','inputSection','ice-candidate','Q-Chat:\x20WebSocket\x20connected','random','innerHTML','receiveMessage','marginLeft','showSystemMessage','openPanel','timestamp','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','sendMessage','showRoomInfo','px,\x20','connected','statusEl','generateRoomId','ws:','https:','peerConnection','matrix-digit','addEventListener','handleDisconnect','reveal','updateStatus','setupDataChannel','qchatConnect','log','animationDelay','handleOffer','marginTop','2604206lMQpoh','qchatClose','onconnectionstatechange','block','joinRoom','charAt','onclose','panel','8aBPeFZ','initElements','click','4492200kmCaMf','/api/turn-credentials','keypress','isPanelOpen','qchatMessagesList','onopen','scrollHeight','connectSection','qchatMessageInput','connectToServer','startMatrixSphereAnimation','div','createElement','flex','dataChannel','none','getWebSocketUrl','copy','candidate','matrixSphere','joinBtn','746477hIcvCa','9389682DkwDaY','display','Failed\x20to\x20connect\x20to\x20server','messageInput','Failed\x20to\x20send\x20message','badge','Enter','Q-Chat:\x20Data\x20channel\x20open','Error:\x20','contains','8821590zoqkap','execCommand','534399XQKqLo','9908168IgjteS','select','getElementById','roomCodeEl','digitChangeInterval','appendChild','failed','qchatInputSection','-7px','toggleBtn','trim','Peer\x20left','5CXCvVl','qchat-status\x20','roomInfoSection','initializeWebRTC','createAndSendOffer','px)','createDataChannel','copyRoomCode','qchat-system-message','preventDefault','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal','location','Joined\x20room!\x20Waiting\x20for\x20host...','catch','sdp','remove','Q-Chat:\x20Error\x20sending\x20message:'];_0x3642=function(){return _0x17039c;};return _0x3642();}function _0x20e1(_0x5c55f1,_0x3465a5){_0x5c55f1=_0x5c55f1-0x1f1;const _0x36421e=_0x3642();let _0x20e154=_0x36421e[_0x5c55f1];return _0x20e154;}(function(_0x3a2148,_0x2a8b4b){const _0x8cbf79=_0x20e1,_0x5092b3=_0x3a2148();while(!![]){try{const _0x318353=parseInt(_0x8cbf79(0x29d))/0x1+-parseInt(_0x8cbf79(0x27d))/0x2+-parseInt(_0x8cbf79(0x1f6))/0x3*(parseInt(_0x8cbf79(0x285))/0x4)+-parseInt(_0x8cbf79(0x203))/0x5*(-parseInt(_0x8cbf79(0x1f4))/0x6)+-parseInt(_0x8cbf79(0x252))/0x7*(parseInt(_0x8cbf79(0x1f7))/0x8)+parseInt(_0x8cbf79(0x29e))/0x9+parseInt(_0x8cbf79(0x288))/0xa;if(_0x318353===_0x2a8b4b)break;else _0x5092b3['push'](_0x5092b3['shift']());}catch(_0x2eb683){_0x5092b3['push'](_0x5092b3['shift']());}}}(_0x3642,0xc6552));class QChat{constructor(){const _0x161844=_0x20e1;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this['roomId']=null,this['isHost']=![],this['isConnected']=![],this['unreadCount']=0x0,this[_0x161844(0x28b)]=![],this[_0x161844(0x286)](),this[_0x161844(0x230)]();}[_0x5c063a(0x286)](){const _0x38ebec=_0x5c063a;this[_0x38ebec(0x284)]=document['getElementById'](_0x38ebec(0x21a)),this[_0x38ebec(0x200)]=document['getElementById']('qchatToggle'),this[_0x38ebec(0x216)]=document['getElementById'](_0x38ebec(0x27e)),this[_0x38ebec(0x2a3)]=document['getElementById'](_0x38ebec(0x25c)),this[_0x38ebec(0x28f)]=document[_0x38ebec(0x1f9)](_0x38ebec(0x278)),this[_0x38ebec(0x205)]=document['getElementById']('qchatRoomInfo'),this[_0x38ebec(0x217)]=document['getElementById'](_0x38ebec(0x232)),this['inputSection']=document['getElementById'](_0x38ebec(0x1fe)),this['statusEl']=document['getElementById'](_0x38ebec(0x22c)),this[_0x38ebec(0x1fa)]=document[_0x38ebec(0x1f9)]('qchatRoomCode'),this[_0x38ebec(0x249)]=document['getElementById'](_0x38ebec(0x21b)),this['joinBtn']=document['getElementById'](_0x38ebec(0x244)),this['copyCodeBtn']=document['getElementById']('qchatCopyCode'),this['sendBtn']=document['getElementById']('qchatSendBtn'),this['roomInput']=document[_0x38ebec(0x1f9)]('qchatRoomInput'),this[_0x38ebec(0x2a1)]=document['getElementById'](_0x38ebec(0x290)),this[_0x38ebec(0x22b)]=document['getElementById'](_0x38ebec(0x28c));}[_0x5c063a(0x230)](){const _0x5b528e=_0x5c063a;this['toggleBtn']?.[_0x5b528e(0x273)]('click',()=>this['togglePanel']()),this['closeBtn']?.['addEventListener']('click',()=>this['closePanel']()),this['createBtn']?.['addEventListener'](_0x5b528e(0x287),()=>this['createRoom']()),this[_0x5b528e(0x29c)]?.[_0x5b528e(0x273)](_0x5b528e(0x287),()=>this['joinRoom']()),this['roomInput']?.[_0x5b528e(0x273)](_0x5b528e(0x28a),_0x1be6fb=>{const _0x47f42e=_0x5b528e;if(_0x1be6fb['key']==='Enter')this[_0x47f42e(0x281)]();}),this['copyCodeBtn']?.['addEventListener']('click',()=>this[_0x5b528e(0x20a)]()),this['sendBtn']?.['addEventListener']('click',()=>this['sendMessage']()),this['messageInput']?.[_0x5b528e(0x273)](_0x5b528e(0x28a),_0x3a8059=>{const _0x43d16d=_0x5b528e;_0x3a8059['key']===_0x43d16d(0x2a4)&&!_0x3a8059['shiftKey']&&(_0x3a8059[_0x43d16d(0x20c)](),this[_0x43d16d(0x269)]());}),document[_0x5b528e(0x273)](_0x5b528e(0x287),_0x2a6d2d=>{const _0x12d467=_0x5b528e;this['isPanelOpen']&&!this[_0x12d467(0x284)]?.[_0x12d467(0x1f3)](_0x2a6d2d[_0x12d467(0x221)])&&!this[_0x12d467(0x200)]?.['contains'](_0x2a6d2d[_0x12d467(0x221)])&&this['closePanel']();});}['togglePanel'](){const _0x258fe9=_0x5c063a;this['isPanelOpen']?this['closePanel']():this[_0x258fe9(0x265)]();}[_0x5c063a(0x265)](){const _0x27b8be=_0x5c063a;this[_0x27b8be(0x284)]?.['classList']['add'](_0x27b8be(0x253)),this[_0x27b8be(0x200)]?.['classList']['add']('active'),this['isPanelOpen']=!![],this['clearUnread']();}['closePanel'](){const _0x439bb3=_0x5c063a;this['panel']?.['classList']['remove'](_0x439bb3(0x253)),this['toggleBtn']?.['classList'][_0x439bb3(0x213)]('active'),this[_0x439bb3(0x28b)]=![];}[_0x5c063a(0x26e)](){const _0x339664=_0x5c063a,_0x394011=_0x339664(0x268);let _0x18a87f='';for(let _0x3aa80a=0x0;_0x3aa80a<0x6;_0x3aa80a++){_0x18a87f+=_0x394011[_0x339664(0x282)](Math['floor'](Math[_0x339664(0x260)]()*_0x394011[_0x339664(0x237)]));}return _0x18a87f;}['getWebSocketUrl'](){const _0x148a91=_0x5c063a,_0x25d477=window[_0x148a91(0x20f)]['protocol']===_0x148a91(0x270)?'wss:':_0x148a91(0x26f);return _0x25d477+'//'+window['location']['host']+'/ws';}async[_0x5c063a(0x291)](){return new Promise((_0x83458a,_0xb14587)=>{const _0x381d36=_0x20e1,_0x3e7546=this[_0x381d36(0x298)]();console[_0x381d36(0x279)](_0x381d36(0x258),_0x3e7546),this['ws']=new WebSocket(_0x3e7546),this['ws'][_0x381d36(0x28d)]=()=>{const _0x49f2fd=_0x381d36;console['log'](_0x49f2fd(0x25f)),_0x83458a();},this['ws'][_0x381d36(0x231)]=_0x223d41=>{console['error']('Q-Chat:\x20WebSocket\x20error:',_0x223d41),_0xb14587(_0x223d41);},this['ws']['onclose']=()=>{const _0xdd13c4=_0x381d36;console['log']('Q-Chat:\x20WebSocket\x20closed'),this[_0xdd13c4(0x274)]();},this['ws'][_0x381d36(0x215)]=_0x2c1d5c=>{const _0x271766=_0x381d36,_0x3b12d4=JSON[_0x271766(0x251)](_0x2c1d5c[_0x271766(0x24d)]);this[_0x271766(0x256)](_0x3b12d4);};});}[_0x5c063a(0x25a)](_0x4c7517){const _0x285dd1=_0x5c063a;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws'][_0x285dd1(0x25a)](JSON['stringify'](_0x4c7517));}async['createRoom'](){const _0x32d128=_0x5c063a;this['isHost']=!![],this[_0x32d128(0x242)]=this[_0x32d128(0x26e)](),this[_0x32d128(0x276)](_0x32d128(0x24c),'Connecting...');try{await this[_0x32d128(0x291)](),this['send']({'type':'create-room','roomId':this['roomId']});}catch(_0x19d0c2){this['showSystemMessage'](_0x32d128(0x2a0)),this['updateStatus']('disconnected',_0x32d128(0x21c));}}async[_0x5c063a(0x281)](){const _0x49e8e8=_0x5c063a,_0x1c45b0=this[_0x49e8e8(0x240)]?.['value'][_0x49e8e8(0x201)]()['toUpperCase']();if(!_0x1c45b0||_0x1c45b0['length']<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this['isHost']=![],this['roomId']=_0x1c45b0,this[_0x49e8e8(0x276)](_0x49e8e8(0x24c),'Joining...');try{await this[_0x49e8e8(0x291)](),this[_0x49e8e8(0x25a)]({'type':'join-room','roomId':this['roomId']});}catch(_0x19cb8f){this['showSystemMessage'](_0x49e8e8(0x2a0)),this['updateStatus']('disconnected','Connection\x20failed');}}async['handleSignalingMessage'](_0xdff12e){const _0x545a54=_0x5c063a;switch(_0xdff12e['type']){case'room-created':this[_0x545a54(0x26a)](),this[_0x545a54(0x276)](_0x545a54(0x24c),'Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage'](_0x545a54(0x210)),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case'peer-joined':this[_0x545a54(0x264)](_0x545a54(0x20d)),this['updateStatus'](_0x545a54(0x24c),_0x545a54(0x246)),await this['initializeWebRTC']();this['isHost']&&await this[_0x545a54(0x207)]();break;case'peer-left':this[_0x545a54(0x264)](_0x545a54(0x233)),this[_0x545a54(0x276)](_0x545a54(0x247),_0x545a54(0x202)),this[_0x545a54(0x239)]();break;case _0x545a54(0x234):await this['handleOffer'](_0xdff12e);break;case _0x545a54(0x25b):await this[_0x545a54(0x22d)](_0xdff12e);break;case _0x545a54(0x25e):await this['handleIceCandidate'](_0xdff12e);break;case'error':this['showSystemMessage'](_0x545a54(0x1f2)+_0xdff12e[_0x545a54(0x21e)]),this['updateStatus']('disconnected','Error'),console[_0x545a54(0x23b)](_0x545a54(0x243),_0xdff12e[_0x545a54(0x21e)]);break;}}async[_0x5c063a(0x206)](){const _0x162f1c=_0x5c063a,_0x566458=[{'urls':_0x162f1c(0x24f)},{'urls':'stun:stun1.l.google.com:19302'}];let _0x3e554c=_0x566458;try{const _0x27a688=await fetch(_0x162f1c(0x289)),_0x2f9420=await _0x27a688['json']();Array['isArray'](_0x2f9420)&&_0x2f9420['length']>0x0?(_0x3e554c=_0x2f9420,console['log'](_0x162f1c(0x20e))):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x1e2a35){console[_0x162f1c(0x279)](_0x162f1c(0x235));}const _0x42608c={'iceServers':_0x3e554c};this[_0x162f1c(0x271)]=new RTCPeerConnection(_0x42608c),this['peerConnection']['onicecandidate']=_0x12f3f6=>{const _0x37a098=_0x162f1c;_0x12f3f6['candidate']&&this[_0x37a098(0x25a)]({'type':'ice-candidate','roomId':this[_0x37a098(0x242)],'candidate':_0x12f3f6['candidate']});},this['peerConnection'][_0x162f1c(0x27f)]=()=>{const _0x3a6065=_0x162f1c,_0x30c422=this['peerConnection'][_0x3a6065(0x22e)];console['log']('Q-Chat:\x20Connection\x20state:',_0x30c422);if(_0x30c422===_0x3a6065(0x26c))this[_0x3a6065(0x276)](_0x3a6065(0x26c),_0x3a6065(0x21f)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x30c422===_0x3a6065(0x247)||_0x30c422===_0x3a6065(0x1fd))&&(this['updateStatus']('disconnected',_0x3a6065(0x222)),this['disableChat']());},this['isHost']?(this[_0x162f1c(0x296)]=this['peerConnection'][_0x162f1c(0x209)](_0x162f1c(0x218),{'ordered':!![]}),this[_0x162f1c(0x277)]()):this[_0x162f1c(0x271)]['ondatachannel']=_0xe53032=>{const _0x2bbe05=_0x162f1c;this['dataChannel']=_0xe53032['channel'],this[_0x2bbe05(0x277)]();};}[_0x5c063a(0x277)](){const _0x4d9d75=_0x5c063a;this['dataChannel'][_0x4d9d75(0x28d)]=()=>{const _0xdfb6cb=_0x4d9d75;console['log'](_0xdfb6cb(0x1f1)),this['isConnected']=!![],this[_0xdfb6cb(0x226)](),this['showChatUI']();},this['dataChannel'][_0x4d9d75(0x283)]=()=>{const _0x3330e0=_0x4d9d75;console[_0x3330e0(0x279)]('Q-Chat:\x20Data\x20channel\x20closed'),this['isConnected']=![],this[_0x3330e0(0x239)]();},this[_0x4d9d75(0x296)]['onmessage']=_0x3ceffd=>{const _0x289ec4=_0x4d9d75,_0x209fd7=JSON['parse'](_0x3ceffd[_0x289ec4(0x24d)]);this['receiveMessage'](_0x209fd7);};}async[_0x5c063a(0x207)](){const _0xda30bf=_0x5c063a;try{const _0x1e3ef1=await this['peerConnection']['createOffer']();await this['peerConnection'][_0xda30bf(0x24e)](_0x1e3ef1),this[_0xda30bf(0x25a)]({'type':'offer','roomId':this['roomId'],'sdp':_0x1e3ef1[_0xda30bf(0x212)]});}catch(_0x5c0fc3){console['error']('Q-Chat:\x20Error\x20creating\x20offer:',_0x5c0fc3);}}async[_0x5c063a(0x27b)](_0x4fbf36){const _0x2f0998=_0x5c063a;try{await this['initializeWebRTC'](),await this[_0x2f0998(0x271)]['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x4fbf36[_0x2f0998(0x212)]}));const _0x42f81f=await this[_0x2f0998(0x271)][_0x2f0998(0x21d)]();await this[_0x2f0998(0x271)]['setLocalDescription'](_0x42f81f),this[_0x2f0998(0x25a)]({'type':_0x2f0998(0x25b),'roomId':this['roomId'],'sdp':_0x42f81f['sdp']});}catch(_0x30692b){console['error']('Q-Chat:\x20Error\x20handling\x20offer:',_0x30692b);}}async['handleAnswer'](_0x38a1ff){const _0x55064b=_0x5c063a;try{await this[_0x55064b(0x271)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x55064b(0x25b),'sdp':_0x38a1ff['sdp']}));}catch(_0x344c7b){console[_0x55064b(0x23b)]('Q-Chat:\x20Error\x20handling\x20answer:',_0x344c7b);}}async['handleIceCandidate'](_0x46ac0e){const _0x488418=_0x5c063a;try{_0x46ac0e[_0x488418(0x29a)]&&await this[_0x488418(0x271)][_0x488418(0x23c)](new RTCIceCandidate(_0x46ac0e[_0x488418(0x29a)]));}catch(_0x36a16b){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x36a16b);}}['showRoomInfo'](){const _0x22568d=_0x5c063a;if(this[_0x22568d(0x28f)])this[_0x22568d(0x28f)]['style']['display']=_0x22568d(0x297);if(this[_0x22568d(0x205)])this[_0x22568d(0x205)][_0x22568d(0x241)]['display']=_0x22568d(0x280);this[_0x22568d(0x292)]();}[_0x5c063a(0x292)](){const _0x38d09a=_0x5c063a,_0x25a44b=document['getElementById']('matrixSphereContainer'),_0x33c780=document['getElementById'](_0x38d09a(0x29b)),_0x148808=document['getElementById'](_0x38d09a(0x248)),_0xa72cfa=document['getElementById']('qchatRoomCodeSection'),_0x56bdf8=document['getElementById'](_0x38d09a(0x223));if(!_0x33c780||!_0x25a44b){if(this[_0x38d09a(0x1fa)])this[_0x38d09a(0x1fa)]['textContent']=this[_0x38d09a(0x242)];return;}this[_0x38d09a(0x224)](_0x33c780);const _0x14ea0d=['Generating\x20Quantum\x20Tunnel...','Encrypting\x20Neural\x20Pathway...',_0x38d09a(0x227),'Finalizing\x20Quantum\x20Code...'];let _0x4c4782=0x0;const _0x4521e3=setInterval(()=>{const _0x40365e=_0x38d09a;_0x4c4782++,_0x4c4782<_0x14ea0d[_0x40365e(0x237)]&&_0x148808&&(_0x148808[_0x40365e(0x238)]=_0x14ea0d[_0x4c4782]);},0x258);setTimeout(()=>{const _0x3e6d55=_0x38d09a;clearInterval(_0x4521e3),_0x33c780['classList']['add'](_0x3e6d55(0x23a));if(_0x148808)_0x148808['style'][_0x3e6d55(0x29f)]='none';setTimeout(()=>{const _0x5e89ac=_0x3e6d55;_0x25a44b['style'][_0x5e89ac(0x29f)]='none';if(this['roomCodeEl'])this[_0x5e89ac(0x1fa)]['textContent']=this['roomId'];_0xa72cfa&&(_0xa72cfa['classList']['remove']('hidden'),_0xa72cfa['classList']['add'](_0x5e89ac(0x275))),_0x56bdf8&&_0x56bdf8[_0x5e89ac(0x254)][_0x5e89ac(0x213)]('hidden');},0x320);},0x9c4);}[_0x5c063a(0x224)](_0x1afc7e){const _0x2497e5=_0x5c063a;_0x1afc7e['innerHTML']='';const _0x1b5073=0x78,_0x3e89a2=0x3c;for(let _0xd11e81=0x0;_0xd11e81<_0x1b5073;_0xd11e81++){const _0x3438c3=document[_0x2497e5(0x294)](_0x2497e5(0x225));_0x3438c3[_0x2497e5(0x228)]=_0x2497e5(0x272),_0x3438c3[_0x2497e5(0x238)]=Math[_0x2497e5(0x22a)](Math[_0x2497e5(0x260)]()*0xa);const _0x24c44c=Math['acos'](0x1-0x2*(_0xd11e81+0.5)/_0x1b5073),_0x168535=Math['PI']*(0x1+Math['sqrt'](0x5))*_0xd11e81,_0x2513c4=_0x3e89a2*Math['sin'](_0x24c44c)*Math['cos'](_0x168535),_0x363e04=_0x3e89a2*Math['sin'](_0x24c44c)*Math['sin'](_0x168535),_0xf4cd28=_0x3e89a2*Math['cos'](_0x24c44c);_0x3438c3['style'][_0x2497e5(0x24b)]='translate3d('+_0x2513c4+_0x2497e5(0x26b)+_0x363e04+_0x2497e5(0x26b)+_0xf4cd28+_0x2497e5(0x208),_0x3438c3[_0x2497e5(0x241)]['left']=_0x2497e5(0x22f),_0x3438c3['style']['top']=_0x2497e5(0x22f),_0x3438c3['style'][_0x2497e5(0x263)]=_0x2497e5(0x1ff),_0x3438c3['style'][_0x2497e5(0x27c)]=_0x2497e5(0x220),_0x3438c3['style'][_0x2497e5(0x27a)]=Math[_0x2497e5(0x260)]()*0.5+'s';const _0x3b43c3=0.4+(_0xf4cd28+_0x3e89a2)/(0x2*_0x3e89a2)*0.6;_0x3438c3['style']['opacity']=_0x3b43c3,_0x1afc7e['appendChild'](_0x3438c3);}this[_0x2497e5(0x1fb)]=setInterval(()=>{const _0x76fe51=_0x2497e5,_0x58be1d=_0x1afc7e['querySelectorAll']('.matrix-digit'),_0x216d50=_0x58be1d[Math[_0x76fe51(0x22a)](Math['random']()*_0x58be1d[_0x76fe51(0x237)])];_0x216d50&&(_0x216d50[_0x76fe51(0x238)]=Math[_0x76fe51(0x22a)](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x4c784a=_0x2497e5;this[_0x4c784a(0x1fb)]&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0x1b6c08=_0x5c063a;if(this['connectSection'])this['connectSection'][_0x1b6c08(0x241)][_0x1b6c08(0x29f)]='none';if(this[_0x1b6c08(0x205)])this['roomInfoSection']['style'][_0x1b6c08(0x29f)]=_0x1b6c08(0x297);if(this[_0x1b6c08(0x217)])this['messagesSection']['style']['display']=_0x1b6c08(0x295);if(this[_0x1b6c08(0x25d)])this['inputSection'][_0x1b6c08(0x241)][_0x1b6c08(0x29f)]='block';}['enableChat'](){const _0x1877c9=_0x5c063a;this[_0x1877c9(0x2a1)]&&(this['messageInput']['disabled']=![],this['messageInput']['focus']());if(this[_0x1877c9(0x23e)])this[_0x1877c9(0x23e)]['disabled']=![];}['disableChat'](){const _0x17ef08=_0x5c063a;if(this['messageInput'])this['messageInput']['disabled']=!![];if(this[_0x17ef08(0x23e)])this[_0x17ef08(0x23e)]['disabled']=!![];}['sendMessage'](){const _0x385f5c=_0x5c063a,_0x5043ee=this[_0x385f5c(0x2a1)]?.[_0x385f5c(0x245)][_0x385f5c(0x201)]();if(!_0x5043ee||!this[_0x385f5c(0x229)])return;const _0xb0ea50={'type':_0x385f5c(0x21e),'text':_0x5043ee,'timestamp':Date['now']()};try{this[_0x385f5c(0x296)]['send'](JSON['stringify'](_0xb0ea50)),this[_0x385f5c(0x255)](_0x5043ee,'sent',_0xb0ea50[_0x385f5c(0x266)]),this['messageInput'][_0x385f5c(0x245)]='';}catch(_0x490b4e){console['error'](_0x385f5c(0x214),_0x490b4e),this[_0x385f5c(0x264)](_0x385f5c(0x2a2));}}[_0x5c063a(0x262)](_0x435144){const _0x1202c7=_0x5c063a;_0x435144['type']===_0x1202c7(0x21e)&&(this[_0x1202c7(0x255)](_0x435144[_0x1202c7(0x23d)],'received',_0x435144[_0x1202c7(0x266)]),!this[_0x1202c7(0x28b)]&&(this[_0x1202c7(0x219)]++,this['updateBadge']()));}[_0x5c063a(0x255)](_0x1c461a,_0x1936ff,_0x3cda71){const _0x34fefe=_0x5c063a,_0x253f4e=document['createElement']('div');_0x253f4e['className']='qchat-message\x20'+_0x1936ff;const _0x1d4445=new Date(_0x3cda71)['toLocaleTimeString']([],{'hour':'2-digit','minute':'2-digit'});_0x253f4e[_0x34fefe(0x261)]=_0x34fefe(0x259)+this['escapeHtml'](_0x1c461a)+_0x34fefe(0x250)+(_0x1936ff==='sent'?'âœ“\x20':'')+_0x1d4445+_0x34fefe(0x267),this[_0x34fefe(0x22b)]?.['appendChild'](_0x253f4e),this[_0x34fefe(0x23f)]();}[_0x5c063a(0x264)](_0x141378){const _0x408528=_0x5c063a,_0x3e3e29=document['createElement'](_0x408528(0x293));_0x3e3e29[_0x408528(0x228)]=_0x408528(0x20b),_0x3e3e29[_0x408528(0x238)]=_0x141378,this['messagesList']?.[_0x408528(0x1fc)](_0x3e3e29),this['scrollToBottom']();}[_0x5c063a(0x23f)](){const _0x3e7091=_0x5c063a;this['messagesSection']&&(this['messagesSection']['scrollTop']=this['messagesSection'][_0x3e7091(0x28e)]);}['updateStatus'](_0x3e0a02,_0x442348){const _0x4406c0=_0x5c063a;if(this['statusEl']){this[_0x4406c0(0x26d)][_0x4406c0(0x228)]=_0x4406c0(0x204)+_0x3e0a02;const _0x230743=this[_0x4406c0(0x26d)]['querySelector']('.status-text');if(_0x230743)_0x230743['textContent']=_0x442348;}}['updateBadge'](){const _0x322ae4=_0x5c063a;this['badge']&&(this[_0x322ae4(0x219)]>0x0?(this['badge']['textContent']=this['unreadCount']>0x63?'99+':this[_0x322ae4(0x219)],this['badge']['style'][_0x322ae4(0x29f)]='flex'):this[_0x322ae4(0x2a3)]['style']['display']='none');}['clearUnread'](){const _0x3abf62=_0x5c063a;this[_0x3abf62(0x219)]=0x0,this['updateBadge']();}['copyRoomCode'](){const _0x5e317b=_0x5c063a;this['roomId']&&navigator['clipboard'][_0x5e317b(0x24a)](this['roomId'])[_0x5e317b(0x236)](()=>{const _0x2d51db=_0x5e317b;this[_0x2d51db(0x264)]('Room\x20code\x20copied!');})[_0x5e317b(0x211)](()=>{const _0x208f44=_0x5e317b,_0x23cfba=document[_0x208f44(0x294)]('textarea');_0x23cfba['value']=this[_0x208f44(0x242)],document['body'][_0x208f44(0x1fc)](_0x23cfba),_0x23cfba[_0x208f44(0x1f8)](),document[_0x208f44(0x1f5)](_0x208f44(0x299)),document[_0x208f44(0x257)]['removeChild'](_0x23cfba),this[_0x208f44(0x264)]('Room\x20code\x20copied!');});}[_0x5c063a(0x274)](){const _0x596029=_0x5c063a;this['isConnected']=![],this['updateStatus']('disconnected',_0x596029(0x222)),this['disableChat']();}['escapeHtml'](_0x3b6a91){const _0x5af40b=_0x5c063a,_0x3d6095=document[_0x5af40b(0x294)](_0x5af40b(0x293));return _0x3d6095[_0x5af40b(0x238)]=_0x3b6a91,_0x3d6095['innerHTML'];}}document['addEventListener']('DOMContentLoaded',()=>{window['qChat']=new QChat();});