const _0xf55447=_0x55e9;function _0x2ede(){const _0x1fc137=['isConnected','error','qchatJoin','fade-out','qchat','copyRoomCode','qchatStatus','updateBadge','digitChangeInterval','99+','createAnswer','sendBtn','handleDisconnect','.status-text','qchat-system-message','addMessage','.matrix-digit','setupDataChannel','qchatCopyCode','offer','showChatUI','key','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','initializeWebRTC','Joined\x20room!\x20Waiting\x20for\x20host...','8606QORvMZ','sdp','statusEl','11mXfepe','stringify','scrollToBottom','Error:\x20','closePanel','top','Enter','addEventListener','active','createOffer','322330VaayMc','startMatrixSphereAnimation','getElementById','remove','value','random','floor','Peer\x20left','1670ACwylM','qchat-status\x20','matrixSphere','textarea','roomInput','createBtn','answer','innerHTML','Room\x20code\x20copied!','copyCodeBtn','sendMessage','createElement','protocol','left','json','connectToServer','body','matrixSphereContainer','px,\x20','data','261fENApT','-10px','none','roomInfoSection','connectSection','then','Q-Chat:\x20Connecting\x20to:','classList','Failed\x20to\x20connect\x20to\x20server','setRemoteDescription','connected','joinBtn','shiftKey','target','add','charAt','setLocalDescription','parse','onopen','8gCpYug','onerror','onmessage','qchatMessageInput','create-room','text','isHost','handleAnswer','9126GCXwAs','failed','roomCodeEl','qchatPanel','initElements','qchatToggle','display','cos','now','timestamp','Connecting...','Failed\x20to\x20send\x20message','showSystemMessage','candidate','qChat','messagesList','block','dataChannel','div','style','disabled','flex','copy','Q-Chat\x20Server\x20Error:','textContent','5145Mwjcib','acos','unreadCount','send','Error','peerConnection','92733cIJdoV','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','7525212DiwfUS','appendChild','closeBtn','panel','ondatachannel','onclose','roomId','keypress','qchatBadge','message','sin','select','Q-Chat:\x20WebSocket\x20error:','catch','getWebSocketUrl','reveal','ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)','Q-Chat:\x20Error\x20creating\x20offer:','messagesSection','createMatrixSphere','8MKgVKm','toLocaleTimeString','received','isPanelOpen','room-joined','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','865650xKwpmE','createRoom','sent','qchatClose','disableChat','inputSection','36722CcWxvk','/api/turn-credentials','qchatInputSection','log','peer-joined','qchatConnect','bindEvents','updateStatus','className','type','badge','length','toUpperCase','connecting','8myEHII','qchatMessages','transform','connectionState','Disconnected','ws:','escapeHtml','disconnected','Connection\x20failed','Q-Chat:\x20WebSocket\x20connected','translate3d(','messageInput','Waiting\x20for\x20peer...','receiveMessage','contains','hidden','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','qchatRoomInfo','joinRoom','click','50%','showRoomInfo','open','clearUnread','createAndSendOffer'];_0x2ede=function(){return _0x1fc137;};return _0x2ede();}(function(_0x14d3e5,_0x3a108a){const _0x5469b5=_0x55e9,_0x2ab1b4=_0x14d3e5();while(!![]){try{const _0x3459ec=parseInt(_0x5469b5(0xdf))/0x1*(parseInt(_0x5469b5(0xb8))/0x2)+parseInt(_0x5469b5(0xfb))/0x3*(-parseInt(_0x5469b5(0xf5))/0x4)+parseInt(_0x5469b5(0x91))/0x5*(parseInt(_0x5469b5(0xc0))/0x6)+-parseInt(_0x5469b5(0xd9))/0x7*(parseInt(_0x5469b5(0x10f))/0x8)+-parseInt(_0x5469b5(0xa5))/0x9*(parseInt(_0x5469b5(0x14e))/0xa)+parseInt(_0x5469b5(0x144))/0xb*(-parseInt(_0x5469b5(0xe1))/0xc)+-parseInt(_0x5469b5(0x141))/0xd*(-parseInt(_0x5469b5(0x101))/0xe);if(_0x3459ec===_0x3a108a)break;else _0x2ab1b4['push'](_0x2ab1b4['shift']());}catch(_0x9686f9){_0x2ab1b4['push'](_0x2ab1b4['shift']());}}}(_0x2ede,0x7421f));class QChat{constructor(){const _0x1fff68=_0x55e9;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this[_0x1fff68(0xe7)]=null,this[_0x1fff68(0xbe)]=![],this[_0x1fff68(0x128)]=![],this[_0x1fff68(0xdb)]=0x0,this[_0x1fff68(0xf8)]=![],this[_0x1fff68(0xc4)](),this[_0x1fff68(0x107)]();}['initElements'](){const _0x150883=_0x55e9;this['panel']=document['getElementById'](_0x150883(0xc3)),this['toggleBtn']=document[_0x150883(0x8b)](_0x150883(0xc5)),this[_0x150883(0xe3)]=document['getElementById'](_0x150883(0xfe)),this['badge']=document[_0x150883(0x8b)](_0x150883(0xe9)),this[_0x150883(0xa9)]=document['getElementById'](_0x150883(0x106)),this['roomInfoSection']=document['getElementById'](_0x150883(0x120)),this[_0x150883(0xf3)]=document[_0x150883(0x8b)](_0x150883(0x110)),this[_0x150883(0x100)]=document[_0x150883(0x8b)](_0x150883(0x103)),this['statusEl']=document['getElementById'](_0x150883(0x12e)),this[_0x150883(0xc2)]=document[_0x150883(0x8b)]('qchatRoomCode'),this[_0x150883(0x96)]=document[_0x150883(0x8b)]('qchatCreate'),this['joinBtn']=document['getElementById'](_0x150883(0x12a)),this[_0x150883(0x9a)]=document[_0x150883(0x8b)](_0x150883(0x13a)),this['sendBtn']=document[_0x150883(0x8b)]('qchatSendBtn'),this[_0x150883(0x95)]=document['getElementById']('qchatRoomInput'),this[_0x150883(0x11a)]=document['getElementById'](_0x150883(0xbb)),this[_0x150883(0xcf)]=document[_0x150883(0x8b)]('qchatMessagesList');}[_0xf55447(0x107)](){const _0x27f79e=_0xf55447;this['toggleBtn']?.['addEventListener'](_0x27f79e(0x122),()=>this['togglePanel']()),this[_0x27f79e(0xe3)]?.[_0x27f79e(0x14b)](_0x27f79e(0x122),()=>this[_0x27f79e(0x148)]()),this[_0x27f79e(0x96)]?.['addEventListener']('click',()=>this['createRoom']()),this[_0x27f79e(0xb0)]?.['addEventListener'](_0x27f79e(0x122),()=>this[_0x27f79e(0x121)]()),this[_0x27f79e(0x95)]?.[_0x27f79e(0x14b)]('keypress',_0x5bcb3c=>{const _0x4909f7=_0x27f79e;if(_0x5bcb3c[_0x4909f7(0x13d)]===_0x4909f7(0x14a))this[_0x4909f7(0x121)]();}),this['copyCodeBtn']?.['addEventListener']('click',()=>this[_0x27f79e(0x12d)]()),this[_0x27f79e(0x133)]?.['addEventListener']('click',()=>this['sendMessage']()),this[_0x27f79e(0x11a)]?.['addEventListener'](_0x27f79e(0xe8),_0x5a14fb=>{const _0x4eee9d=_0x27f79e;_0x5a14fb[_0x4eee9d(0x13d)]==='Enter'&&!_0x5a14fb[_0x4eee9d(0xb1)]&&(_0x5a14fb['preventDefault'](),this['sendMessage']());}),document['addEventListener']('click',_0x2d7724=>{const _0x511b10=_0x27f79e;this['isPanelOpen']&&!this['panel']?.['contains'](_0x2d7724['target'])&&!this['toggleBtn']?.[_0x511b10(0x11d)](_0x2d7724[_0x511b10(0xb2)])&&this[_0x511b10(0x148)]();});}['togglePanel'](){const _0x256349=_0xf55447;this[_0x256349(0xf8)]?this[_0x256349(0x148)]():this['openPanel']();}['openPanel'](){const _0x2635d4=_0xf55447;this[_0x2635d4(0xe4)]?.[_0x2635d4(0xac)]['add'](_0x2635d4(0x125)),this['toggleBtn']?.['classList'][_0x2635d4(0xb3)](_0x2635d4(0x14c)),this['isPanelOpen']=!![],this[_0x2635d4(0x126)]();}['closePanel'](){const _0x174c5d=_0xf55447;this[_0x174c5d(0xe4)]?.['classList'][_0x174c5d(0x8c)]('open'),this['toggleBtn']?.['classList']['remove'](_0x174c5d(0x14c)),this['isPanelOpen']=![];}['generateRoomId'](){const _0x511ae9=_0xf55447,_0x21d8d6='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x433729='';for(let _0x3f1042=0x0;_0x3f1042<0x6;_0x3f1042++){_0x433729+=_0x21d8d6[_0x511ae9(0xb4)](Math['floor'](Math[_0x511ae9(0x8e)]()*_0x21d8d6[_0x511ae9(0x10c)]));}return _0x433729;}['getWebSocketUrl'](){const _0x57b264=_0xf55447,_0x243a85=window['location'][_0x57b264(0x9d)]==='https:'?'wss:':_0x57b264(0x114);return _0x243a85+'//'+window['location']['host']+'/ws';}async[_0xf55447(0xa0)](){return new Promise((_0x192ddd,_0x37a27c)=>{const _0x455e89=_0x55e9,_0xe28e6b=this[_0x455e89(0xef)]();console[_0x455e89(0x104)](_0x455e89(0xab),_0xe28e6b),this['ws']=new WebSocket(_0xe28e6b),this['ws'][_0x455e89(0xb7)]=()=>{const _0xa963a8=_0x455e89;console['log'](_0xa963a8(0x118)),_0x192ddd();},this['ws'][_0x455e89(0xb9)]=_0xd537a9=>{const _0x45eb1a=_0x455e89;console['error'](_0x45eb1a(0xed),_0xd537a9),_0x37a27c(_0xd537a9);},this['ws'][_0x455e89(0xe6)]=()=>{const _0x2ecd6c=_0x455e89;console[_0x2ecd6c(0x104)]('Q-Chat:\x20WebSocket\x20closed'),this[_0x2ecd6c(0x134)]();},this['ws'][_0x455e89(0xba)]=_0x5e5e56=>{const _0x1b3896=_0x455e89,_0x1b8904=JSON[_0x1b3896(0xb6)](_0x5e5e56['data']);this['handleSignalingMessage'](_0x1b8904);};});}['send'](_0x49f6a1){const _0x5caa35=_0xf55447;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws'][_0x5caa35(0xdc)](JSON['stringify'](_0x49f6a1));}async[_0xf55447(0xfc)](){const _0x82454e=_0xf55447;this[_0x82454e(0xbe)]=!![],this['roomId']=this['generateRoomId'](),this[_0x82454e(0x108)]('connecting',_0x82454e(0xca));try{await this[_0x82454e(0xa0)](),this['send']({'type':_0x82454e(0xbc),'roomId':this['roomId']});}catch(_0x5e0772){this['showSystemMessage'](_0x82454e(0xad)),this['updateStatus']('disconnected',_0x82454e(0x117));}}async[_0xf55447(0x121)](){const _0x4dafa4=_0xf55447,_0x5d2364=this['roomInput']?.[_0x4dafa4(0x8d)]['trim']()[_0x4dafa4(0x10d)]();if(!_0x5d2364||_0x5d2364[_0x4dafa4(0x10c)]<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this[_0x4dafa4(0xbe)]=![],this[_0x4dafa4(0xe7)]=_0x5d2364,this[_0x4dafa4(0x108)](_0x4dafa4(0x10e),'Joining...');try{await this['connectToServer'](),this[_0x4dafa4(0xdc)]({'type':'join-room','roomId':this['roomId']});}catch(_0x528629){this['showSystemMessage'](_0x4dafa4(0xad)),this[_0x4dafa4(0x108)](_0x4dafa4(0x116),'Connection\x20failed');}}async['handleSignalingMessage'](_0x29e5eb){const _0xed5c00=_0xf55447;switch(_0x29e5eb[_0xed5c00(0x10a)]){case'room-created':this[_0xed5c00(0x124)](),this[_0xed5c00(0x108)](_0xed5c00(0x10e),_0xed5c00(0x11b));break;case _0xed5c00(0xf9):this[_0xed5c00(0xcc)](_0xed5c00(0x140)),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case _0xed5c00(0x105):this['showSystemMessage'](_0xed5c00(0xfa)),this[_0xed5c00(0x108)]('connecting','Establishing\x20P2P...'),await this['initializeWebRTC']();this['isHost']&&await this['createAndSendOffer']();break;case'peer-left':this[_0xed5c00(0xcc)]('Peer\x20disconnected'),this['updateStatus'](_0xed5c00(0x116),_0xed5c00(0x90)),this['disableChat']();break;case _0xed5c00(0x13b):await this['handleOffer'](_0x29e5eb);break;case'answer':await this[_0xed5c00(0xbf)](_0x29e5eb);break;case'ice-candidate':await this['handleIceCandidate'](_0x29e5eb);break;case _0xed5c00(0x129):this[_0xed5c00(0xcc)](_0xed5c00(0x147)+_0x29e5eb['message']),this['updateStatus'](_0xed5c00(0x116),_0xed5c00(0xdd)),console['error'](_0xed5c00(0xd7),_0x29e5eb[_0xed5c00(0xea)]);break;}}async[_0xf55447(0x13f)](){const _0x41fc27=_0xf55447,_0x4bf33b=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x246085=_0x4bf33b;try{const _0xf09da9=await fetch(_0x41fc27(0x102)),_0x3b7133=await _0xf09da9[_0x41fc27(0x9f)]();Array['isArray'](_0x3b7133)&&_0x3b7133['length']>0x0?(_0x246085=_0x3b7133,console['log']('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x4c5b0e){console['log'](_0x41fc27(0x11f));}const _0x39dc6a={'iceServers':_0x246085};this['peerConnection']=new RTCPeerConnection(_0x39dc6a),this[_0x41fc27(0xde)]['onicecandidate']=_0x3e9aa5=>{const _0xe30c40=_0x41fc27;_0x3e9aa5['candidate']&&this[_0xe30c40(0xdc)]({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x3e9aa5[_0xe30c40(0xcd)]});},this[_0x41fc27(0xde)]['onconnectionstatechange']=()=>{const _0x241ec6=_0x41fc27,_0x50a5c2=this[_0x241ec6(0xde)][_0x241ec6(0x112)];console['log']('Q-Chat:\x20Connection\x20state:',_0x50a5c2);if(_0x50a5c2===_0x241ec6(0xaf))this['updateStatus']('connected','Secure\x20P2P'),this[_0x241ec6(0xcc)](_0x241ec6(0xf1));else(_0x50a5c2===_0x241ec6(0x116)||_0x50a5c2===_0x241ec6(0xc1))&&(this['updateStatus']('disconnected','Disconnected'),this['disableChat']());},this['isHost']?(this[_0x41fc27(0xd1)]=this[_0x41fc27(0xde)]['createDataChannel'](_0x41fc27(0x12c),{'ordered':!![]}),this['setupDataChannel']()):this['peerConnection'][_0x41fc27(0xe5)]=_0x1dbbae=>{const _0x262877=_0x41fc27;this['dataChannel']=_0x1dbbae['channel'],this[_0x262877(0x139)]();};}[_0xf55447(0x139)](){const _0x28de42=_0xf55447;this['dataChannel'][_0x28de42(0xb7)]=()=>{const _0x29b97f=_0x28de42;console[_0x29b97f(0x104)]('Q-Chat:\x20Data\x20channel\x20open'),this['isConnected']=!![],this['enableChat'](),this['showChatUI']();},this[_0x28de42(0xd1)]['onclose']=()=>{const _0x393780=_0x28de42;console['log']('Q-Chat:\x20Data\x20channel\x20closed'),this[_0x393780(0x128)]=![],this[_0x393780(0xff)]();},this[_0x28de42(0xd1)]['onmessage']=_0x180d10=>{const _0x55d138=_0x28de42,_0x560e81=JSON[_0x55d138(0xb6)](_0x180d10[_0x55d138(0xa4)]);this['receiveMessage'](_0x560e81);};}async[_0xf55447(0x127)](){const _0x97adbb=_0xf55447;try{const _0x38ddd5=await this[_0x97adbb(0xde)][_0x97adbb(0x14d)]();await this[_0x97adbb(0xde)][_0x97adbb(0xb5)](_0x38ddd5),this[_0x97adbb(0xdc)]({'type':_0x97adbb(0x13b),'roomId':this[_0x97adbb(0xe7)],'sdp':_0x38ddd5['sdp']});}catch(_0x92dbaa){console[_0x97adbb(0x129)](_0x97adbb(0xf2),_0x92dbaa);}}async['handleOffer'](_0x3ce781){const _0x1e20cd=_0xf55447;try{await this[_0x1e20cd(0x13f)](),await this['peerConnection'][_0x1e20cd(0xae)](new RTCSessionDescription({'type':_0x1e20cd(0x13b),'sdp':_0x3ce781[_0x1e20cd(0x142)]}));const _0x225697=await this[_0x1e20cd(0xde)][_0x1e20cd(0x132)]();await this[_0x1e20cd(0xde)][_0x1e20cd(0xb5)](_0x225697),this[_0x1e20cd(0xdc)]({'type':_0x1e20cd(0x97),'roomId':this['roomId'],'sdp':_0x225697[_0x1e20cd(0x142)]});}catch(_0xf49a1f){console[_0x1e20cd(0x129)]('Q-Chat:\x20Error\x20handling\x20offer:',_0xf49a1f);}}async[_0xf55447(0xbf)](_0xe0f7c6){const _0x3fd11c=_0xf55447;try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x3fd11c(0x97),'sdp':_0xe0f7c6[_0x3fd11c(0x142)]}));}catch(_0x51ec82){console['error']('Q-Chat:\x20Error\x20handling\x20answer:',_0x51ec82);}}async['handleIceCandidate'](_0x2358c){const _0x22cb02=_0xf55447;try{_0x2358c[_0x22cb02(0xcd)]&&await this[_0x22cb02(0xde)]['addIceCandidate'](new RTCIceCandidate(_0x2358c['candidate']));}catch(_0x4ddd6b){console[_0x22cb02(0x129)](_0x22cb02(0xe0),_0x4ddd6b);}}[_0xf55447(0x124)](){const _0x2193c0=_0xf55447;if(this['connectSection'])this['connectSection'][_0x2193c0(0xd3)]['display']='none';if(this['roomInfoSection'])this[_0x2193c0(0xa8)]['style'][_0x2193c0(0xc6)]=_0x2193c0(0xd0);this[_0x2193c0(0x14f)]();}['startMatrixSphereAnimation'](){const _0x52a151=_0xf55447,_0x2d7aa0=document[_0x52a151(0x8b)](_0x52a151(0xa2)),_0x2f4014=document['getElementById'](_0x52a151(0x93)),_0x3e7b15=document['getElementById']('matrixSphereStatus'),_0x1db8c6=document[_0x52a151(0x8b)]('qchatRoomCodeSection'),_0x3da66a=document['getElementById']('qchatWaiting');if(!_0x2f4014||!_0x2d7aa0){if(this['roomCodeEl'])this[_0x52a151(0xc2)][_0x52a151(0xd8)]=this[_0x52a151(0xe7)];return;}this['createMatrixSphere'](_0x2f4014);const _0x15fac0=['Generating\x20Quantum\x20Tunnel...','Encrypting\x20Neural\x20Pathway...','Establishing\x20Secure\x20Link...','Finalizing\x20Quantum\x20Code...'];let _0x13700f=0x0;const _0x375914=setInterval(()=>{const _0xd20dac=_0x52a151;_0x13700f++,_0x13700f<_0x15fac0['length']&&_0x3e7b15&&(_0x3e7b15[_0xd20dac(0xd8)]=_0x15fac0[_0x13700f]);},0x258);setTimeout(()=>{const _0x39bb7e=_0x52a151;clearInterval(_0x375914),_0x2f4014[_0x39bb7e(0xac)]['add'](_0x39bb7e(0x12b));if(_0x3e7b15)_0x3e7b15['style']['display']=_0x39bb7e(0xa7);setTimeout(()=>{const _0x3e1dba=_0x39bb7e;_0x2d7aa0[_0x3e1dba(0xd3)]['display']='none';if(this['roomCodeEl'])this['roomCodeEl']['textContent']=this['roomId'];_0x1db8c6&&(_0x1db8c6[_0x3e1dba(0xac)]['remove'](_0x3e1dba(0x11e)),_0x1db8c6[_0x3e1dba(0xac)]['add'](_0x3e1dba(0xf0))),_0x3da66a&&_0x3da66a['classList']['remove']('hidden');},0x320);},0x9c4);}[_0xf55447(0xf4)](_0x375d6d){const _0x45c641=_0xf55447;_0x375d6d[_0x45c641(0x98)]='';const _0x27ef07=0x78,_0x4fe60d=0x3c;for(let _0x5e9fa4=0x0;_0x5e9fa4<_0x27ef07;_0x5e9fa4++){const _0x4e47b2=document[_0x45c641(0x9c)]('span');_0x4e47b2[_0x45c641(0x109)]='matrix-digit',_0x4e47b2['textContent']=Math['floor'](Math[_0x45c641(0x8e)]()*0xa);const _0x5dda6b=Math[_0x45c641(0xda)](0x1-0x2*(_0x5e9fa4+0.5)/_0x27ef07),_0xa1da4b=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x5e9fa4,_0x3ff729=_0x4fe60d*Math[_0x45c641(0xeb)](_0x5dda6b)*Math[_0x45c641(0xc7)](_0xa1da4b),_0x28edf9=_0x4fe60d*Math['sin'](_0x5dda6b)*Math['sin'](_0xa1da4b),_0x3c113c=_0x4fe60d*Math[_0x45c641(0xc7)](_0x5dda6b);_0x4e47b2['style'][_0x45c641(0x111)]=_0x45c641(0x119)+_0x3ff729+'px,\x20'+_0x28edf9+_0x45c641(0xa3)+_0x3c113c+'px)',_0x4e47b2['style'][_0x45c641(0x9e)]=_0x45c641(0x123),_0x4e47b2[_0x45c641(0xd3)][_0x45c641(0x149)]=_0x45c641(0x123),_0x4e47b2['style']['marginLeft']='-7px',_0x4e47b2['style']['marginTop']=_0x45c641(0xa6),_0x4e47b2['style']['animationDelay']=Math['random']()*0.5+'s';const _0xd47a21=0.4+(_0x3c113c+_0x4fe60d)/(0x2*_0x4fe60d)*0.6;_0x4e47b2[_0x45c641(0xd3)]['opacity']=_0xd47a21,_0x375d6d['appendChild'](_0x4e47b2);}this[_0x45c641(0x130)]=setInterval(()=>{const _0x357906=_0x45c641,_0x57b830=_0x375d6d['querySelectorAll'](_0x357906(0x138)),_0x3751e5=_0x57b830[Math['floor'](Math['random']()*_0x57b830['length'])];_0x3751e5&&(_0x3751e5[_0x357906(0xd8)]=Math[_0x357906(0x8f)](Math[_0x357906(0x8e)]()*0xa));},0x32),setTimeout(()=>{const _0x1a6a88=_0x45c641;this[_0x1a6a88(0x130)]&&clearInterval(this[_0x1a6a88(0x130)]);},0xdac);}[_0xf55447(0x13c)](){const _0x1d53fd=_0xf55447;if(this[_0x1d53fd(0xa9)])this[_0x1d53fd(0xa9)]['style'][_0x1d53fd(0xc6)]='none';if(this['roomInfoSection'])this[_0x1d53fd(0xa8)]['style'][_0x1d53fd(0xc6)]=_0x1d53fd(0xa7);if(this['messagesSection'])this[_0x1d53fd(0xf3)][_0x1d53fd(0xd3)]['display']=_0x1d53fd(0xd5);if(this['inputSection'])this[_0x1d53fd(0x100)]['style'][_0x1d53fd(0xc6)]='block';}['enableChat'](){const _0x231fa2=_0xf55447;this['messageInput']&&(this['messageInput'][_0x231fa2(0xd4)]=![],this[_0x231fa2(0x11a)]['focus']());if(this['sendBtn'])this[_0x231fa2(0x133)][_0x231fa2(0xd4)]=![];}[_0xf55447(0xff)](){const _0x51f1bf=_0xf55447;if(this['messageInput'])this[_0x51f1bf(0x11a)][_0x51f1bf(0xd4)]=!![];if(this[_0x51f1bf(0x133)])this['sendBtn'][_0x51f1bf(0xd4)]=!![];}[_0xf55447(0x9b)](){const _0x388498=_0xf55447,_0x43d3d3=this['messageInput']?.['value']['trim']();if(!_0x43d3d3||!this[_0x388498(0x128)])return;const _0x1d7991={'type':'message','text':_0x43d3d3,'timestamp':Date[_0x388498(0xc8)]()};try{this[_0x388498(0xd1)][_0x388498(0xdc)](JSON[_0x388498(0x145)](_0x1d7991)),this['addMessage'](_0x43d3d3,_0x388498(0xfd),_0x1d7991[_0x388498(0xc9)]),this[_0x388498(0x11a)]['value']='';}catch(_0x96ab5a){console[_0x388498(0x129)]('Q-Chat:\x20Error\x20sending\x20message:',_0x96ab5a),this['showSystemMessage'](_0x388498(0xcb));}}[_0xf55447(0x11c)](_0x4f2662){const _0x28b60a=_0xf55447;_0x4f2662['type']===_0x28b60a(0xea)&&(this[_0x28b60a(0x137)](_0x4f2662[_0x28b60a(0xbd)],_0x28b60a(0xf7),_0x4f2662['timestamp']),!this['isPanelOpen']&&(this['unreadCount']++,this[_0x28b60a(0x12f)]()));}[_0xf55447(0x137)](_0x5a835e,_0x1989a9,_0x11e8ba){const _0x2284d3=_0xf55447,_0x22ce6a=document[_0x2284d3(0x9c)](_0x2284d3(0xd2));_0x22ce6a[_0x2284d3(0x109)]='qchat-message\x20'+_0x1989a9;const _0x28c56e=new Date(_0x11e8ba)[_0x2284d3(0xf6)]([],{'hour':'2-digit','minute':'2-digit'});_0x22ce6a[_0x2284d3(0x98)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this[_0x2284d3(0x115)](_0x5a835e)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x1989a9==='sent'?'âœ“\x20':'')+_0x28c56e+_0x2284d3(0x13e),this[_0x2284d3(0xcf)]?.[_0x2284d3(0xe2)](_0x22ce6a),this['scrollToBottom']();}[_0xf55447(0xcc)](_0x182bd4){const _0x3773db=_0xf55447,_0x368137=document['createElement']('div');_0x368137['className']=_0x3773db(0x136),_0x368137[_0x3773db(0xd8)]=_0x182bd4,this['messagesList']?.[_0x3773db(0xe2)](_0x368137),this['scrollToBottom']();}[_0xf55447(0x146)](){const _0x2de8b9=_0xf55447;this[_0x2de8b9(0xf3)]&&(this['messagesSection']['scrollTop']=this[_0x2de8b9(0xf3)]['scrollHeight']);}[_0xf55447(0x108)](_0x108f42,_0x3e2aec){const _0x9823a8=_0xf55447;if(this['statusEl']){this[_0x9823a8(0x143)]['className']=_0x9823a8(0x92)+_0x108f42;const _0x37a302=this['statusEl']['querySelector'](_0x9823a8(0x135));if(_0x37a302)_0x37a302[_0x9823a8(0xd8)]=_0x3e2aec;}}[_0xf55447(0x12f)](){const _0x549c1a=_0xf55447;this['badge']&&(this[_0x549c1a(0xdb)]>0x0?(this['badge']['textContent']=this[_0x549c1a(0xdb)]>0x63?_0x549c1a(0x131):this[_0x549c1a(0xdb)],this[_0x549c1a(0x10b)]['style']['display']=_0x549c1a(0xd5)):this[_0x549c1a(0x10b)][_0x549c1a(0xd3)][_0x549c1a(0xc6)]=_0x549c1a(0xa7));}[_0xf55447(0x126)](){const _0x2289ff=_0xf55447;this[_0x2289ff(0xdb)]=0x0,this[_0x2289ff(0x12f)]();}[_0xf55447(0x12d)](){const _0x4dcf1=_0xf55447;this[_0x4dcf1(0xe7)]&&navigator['clipboard']['writeText'](this['roomId'])[_0x4dcf1(0xaa)](()=>{const _0x1ea891=_0x4dcf1;this[_0x1ea891(0xcc)](_0x1ea891(0x99));})[_0x4dcf1(0xee)](()=>{const _0x34ce34=_0x4dcf1,_0x191c6e=document['createElement'](_0x34ce34(0x94));_0x191c6e[_0x34ce34(0x8d)]=this[_0x34ce34(0xe7)],document[_0x34ce34(0xa1)][_0x34ce34(0xe2)](_0x191c6e),_0x191c6e[_0x34ce34(0xec)](),document['execCommand'](_0x34ce34(0xd6)),document['body']['removeChild'](_0x191c6e),this['showSystemMessage']('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x177691=_0xf55447;this['isConnected']=![],this['updateStatus'](_0x177691(0x116),_0x177691(0x113)),this['disableChat']();}[_0xf55447(0x115)](_0x258307){const _0x277527=_0xf55447,_0xda553f=document['createElement']('div');return _0xda553f['textContent']=_0x258307,_0xda553f[_0x277527(0x98)];}}function _0x55e9(_0x5b0932,_0x164a8c){_0x5b0932=_0x5b0932-0x8b;const _0x2ede83=_0x2ede();let _0x55e9c0=_0x2ede83[_0x5b0932];return _0x55e9c0;}document['addEventListener']('DOMContentLoaded',()=>{const _0xb1b233=_0xf55447;window[_0xb1b233(0xce)]=new QChat();});