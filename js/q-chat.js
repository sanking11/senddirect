const _0x63ff5e=_0x4f45;function _0x5b6c(){const _0xecbbec=['Enter','105iAZSzw','handleAnswer','174856gSyXZH','now','75774VgGcfZ','Q-Chat:\x20Offer\x20sent','Q-Chat:\x20WebSocket\x20connected','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal,\x20count:','10UaVNTH','toLocaleTimeString','clearUnread','qchatSendBtn','isConnected','scrollHeight','roomInfoSection','disableChat','Peer\x20left','value','urls','Q-Chat:\x20Creating\x20and\x20sending\x20offer...','active','setRemoteDescription','2237364zDIAYj','disconnected','timestamp','Q-Chat:\x20Received\x20message:','qchatRoomInfo','Q-Chat\x20Server\x20Error:','Q-Chat:\x20Connection\x20state:','closePanel','Q-Chat:\x20Error\x20handling\x20answer:','qchat-message\x20','message','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','initElements','matrixSphereContainer','joinBtn','togglePanel','qchatToggle','data','isPanelOpen','disabled','getWebSocketUrl','setupDataChannel','inputSection','qchatInputSection','appendChild','qchatClose','27228hjRYZh','writeText','onclose','connectionState','closeBtn','roomInput','Q-Chat:\x20WebSocket\x20error:','unreadCount','innerHTML','messagesList','random','99+','qchatWaiting','Q-Chat:\x20ICE\x20gathering\x20state:','iceConnectionState','qchat-system-message','contains','matrix-digit','peerConnection','Q-Chat:\x20Error\x20handling\x20offer:','sin','classList','receiveMessage','px)','https:','Connection\x20setup\x20failed','candidate','qchatConnect','reveal','Connecting...','1354510ENIJjI','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','keypress','joinRoom','Disconnected','handleIceCandidate','catch','className','badge','style','50%','updateBadge','getElementById','room-created','open','channel','ondatachannel','97077LbXDGj','Q-Chat:\x20ICE\x20gathering\x20complete','Encrypting\x20Neural\x20Pathway...','createAndSendOffer','Q-Chat:\x20ICE\x20connection\x20state:','sqrt','digitChangeInterval','Connection\x20failed','createRoom','Failed\x20to\x20send\x20message','click','charAt','enableChat','select','1020000oyQiWu','readyState','copyCodeBtn','sendBtn','failed','2-digit','add','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','Peer\x20disconnected','cos','translate3d(','initializeWebRTC','parse','Generating\x20Quantum\x20Tunnel...','qchatMessages','body','qchat-status\x20','error','preventDefault','scrollToBottom','location','text','dataChannel','qchatBadge','handleSignalingMessage','type','textarea','remove','marginLeft','addMessage','qchatCreate','url','span','Failed\x20to\x20connect\x20to\x20server','createBtn','messageInput','trim','flex','clipboard','none','key','qchatMessagesList','roomCodeEl','Q-Chat:\x20Received\x20ICE\x20candidate:','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','statusEl','onconnectionstatechange','sendMessage','Error:\x20','qchatMessageInput','Q-Chat:\x20WebSocket\x20closed','/api/turn-credentials','updateStatus','log','answer','escapeHtml','addIceCandidate','sdp','textContent','14uDfWXy','Joining...','substring','bindEvents','toggleBtn','panel','Q-Chat:\x20Sending\x20ICE\x20candidate:','protocol','length','shiftKey','showChatUI','display','createElement','px,\x20','roomId','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','toUpperCase','matrixSphereStatus','send','createMatrixSphere','connectSection','startMatrixSphereAnimation','iceGatheringState','connecting','Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:','offer','showRoomInfo','block','sent','join-room','Establishing\x20Secure\x20Link...','Q-Chat:\x20Connecting\x20to:','showSystemMessage','Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback','Q-Chat:\x20peer-joined\x20received,\x20isHost:','host','target','addEventListener','hidden','messagesSection','qchatPanel','marginTop','querySelectorAll','OPEN','qchatStatus'];_0x5b6c=function(){return _0xecbbec;};return _0x5b6c();}(function(_0x17f5e3,_0xe9147f){const _0x22d4d2=_0x4f45,_0x559254=_0x17f5e3();while(!![]){try{const _0x1376e3=-parseInt(_0x22d4d2(0x95))/0x1+parseInt(_0x22d4d2(0x143))/0x2*(-parseInt(_0x22d4d2(0xc4))/0x3)+parseInt(_0x22d4d2(0xd2))/0x4+parseInt(_0x22d4d2(0x13b))/0x5*(-parseInt(_0x22d4d2(0x13f))/0x6)+-parseInt(_0x22d4d2(0x10d))/0x7*(parseInt(_0x22d4d2(0x13d))/0x8)+parseInt(_0x22d4d2(0x151))/0x9+parseInt(_0x22d4d2(0xb3))/0xa;if(_0x1376e3===_0xe9147f)break;else _0x559254['push'](_0x559254['shift']());}catch(_0x121188){_0x559254['push'](_0x559254['shift']());}}}(_0x5b6c,0x2272d));function _0x4f45(_0x181426,_0x5c1996){_0x181426=_0x181426-0x82;const _0x5b6cfe=_0x5b6c();let _0x4f453c=_0x5b6cfe[_0x181426];return _0x4f453c;}class QChat{constructor(){const _0x4275fd=_0x4f45;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this[_0x4275fd(0x11b)]=null,this['isHost']=![],this[_0x4275fd(0x147)]=![],this['unreadCount']=0x0,this['isPanelOpen']=![],this[_0x4275fd(0x87)](),this['bindEvents']();}['initElements'](){const _0x62e603=_0x4f45;this[_0x62e603(0x112)]=document[_0x62e603(0xbf)](_0x62e603(0x135)),this['toggleBtn']=document['getElementById'](_0x62e603(0x8b)),this['closeBtn']=document['getElementById'](_0x62e603(0x94)),this[_0x62e603(0xbb)]=document['getElementById'](_0x62e603(0xe9)),this['connectSection']=document['getElementById'](_0x62e603(0xb0)),this['roomInfoSection']=document[_0x62e603(0xbf)](_0x62e603(0x155)),this[_0x62e603(0x134)]=document[_0x62e603(0xbf)](_0x62e603(0xe0)),this['inputSection']=document['getElementById'](_0x62e603(0x92)),this['statusEl']=document['getElementById'](_0x62e603(0x139)),this['roomCodeEl']=document[_0x62e603(0xbf)]('qchatRoomCode'),this['createBtn']=document['getElementById'](_0x62e603(0xf0)),this['joinBtn']=document['getElementById']('qchatJoin'),this[_0x62e603(0xd4)]=document[_0x62e603(0xbf)]('qchatCopyCode'),this['sendBtn']=document['getElementById'](_0x62e603(0x146)),this['roomInput']=document['getElementById']('qchatRoomInput'),this['messageInput']=document[_0x62e603(0xbf)](_0x62e603(0x103)),this[_0x62e603(0x9e)]=document['getElementById'](_0x62e603(0xfb));}[_0x63ff5e(0x110)](){const _0x47c988=_0x63ff5e;this[_0x47c988(0x111)]?.['addEventListener'](_0x47c988(0xce),()=>this[_0x47c988(0x8a)]()),this[_0x47c988(0x99)]?.['addEventListener'](_0x47c988(0xce),()=>this[_0x47c988(0x158)]()),this[_0x47c988(0xf4)]?.[_0x47c988(0x132)]('click',()=>this['createRoom']()),this[_0x47c988(0x89)]?.['addEventListener']('click',()=>this[_0x47c988(0xb6)]()),this[_0x47c988(0x9a)]?.['addEventListener']('keypress',_0x403583=>{const _0x1cec7b=_0x47c988;if(_0x403583[_0x1cec7b(0xfa)]==='Enter')this[_0x1cec7b(0xb6)]();}),this[_0x47c988(0xd4)]?.['addEventListener'](_0x47c988(0xce),()=>this['copyRoomCode']()),this['sendBtn']?.['addEventListener']('click',()=>this[_0x47c988(0x101)]()),this[_0x47c988(0xf5)]?.[_0x47c988(0x132)](_0x47c988(0xb5),_0x2495c3=>{const _0x37e438=_0x47c988;_0x2495c3[_0x37e438(0xfa)]===_0x37e438(0x13a)&&!_0x2495c3[_0x37e438(0x116)]&&(_0x2495c3[_0x37e438(0xe4)](),this[_0x37e438(0x101)]());}),document[_0x47c988(0x132)](_0x47c988(0xce),_0x568012=>{const _0x4e3657=_0x47c988;this['isPanelOpen']&&!this['panel']?.[_0x4e3657(0xa5)](_0x568012['target'])&&!this[_0x4e3657(0x111)]?.['contains'](_0x568012[_0x4e3657(0x131)])&&this['closePanel']();});}[_0x63ff5e(0x8a)](){const _0x4a1023=_0x63ff5e;this['isPanelOpen']?this[_0x4a1023(0x158)]():this['openPanel']();}['openPanel'](){const _0x2e2ee4=_0x63ff5e;this[_0x2e2ee4(0x112)]?.['classList'][_0x2e2ee4(0xd8)]('open'),this[_0x2e2ee4(0x111)]?.[_0x2e2ee4(0xaa)][_0x2e2ee4(0xd8)]('active'),this[_0x2e2ee4(0x8d)]=!![],this['clearUnread']();}['closePanel'](){const _0x49827e=_0x63ff5e;this[_0x49827e(0x112)]?.['classList'][_0x49827e(0xed)](_0x49827e(0xc1)),this['toggleBtn']?.[_0x49827e(0xaa)][_0x49827e(0xed)](_0x49827e(0x14f)),this['isPanelOpen']=![];}['generateRoomId'](){const _0x544905=_0x63ff5e,_0x518978=_0x544905(0x11c);let _0x270be0='';for(let _0xd30fa2=0x0;_0xd30fa2<0x6;_0xd30fa2++){_0x270be0+=_0x518978[_0x544905(0xcf)](Math['floor'](Math['random']()*_0x518978['length']));}return _0x270be0;}[_0x63ff5e(0x8f)](){const _0x22100b=_0x63ff5e,_0x37b723=window[_0x22100b(0xe6)][_0x22100b(0x114)]===_0x22100b(0xad)?'wss:':'ws:';return _0x37b723+'//'+window['location'][_0x22100b(0x130)]+'/ws';}async['connectToServer'](){return new Promise((_0x1d1f7a,_0x404f3f)=>{const _0x1c818f=_0x4f45,_0x217a8b=this['getWebSocketUrl']();console['log'](_0x1c818f(0x12c),_0x217a8b),this['ws']=new WebSocket(_0x217a8b),this['ws']['onopen']=()=>{const _0x1ecc28=_0x1c818f;console['log'](_0x1ecc28(0x141)),_0x1d1f7a();},this['ws']['onerror']=_0x180eff=>{const _0xbe13dd=_0x1c818f;console[_0xbe13dd(0xe3)](_0xbe13dd(0x9b),_0x180eff),_0x404f3f(_0x180eff);},this['ws'][_0x1c818f(0x97)]=()=>{const _0x2b600c=_0x1c818f;console['log'](_0x2b600c(0x104)),this['handleDisconnect']();},this['ws']['onmessage']=_0x369943=>{const _0x41932c=_0x1c818f,_0x31fbf5=JSON[_0x41932c(0xde)](_0x369943[_0x41932c(0x8c)]);console[_0x41932c(0x107)](_0x41932c(0x154),_0x31fbf5[_0x41932c(0xeb)],_0x31fbf5),this[_0x41932c(0xea)](_0x31fbf5);};});}[_0x63ff5e(0x11f)](_0x47c5a0){const _0x2697a7=_0x63ff5e;this['ws']&&this['ws'][_0x2697a7(0xd3)]===WebSocket[_0x2697a7(0x138)]&&this['ws']['send'](JSON['stringify'](_0x47c5a0));}async[_0x63ff5e(0xcc)](){const _0x837438=_0x63ff5e;this['isHost']=!![],this['roomId']=this['generateRoomId'](),this[_0x837438(0x106)](_0x837438(0x124),_0x837438(0xb2));try{await this['connectToServer'](),this['send']({'type':'create-room','roomId':this['roomId']});}catch(_0x8300f){this[_0x837438(0x12d)](_0x837438(0xf3)),this[_0x837438(0x106)](_0x837438(0x152),'Connection\x20failed');}}async[_0x63ff5e(0xb6)](){const _0x8fd0ff=_0x63ff5e,_0x15f974=this['roomInput']?.[_0x8fd0ff(0x14c)]['trim']()[_0x8fd0ff(0x11d)]();if(!_0x15f974||_0x15f974['length']<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this['isHost']=![],this[_0x8fd0ff(0x11b)]=_0x15f974,this['updateStatus'](_0x8fd0ff(0x124),_0x8fd0ff(0x10e));try{await this['connectToServer'](),this['send']({'type':_0x8fd0ff(0x12a),'roomId':this[_0x8fd0ff(0x11b)]});}catch(_0x5d19cc){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus']('disconnected',_0x8fd0ff(0xcb));}}async['handleSignalingMessage'](_0x10d57b){const _0x58494d=_0x63ff5e;switch(_0x10d57b[_0x58494d(0xeb)]){case _0x58494d(0xc0):this[_0x58494d(0x127)](),this['updateStatus'](_0x58494d(0x124),'Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage']('Joined\x20room!\x20Waiting\x20for\x20host...'),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case'peer-joined':console[_0x58494d(0x107)](_0x58494d(0x12f),this['isHost']),this[_0x58494d(0x12d)](_0x58494d(0xd9)),this[_0x58494d(0x106)](_0x58494d(0x124),'Establishing\x20P2P...');try{await this['initializeWebRTC'](),console['log'](_0x58494d(0x125),!!this[_0x58494d(0xa7)]),this['isHost']&&(console['log'](_0x58494d(0x14e)),await this[_0x58494d(0xc7)](),console[_0x58494d(0x107)](_0x58494d(0x140)));}catch(_0xb07792){console[_0x58494d(0xe3)]('Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:',_0xb07792),this['showSystemMessage'](_0x58494d(0xae)),this[_0x58494d(0x106)](_0x58494d(0x152),'Setup\x20failed');}break;case'peer-left':this[_0x58494d(0x12d)](_0x58494d(0xda)),this['updateStatus'](_0x58494d(0x152),_0x58494d(0x14b)),this[_0x58494d(0x14a)]();break;case'offer':await this['handleOffer'](_0x10d57b);break;case _0x58494d(0x108):await this[_0x58494d(0x13c)](_0x10d57b);break;case'ice-candidate':await this[_0x58494d(0xb8)](_0x10d57b);break;case'error':this[_0x58494d(0x12d)](_0x58494d(0x102)+_0x10d57b['message']),this['updateStatus'](_0x58494d(0x152),'Error'),console['error'](_0x58494d(0x156),_0x10d57b[_0x58494d(0x84)]);break;}}async[_0x63ff5e(0xdd)](){const _0x5bced4=_0x63ff5e,_0x152180=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x2e0ceb=_0x152180;try{const _0xecf7bd=await fetch(_0x5bced4(0x105)),_0x36cf19=await _0xecf7bd['json']();Array['isArray'](_0x36cf19)&&_0x36cf19[_0x5bced4(0x115)]>0x0?(_0x2e0ceb=_0x36cf19['map'](_0x129549=>{const _0x45e888=_0x5bced4,_0x302b3e={..._0x129549};return _0x129549['urls']&&!_0x129549[_0x45e888(0xf1)]&&(_0x302b3e['url']=_0x129549[_0x45e888(0x14d)]),_0x302b3e;}),console[_0x5bced4(0x107)](_0x5bced4(0x142),_0x2e0ceb[_0x5bced4(0x115)]),_0x2e0ceb['forEach']((_0x2b825d,_0xa92cf2)=>{const _0x3a451b=_0x5bced4;console[_0x3a451b(0x107)]('Q-Chat:\x20ICE\x20Server\x20'+_0xa92cf2+':',JSON['stringify'](_0x2b825d));})):console[_0x5bced4(0x107)](_0x5bced4(0x12e));}catch(_0x178bc2){console['log'](_0x5bced4(0xb4),_0x178bc2);}const _0x8b307c={'iceServers':_0x2e0ceb,'iceTransportPolicy':'all'};this['peerConnection']=new RTCPeerConnection(_0x8b307c),this[_0x5bced4(0xa7)]['onicecandidate']=_0x1b75a9=>{const _0x5b73b4=_0x5bced4;_0x1b75a9['candidate']?(console[_0x5b73b4(0x107)](_0x5b73b4(0x113),_0x1b75a9[_0x5b73b4(0xaf)][_0x5b73b4(0xaf)][_0x5b73b4(0x10f)](0x0,0x32)),this[_0x5b73b4(0x11f)]({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x1b75a9['candidate']})):console['log'](_0x5b73b4(0xc5));},this[_0x5bced4(0xa7)]['oniceconnectionstatechange']=()=>{const _0x5ab5d2=_0x5bced4;console['log'](_0x5ab5d2(0xc8),this[_0x5ab5d2(0xa7)][_0x5ab5d2(0xa3)]);},this['peerConnection']['onicegatheringstatechange']=()=>{const _0x500e0e=_0x5bced4;console['log'](_0x500e0e(0xa2),this[_0x500e0e(0xa7)][_0x500e0e(0x123)]);},this['peerConnection'][_0x5bced4(0x100)]=()=>{const _0x1dab45=_0x5bced4,_0x475ad2=this[_0x1dab45(0xa7)][_0x1dab45(0x98)];console['log'](_0x1dab45(0x157),_0x475ad2);if(_0x475ad2==='connected')this['updateStatus']('connected','Secure\x20P2P'),this[_0x1dab45(0x12d)]('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x475ad2==='disconnected'||_0x475ad2===_0x1dab45(0xd6))&&(this[_0x1dab45(0x106)](_0x1dab45(0x152),_0x1dab45(0xb7)),this[_0x1dab45(0x14a)]());},this['isHost']?(this['dataChannel']=this['peerConnection']['createDataChannel']('qchat',{'ordered':!![]}),this[_0x5bced4(0x90)]()):this['peerConnection'][_0x5bced4(0xc3)]=_0x404085=>{const _0x380464=_0x5bced4;this[_0x380464(0xe8)]=_0x404085[_0x380464(0xc2)],this[_0x380464(0x90)]();};}['setupDataChannel'](){const _0x4b7ca2=_0x63ff5e;this[_0x4b7ca2(0xe8)]['onopen']=()=>{const _0x3264c0=_0x4b7ca2;console[_0x3264c0(0x107)]('Q-Chat:\x20Data\x20channel\x20open'),this['isConnected']=!![],this['enableChat'](),this[_0x3264c0(0x117)]();},this['dataChannel']['onclose']=()=>{console['log']('Q-Chat:\x20Data\x20channel\x20closed'),this['isConnected']=![],this['disableChat']();},this[_0x4b7ca2(0xe8)]['onmessage']=_0x1746a9=>{const _0x16c758=_0x4b7ca2,_0x99a03a=JSON[_0x16c758(0xde)](_0x1746a9[_0x16c758(0x8c)]);this['receiveMessage'](_0x99a03a);};}async[_0x63ff5e(0xc7)](){const _0x48d82f=_0x63ff5e;try{const _0x52ba12=await this['peerConnection']['createOffer']();await this['peerConnection']['setLocalDescription'](_0x52ba12),this[_0x48d82f(0x11f)]({'type':'offer','roomId':this['roomId'],'sdp':_0x52ba12['sdp']});}catch(_0x2ae9fa){console[_0x48d82f(0xe3)]('Q-Chat:\x20Error\x20creating\x20offer:',_0x2ae9fa);}}async['handleOffer'](_0x33d63f){const _0x90f48c=_0x63ff5e;try{!this['peerConnection']&&await this[_0x90f48c(0xdd)]();await this[_0x90f48c(0xa7)][_0x90f48c(0x150)](new RTCSessionDescription({'type':_0x90f48c(0x126),'sdp':_0x33d63f['sdp']}));const _0x5440e4=await this[_0x90f48c(0xa7)]['createAnswer']();await this['peerConnection']['setLocalDescription'](_0x5440e4),this[_0x90f48c(0x11f)]({'type':_0x90f48c(0x108),'roomId':this['roomId'],'sdp':_0x5440e4['sdp']});}catch(_0x4ea948){console['error'](_0x90f48c(0xa8),_0x4ea948);}}async[_0x63ff5e(0x13c)](_0x41d9e7){const _0x30e640=_0x63ff5e;try{await this[_0x30e640(0xa7)]['setRemoteDescription'](new RTCSessionDescription({'type':'answer','sdp':_0x41d9e7[_0x30e640(0x10b)]}));}catch(_0x5061cc){console[_0x30e640(0xe3)](_0x30e640(0x82),_0x5061cc);}}async[_0x63ff5e(0xb8)](_0x4911f4){const _0x2c92bf=_0x63ff5e;try{_0x4911f4['candidate']&&this['peerConnection']&&(console['log'](_0x2c92bf(0xfd),_0x4911f4[_0x2c92bf(0xaf)][_0x2c92bf(0xaf)]?.[_0x2c92bf(0x10f)](0x0,0x32)),await this['peerConnection'][_0x2c92bf(0x10a)](new RTCIceCandidate(_0x4911f4[_0x2c92bf(0xaf)])));}catch(_0x1071e7){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x1071e7);}}[_0x63ff5e(0x127)](){const _0x47ca80=_0x63ff5e;if(this[_0x47ca80(0x121)])this[_0x47ca80(0x121)][_0x47ca80(0xbc)][_0x47ca80(0x118)]=_0x47ca80(0xf9);if(this[_0x47ca80(0x149)])this['roomInfoSection'][_0x47ca80(0xbc)][_0x47ca80(0x118)]=_0x47ca80(0x128);this['startMatrixSphereAnimation']();}[_0x63ff5e(0x122)](){const _0x454f15=_0x63ff5e,_0x31eea4=document['getElementById'](_0x454f15(0x88)),_0x20177c=document[_0x454f15(0xbf)]('matrixSphere'),_0x375dd7=document[_0x454f15(0xbf)](_0x454f15(0x11e)),_0x3e8e97=document[_0x454f15(0xbf)]('qchatRoomCodeSection'),_0x547b74=document[_0x454f15(0xbf)](_0x454f15(0xa1));if(!_0x20177c||!_0x31eea4){if(this[_0x454f15(0xfc)])this[_0x454f15(0xfc)][_0x454f15(0x10c)]=this[_0x454f15(0x11b)];return;}this[_0x454f15(0x120)](_0x20177c);const _0x5c935d=[_0x454f15(0xdf),_0x454f15(0xc6),_0x454f15(0x12b),'Finalizing\x20Quantum\x20Code...'];let _0x298c1f=0x0;const _0x371b3a=setInterval(()=>{const _0x301934=_0x454f15;_0x298c1f++,_0x298c1f<_0x5c935d['length']&&_0x375dd7&&(_0x375dd7[_0x301934(0x10c)]=_0x5c935d[_0x298c1f]);},0x258);setTimeout(()=>{const _0x2041d1=_0x454f15;clearInterval(_0x371b3a),_0x20177c['classList'][_0x2041d1(0xd8)]('fade-out');if(_0x375dd7)_0x375dd7[_0x2041d1(0xbc)]['display']=_0x2041d1(0xf9);setTimeout(()=>{const _0x16aa5d=_0x2041d1;_0x31eea4['style'][_0x16aa5d(0x118)]='none';if(this['roomCodeEl'])this['roomCodeEl']['textContent']=this['roomId'];_0x3e8e97&&(_0x3e8e97['classList'][_0x16aa5d(0xed)](_0x16aa5d(0x133)),_0x3e8e97[_0x16aa5d(0xaa)]['add'](_0x16aa5d(0xb1))),_0x547b74&&_0x547b74['classList']['remove'](_0x16aa5d(0x133));},0x320);},0x9c4);}['createMatrixSphere'](_0x577d00){const _0x5c36fd=_0x63ff5e;_0x577d00[_0x5c36fd(0x9d)]='';const _0x5ad274=0x78,_0x50b5a7=0x3c;for(let _0x44f606=0x0;_0x44f606<_0x5ad274;_0x44f606++){const _0x5ae8a6=document['createElement'](_0x5c36fd(0xf2));_0x5ae8a6['className']=_0x5c36fd(0xa6),_0x5ae8a6['textContent']=Math['floor'](Math['random']()*0xa);const _0x491e81=Math['acos'](0x1-0x2*(_0x44f606+0.5)/_0x5ad274),_0x25f3b8=Math['PI']*(0x1+Math[_0x5c36fd(0xc9)](0x5))*_0x44f606,_0x3728be=_0x50b5a7*Math[_0x5c36fd(0xa9)](_0x491e81)*Math[_0x5c36fd(0xdb)](_0x25f3b8),_0x47df4d=_0x50b5a7*Math[_0x5c36fd(0xa9)](_0x491e81)*Math['sin'](_0x25f3b8),_0x485234=_0x50b5a7*Math['cos'](_0x491e81);_0x5ae8a6[_0x5c36fd(0xbc)]['transform']=_0x5c36fd(0xdc)+_0x3728be+_0x5c36fd(0x11a)+_0x47df4d+_0x5c36fd(0x11a)+_0x485234+_0x5c36fd(0xac),_0x5ae8a6['style']['left']=_0x5c36fd(0xbd),_0x5ae8a6['style']['top']='50%',_0x5ae8a6[_0x5c36fd(0xbc)][_0x5c36fd(0xee)]='-7px',_0x5ae8a6['style'][_0x5c36fd(0x136)]='-10px',_0x5ae8a6['style']['animationDelay']=Math['random']()*0.5+'s';const _0xc1b00f=0.4+(_0x485234+_0x50b5a7)/(0x2*_0x50b5a7)*0.6;_0x5ae8a6['style']['opacity']=_0xc1b00f,_0x577d00[_0x5c36fd(0x93)](_0x5ae8a6);}this[_0x5c36fd(0xca)]=setInterval(()=>{const _0x3980da=_0x5c36fd,_0x386572=_0x577d00[_0x3980da(0x137)]('.matrix-digit'),_0x1b8f1f=_0x386572[Math['floor'](Math[_0x3980da(0x9f)]()*_0x386572[_0x3980da(0x115)])];_0x1b8f1f&&(_0x1b8f1f['textContent']=Math['floor'](Math['random']()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}[_0x63ff5e(0x117)](){const _0x6e3d84=_0x63ff5e;if(this['connectSection'])this['connectSection']['style'][_0x6e3d84(0x118)]='none';if(this[_0x6e3d84(0x149)])this['roomInfoSection']['style']['display']=_0x6e3d84(0xf9);if(this[_0x6e3d84(0x134)])this[_0x6e3d84(0x134)][_0x6e3d84(0xbc)]['display']='flex';if(this['inputSection'])this[_0x6e3d84(0x91)][_0x6e3d84(0xbc)]['display']='block';}[_0x63ff5e(0xd0)](){const _0x482a6c=_0x63ff5e;this[_0x482a6c(0xf5)]&&(this[_0x482a6c(0xf5)][_0x482a6c(0x8e)]=![],this[_0x482a6c(0xf5)]['focus']());if(this['sendBtn'])this['sendBtn']['disabled']=![];}[_0x63ff5e(0x14a)](){const _0x3180fd=_0x63ff5e;if(this[_0x3180fd(0xf5)])this[_0x3180fd(0xf5)]['disabled']=!![];if(this['sendBtn'])this[_0x3180fd(0xd5)][_0x3180fd(0x8e)]=!![];}['sendMessage'](){const _0x23a1bb=_0x63ff5e,_0x5e56d8=this['messageInput']?.['value'][_0x23a1bb(0xf6)]();if(!_0x5e56d8||!this['isConnected'])return;const _0x33f572={'type':_0x23a1bb(0x84),'text':_0x5e56d8,'timestamp':Date[_0x23a1bb(0x13e)]()};try{this[_0x23a1bb(0xe8)][_0x23a1bb(0x11f)](JSON['stringify'](_0x33f572)),this['addMessage'](_0x5e56d8,'sent',_0x33f572[_0x23a1bb(0x153)]),this[_0x23a1bb(0xf5)]['value']='';}catch(_0x50ca03){console['error']('Q-Chat:\x20Error\x20sending\x20message:',_0x50ca03),this['showSystemMessage'](_0x23a1bb(0xcd));}}[_0x63ff5e(0xab)](_0x53a692){const _0x4267bf=_0x63ff5e;_0x53a692['type']==='message'&&(this[_0x4267bf(0xef)](_0x53a692[_0x4267bf(0xe7)],'received',_0x53a692[_0x4267bf(0x153)]),!this[_0x4267bf(0x8d)]&&(this['unreadCount']++,this['updateBadge']()));}[_0x63ff5e(0xef)](_0x4427c2,_0x1309c9,_0x5da2e3){const _0x30480a=_0x63ff5e,_0x7a1c5d=document[_0x30480a(0x119)]('div');_0x7a1c5d[_0x30480a(0xba)]=_0x30480a(0x83)+_0x1309c9;const _0x5470fd=new Date(_0x5da2e3)[_0x30480a(0x144)]([],{'hour':_0x30480a(0xd7),'minute':'2-digit'});_0x7a1c5d['innerHTML']=_0x30480a(0x86)+this[_0x30480a(0x109)](_0x4427c2)+_0x30480a(0xfe)+(_0x1309c9===_0x30480a(0x129)?'âœ“\x20':'')+_0x5470fd+_0x30480a(0x85),this[_0x30480a(0x9e)]?.['appendChild'](_0x7a1c5d),this['scrollToBottom']();}[_0x63ff5e(0x12d)](_0x44775f){const _0x2ca71d=_0x63ff5e,_0x294419=document[_0x2ca71d(0x119)]('div');_0x294419[_0x2ca71d(0xba)]=_0x2ca71d(0xa4),_0x294419['textContent']=_0x44775f,this['messagesList']?.[_0x2ca71d(0x93)](_0x294419),this[_0x2ca71d(0xe5)]();}['scrollToBottom'](){const _0xc01032=_0x63ff5e;this['messagesSection']&&(this['messagesSection']['scrollTop']=this['messagesSection'][_0xc01032(0x148)]);}['updateStatus'](_0x2bebcb,_0x3e5b8d){const _0x4829e0=_0x63ff5e;if(this[_0x4829e0(0xff)]){this['statusEl']['className']=_0x4829e0(0xe2)+_0x2bebcb;const _0x58e395=this[_0x4829e0(0xff)]['querySelector']('.status-text');if(_0x58e395)_0x58e395['textContent']=_0x3e5b8d;}}[_0x63ff5e(0xbe)](){const _0x513a64=_0x63ff5e;this['badge']&&(this[_0x513a64(0x9c)]>0x0?(this[_0x513a64(0xbb)]['textContent']=this[_0x513a64(0x9c)]>0x63?_0x513a64(0xa0):this[_0x513a64(0x9c)],this['badge'][_0x513a64(0xbc)][_0x513a64(0x118)]=_0x513a64(0xf7)):this[_0x513a64(0xbb)]['style']['display']='none');}[_0x63ff5e(0x145)](){const _0x48f5fa=_0x63ff5e;this[_0x48f5fa(0x9c)]=0x0,this[_0x48f5fa(0xbe)]();}['copyRoomCode'](){const _0x3e0572=_0x63ff5e;this[_0x3e0572(0x11b)]&&navigator[_0x3e0572(0xf8)][_0x3e0572(0x96)](this[_0x3e0572(0x11b)])['then'](()=>{const _0x391c4a=_0x3e0572;this[_0x391c4a(0x12d)]('Room\x20code\x20copied!');})[_0x3e0572(0xb9)](()=>{const _0x3c1a2b=_0x3e0572,_0x3cec0a=document[_0x3c1a2b(0x119)](_0x3c1a2b(0xec));_0x3cec0a[_0x3c1a2b(0x14c)]=this[_0x3c1a2b(0x11b)],document[_0x3c1a2b(0xe1)]['appendChild'](_0x3cec0a),_0x3cec0a[_0x3c1a2b(0xd1)](),document['execCommand']('copy'),document['body']['removeChild'](_0x3cec0a),this[_0x3c1a2b(0x12d)]('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x2cd916=_0x63ff5e;this['isConnected']=![],this[_0x2cd916(0x106)](_0x2cd916(0x152),'Disconnected'),this[_0x2cd916(0x14a)]();}['escapeHtml'](_0x3ad880){const _0x191ded=_0x63ff5e,_0x54aa5e=document['createElement']('div');return _0x54aa5e[_0x191ded(0x10c)]=_0x3ad880,_0x54aa5e['innerHTML'];}}document['addEventListener']('DOMContentLoaded',()=>{window['qChat']=new QChat();});