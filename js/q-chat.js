const _0xeed5e3=_0x3821;function _0x3821(_0xa3a34a,_0x40530){_0xa3a34a=_0xa3a34a-0x1a2;const _0x14e2f6=_0x14e2();let _0x38214c=_0x14e2f6[_0xa3a34a];return _0x38214c;}(function(_0xd647ee,_0xb4c9db){const _0x137760=_0x3821,_0x1d3123=_0xd647ee();while(!![]){try{const _0x2fc629=-parseInt(_0x137760(0x1ca))/0x1+parseInt(_0x137760(0x219))/0x2+-parseInt(_0x137760(0x1b3))/0x3*(-parseInt(_0x137760(0x1dc))/0x4)+parseInt(_0x137760(0x20e))/0x5*(parseInt(_0x137760(0x1fa))/0x6)+-parseInt(_0x137760(0x238))/0x7+parseInt(_0x137760(0x253))/0x8+-parseInt(_0x137760(0x1be))/0x9;if(_0x2fc629===_0xb4c9db)break;else _0x1d3123['push'](_0x1d3123['shift']());}catch(_0x1ba905){_0x1d3123['push'](_0x1d3123['shift']());}}}(_0x14e2,0x4c4b6));function _0x14e2(){const _0x21b250=['qchatToggle','messagesList','Encrypting\x20Neural\x20Pathway...','Q-Chat:\x20Error\x20sending\x20message:','badge','showSystemMessage','qchatClose','onopen','send','qchatMessages','qchatSendBtn','qchatBadge','Establishing\x20Secure\x20Link...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','style','target','showChatUI','now','onicegatheringstatechange','handleAnswer','setLocalDescription','Establishing\x20P2P...','panel','clearUnread','reveal','px,\x20','getElementById','active','178026Aotuti','span','qchatRoomInput','Connection\x20failed','length','roomCodeEl','querySelectorAll','createBtn','add','Joining...','timestamp','3812661lxzbaq','none','protocol','roomId','setupDataChannel','sendBtn','className','select','textContent','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal','type','messagesSection','15610fwGnnQ','statusEl','div','DOMContentLoaded','candidate','onmessage','channel','Joined\x20room!\x20Waiting\x20for\x20host...','then','Finalizing\x20Quantum\x20Code...','Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:','qchatRoomCode','flex','closeBtn','qchatInputSection','closePanel','qChat','addMessage','24hSxhZq','isConnected','key','initializeWebRTC','opacity','isArray','startMatrixSphereAnimation','onicecandidate','disableChat','Failed\x20to\x20send\x20message','sin','Peer\x20disconnected','togglePanel','Q-Chat:\x20WebSocket\x20error:','textarea','copyCodeBtn','inputSection','unreadCount','connected','classList','block','isHost','qchatCreate','qchatRoomCodeSection','joinRoom','createAnswer','text','disconnected','top','qchatMessageInput','144XODkbg','handleDisconnect','messageInput','dataChannel','innerHTML','iceConnectionState','roomInfoSection','log','Room\x20code\x20copied!','Q-Chat:\x20Data\x20channel\x20closed','peerConnection','Connection\x20setup\x20failed','Disconnected','value','Waiting\x20for\x20peer...','https:','sent','showRoomInfo','sendMessage','enableChat','99805xNudCD','catch','acos','connectSection','Q-Chat:\x20Error\x20handling\x20answer:','updateBadge','copyRoomCode','handleOffer','initElements','matrixSphereStatus','qchatRoomInfo','749752WaVICr','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','createRoom','Q-Chat:\x20Connection\x20state:','appendChild','iceGatheringState','Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback','charAt','matrixSphereContainer','ondatachannel','Q-Chat:\x20Connecting\x20to:','joinBtn','message','remove','handleSignalingMessage','Q-Chat:\x20WebSocket\x20closed','onerror','scrollHeight','received','host','failed','keypress','answer','room-created','Q-Chat:\x20WebSocket\x20connected','Q-Chat:\x20ICE\x20gathering\x20complete','qchatMessagesList','display','2-digit','stringify','3572058NwXdQF','hidden','Q-Chat:\x20ICE\x20gathering\x20state:','createElement','disabled','focus','connecting','animationDelay','room-joined','error','Q-Chat:\x20Error\x20creating\x20offer:','removeChild','Connecting...','roomInput','openPanel','floor','Failed\x20to\x20connect\x20to\x20server','Enter','Setup\x20failed','qchatWaiting','qchat-status\x20','-10px','random','click','qchatConnect','offer','body','416344hXMUUe','clipboard','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','sqrt','stun:stun.l.google.com:19302','receiveMessage','escapeHtml','addEventListener','updateStatus','.status-text','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','createMatrixSphere','Q-Chat\x20Server\x20Error:','left','toggleBtn','readyState','isPanelOpen','connectToServer'];_0x14e2=function(){return _0x21b250;};return _0x14e2();}class QChat{constructor(){const _0x44176f=_0x3821;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this['roomId']=null,this[_0x44176f(0x1f1)]=![],this[_0x44176f(0x1dd)]=![],this[_0x44176f(0x1ed)]=0x0,this['isPanelOpen']=![],this[_0x44176f(0x216)](),this['bindEvents']();}['initElements'](){const _0x5c35c2=_0x3821;this['panel']=document['getElementById']('qchatPanel'),this[_0x5c35c2(0x261)]=document[_0x5c35c2(0x1b1)](_0x5c35c2(0x265)),this['closeBtn']=document['getElementById'](_0x5c35c2(0x26b)),this[_0x5c35c2(0x269)]=document['getElementById'](_0x5c35c2(0x1a2)),this[_0x5c35c2(0x211)]=document['getElementById'](_0x5c35c2(0x250)),this[_0x5c35c2(0x200)]=document['getElementById'](_0x5c35c2(0x218)),this[_0x5c35c2(0x1c9)]=document['getElementById'](_0x5c35c2(0x26e)),this[_0x5c35c2(0x1ec)]=document['getElementById'](_0x5c35c2(0x1d8)),this['statusEl']=document['getElementById']('qchatStatus'),this[_0x5c35c2(0x1b8)]=document[_0x5c35c2(0x1b1)](_0x5c35c2(0x1d5)),this['createBtn']=document[_0x5c35c2(0x1b1)](_0x5c35c2(0x1f2)),this[_0x5c35c2(0x225)]=document['getElementById']('qchatJoin'),this[_0x5c35c2(0x1eb)]=document['getElementById']('qchatCopyCode'),this['sendBtn']=document[_0x5c35c2(0x1b1)](_0x5c35c2(0x26f)),this[_0x5c35c2(0x245)]=document[_0x5c35c2(0x1b1)](_0x5c35c2(0x1b5)),this[_0x5c35c2(0x1fc)]=document['getElementById'](_0x5c35c2(0x1f9)),this[_0x5c35c2(0x266)]=document[_0x5c35c2(0x1b1)](_0x5c35c2(0x234));}['bindEvents'](){const _0x4cb130=_0x3821;this['toggleBtn']?.[_0x4cb130(0x25a)]('click',()=>this['togglePanel']()),this[_0x4cb130(0x1d7)]?.[_0x4cb130(0x25a)]('click',()=>this[_0x4cb130(0x1d9)]()),this[_0x4cb130(0x1ba)]?.['addEventListener']('click',()=>this['createRoom']()),this[_0x4cb130(0x225)]?.[_0x4cb130(0x25a)]('click',()=>this[_0x4cb130(0x1f4)]()),this['roomInput']?.[_0x4cb130(0x25a)]('keypress',_0x40b757=>{const _0x14a64c=_0x4cb130;if(_0x40b757[_0x14a64c(0x1de)]===_0x14a64c(0x249))this['joinRoom']();}),this[_0x4cb130(0x1eb)]?.[_0x4cb130(0x25a)](_0x4cb130(0x24f),()=>this[_0x4cb130(0x214)]()),this['sendBtn']?.['addEventListener'](_0x4cb130(0x24f),()=>this['sendMessage']()),this[_0x4cb130(0x1fc)]?.[_0x4cb130(0x25a)](_0x4cb130(0x22f),_0x3b5940=>{const _0x1099a3=_0x4cb130;_0x3b5940[_0x1099a3(0x1de)]===_0x1099a3(0x249)&&!_0x3b5940['shiftKey']&&(_0x3b5940['preventDefault'](),this[_0x1099a3(0x20c)]());}),document[_0x4cb130(0x25a)](_0x4cb130(0x24f),_0x3d81dd=>{const _0x596323=_0x4cb130;this['isPanelOpen']&&!this['panel']?.['contains'](_0x3d81dd[_0x596323(0x1a6)])&&!this[_0x596323(0x261)]?.['contains'](_0x3d81dd[_0x596323(0x1a6)])&&this[_0x596323(0x1d9)]();});}[_0xeed5e3(0x1e8)](){const _0x2e492b=_0xeed5e3;this['isPanelOpen']?this[_0x2e492b(0x1d9)]():this[_0x2e492b(0x246)]();}[_0xeed5e3(0x246)](){const _0x419ad7=_0xeed5e3;this['panel']?.[_0x419ad7(0x1ef)]['add']('open'),this['toggleBtn']?.['classList']['add']('active'),this[_0x419ad7(0x263)]=!![],this['clearUnread']();}['closePanel'](){const _0x268853=_0xeed5e3;this[_0x268853(0x1ad)]?.['classList'][_0x268853(0x227)]('open'),this['toggleBtn']?.['classList']['remove'](_0x268853(0x1b2)),this['isPanelOpen']=![];}['generateRoomId'](){const _0x2c253c=_0xeed5e3,_0x759030=_0x2c253c(0x255);let _0x1b0f28='';for(let _0x48ecf8=0x0;_0x48ecf8<0x6;_0x48ecf8++){_0x1b0f28+=_0x759030[_0x2c253c(0x221)](Math[_0x2c253c(0x247)](Math[_0x2c253c(0x24e)]()*_0x759030['length']));}return _0x1b0f28;}['getWebSocketUrl'](){const _0x2b1d70=_0xeed5e3,_0x2eae41=window['location'][_0x2b1d70(0x1c0)]===_0x2b1d70(0x209)?'wss:':'ws:';return _0x2eae41+'//'+window['location'][_0x2b1d70(0x22d)]+'/ws';}async[_0xeed5e3(0x264)](){return new Promise((_0x353e9b,_0x3219ca)=>{const _0x532e25=_0x3821,_0x1d7b80=this['getWebSocketUrl']();console['log'](_0x532e25(0x224),_0x1d7b80),this['ws']=new WebSocket(_0x1d7b80),this['ws'][_0x532e25(0x26c)]=()=>{const _0x360db2=_0x532e25;console['log'](_0x360db2(0x232)),_0x353e9b();},this['ws'][_0x532e25(0x22a)]=_0x46e3e2=>{const _0x955fb9=_0x532e25;console['error'](_0x955fb9(0x1e9),_0x46e3e2),_0x3219ca(_0x46e3e2);},this['ws']['onclose']=()=>{const _0x13e910=_0x532e25;console['log'](_0x13e910(0x229)),this[_0x13e910(0x1fb)]();},this['ws'][_0x532e25(0x1cf)]=_0x214730=>{const _0x43e39a=_0x532e25,_0x2cabf4=JSON['parse'](_0x214730['data']);console['log']('Q-Chat:\x20Received\x20message:',_0x2cabf4[_0x43e39a(0x1c8)],_0x2cabf4),this[_0x43e39a(0x228)](_0x2cabf4);};});}['send'](_0x53794a){const _0x5fbdbb=_0xeed5e3;this['ws']&&this['ws'][_0x5fbdbb(0x262)]===WebSocket['OPEN']&&this['ws']['send'](JSON['stringify'](_0x53794a));}async[_0xeed5e3(0x21c)](){const _0x429080=_0xeed5e3;this['isHost']=!![],this['roomId']=this['generateRoomId'](),this['updateStatus'](_0x429080(0x23e),_0x429080(0x244));try{await this[_0x429080(0x264)](),this['send']({'type':'create-room','roomId':this['roomId']});}catch(_0x1e9b87){this['showSystemMessage'](_0x429080(0x248)),this['updateStatus'](_0x429080(0x1f7),_0x429080(0x1b6));}}async['joinRoom'](){const _0x5f2b1d=_0xeed5e3,_0x5d0f9f=this['roomInput']?.['value']['trim']()['toUpperCase']();if(!_0x5d0f9f||_0x5d0f9f['length']<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this['isHost']=![],this['roomId']=_0x5d0f9f,this['updateStatus'](_0x5f2b1d(0x23e),_0x5f2b1d(0x1bc));try{await this[_0x5f2b1d(0x264)](),this['send']({'type':'join-room','roomId':this[_0x5f2b1d(0x1c1)]});}catch(_0x3fcc72){this[_0x5f2b1d(0x26a)]('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0x5f2b1d(0x1f7),'Connection\x20failed');}}async['handleSignalingMessage'](_0x31f58b){const _0x3aa86b=_0xeed5e3;switch(_0x31f58b['type']){case _0x3aa86b(0x231):this[_0x3aa86b(0x20b)](),this[_0x3aa86b(0x25b)]('connecting',_0x3aa86b(0x208));break;case _0x3aa86b(0x240):this[_0x3aa86b(0x26a)](_0x3aa86b(0x1d1)),this['updateStatus'](_0x3aa86b(0x23e),'Waiting\x20for\x20host...');break;case'peer-joined':console['log']('Q-Chat:\x20peer-joined\x20received,\x20isHost:',this['isHost']),this['showSystemMessage'](_0x3aa86b(0x21a)),this['updateStatus'](_0x3aa86b(0x23e),_0x3aa86b(0x1ac));try{await this['initializeWebRTC'](),console[_0x3aa86b(0x201)](_0x3aa86b(0x1d4),!!this['peerConnection']),this[_0x3aa86b(0x1f1)]&&(console['log']('Q-Chat:\x20Creating\x20and\x20sending\x20offer...'),await this['createAndSendOffer'](),console['log']('Q-Chat:\x20Offer\x20sent'));}catch(_0x17e899){console['error']('Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:',_0x17e899),this['showSystemMessage'](_0x3aa86b(0x205)),this[_0x3aa86b(0x25b)]('disconnected',_0x3aa86b(0x24a));}break;case'peer-left':this['showSystemMessage'](_0x3aa86b(0x1e7)),this[_0x3aa86b(0x25b)]('disconnected','Peer\x20left'),this[_0x3aa86b(0x1e4)]();break;case _0x3aa86b(0x251):await this[_0x3aa86b(0x215)](_0x31f58b);break;case _0x3aa86b(0x230):await this[_0x3aa86b(0x1aa)](_0x31f58b);break;case'ice-candidate':await this['handleIceCandidate'](_0x31f58b);break;case _0x3aa86b(0x241):this[_0x3aa86b(0x26a)]('Error:\x20'+_0x31f58b['message']),this[_0x3aa86b(0x25b)]('disconnected','Error'),console[_0x3aa86b(0x241)](_0x3aa86b(0x25f),_0x31f58b['message']);break;}}async[_0xeed5e3(0x1df)](){const _0x443ede=_0xeed5e3,_0x3f2221=[{'urls':_0x443ede(0x257)},{'urls':'stun:stun1.l.google.com:19302'}];let _0x1e4dea=_0x3f2221;try{const _0x303955=await fetch('/api/turn-credentials'),_0x3e1d24=await _0x303955['json']();Array[_0x443ede(0x1e1)](_0x3e1d24)&&_0x3e1d24[_0x443ede(0x1b7)]>0x0?(_0x1e4dea=_0x3e1d24,console[_0x443ede(0x201)](_0x443ede(0x1c7))):console['log'](_0x443ede(0x220));}catch(_0x3898f3){console['log'](_0x443ede(0x21b));}const _0x35c525={'iceServers':_0x1e4dea};this[_0x443ede(0x204)]=new RTCPeerConnection(_0x35c525),this['peerConnection'][_0x443ede(0x1e3)]=_0x550012=>{const _0xd8a1f7=_0x443ede;_0x550012['candidate']?(console[_0xd8a1f7(0x201)]('Q-Chat:\x20Sending\x20ICE\x20candidate:',_0x550012['candidate'][_0xd8a1f7(0x1ce)]['substring'](0x0,0x32)),this['send']({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x550012[_0xd8a1f7(0x1ce)]})):console['log'](_0xd8a1f7(0x233));},this[_0x443ede(0x204)]['oniceconnectionstatechange']=()=>{const _0x3b5483=_0x443ede;console[_0x3b5483(0x201)]('Q-Chat:\x20ICE\x20connection\x20state:',this['peerConnection'][_0x3b5483(0x1ff)]);},this['peerConnection'][_0x443ede(0x1a9)]=()=>{const _0x5bec53=_0x443ede;console['log'](_0x5bec53(0x23a),this[_0x5bec53(0x204)][_0x5bec53(0x21f)]);},this[_0x443ede(0x204)]['onconnectionstatechange']=()=>{const _0x2f817d=_0x443ede,_0x2eea90=this['peerConnection']['connectionState'];console[_0x2f817d(0x201)](_0x2f817d(0x21d),_0x2eea90);if(_0x2eea90===_0x2f817d(0x1ee))this[_0x2f817d(0x25b)]('connected','Secure\x20P2P'),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x2eea90==='disconnected'||_0x2eea90===_0x2f817d(0x22e))&&(this[_0x2f817d(0x25b)]('disconnected',_0x2f817d(0x206)),this[_0x2f817d(0x1e4)]());},this['isHost']?(this['dataChannel']=this[_0x443ede(0x204)]['createDataChannel']('qchat',{'ordered':!![]}),this[_0x443ede(0x1c2)]()):this['peerConnection'][_0x443ede(0x223)]=_0xd4a016=>{const _0xb81576=_0x443ede;this[_0xb81576(0x1fd)]=_0xd4a016[_0xb81576(0x1d0)],this['setupDataChannel']();};}[_0xeed5e3(0x1c2)](){const _0x328ed2=_0xeed5e3;this['dataChannel'][_0x328ed2(0x26c)]=()=>{const _0x219364=_0x328ed2;console['log']('Q-Chat:\x20Data\x20channel\x20open'),this['isConnected']=!![],this[_0x219364(0x20d)](),this['showChatUI']();},this[_0x328ed2(0x1fd)]['onclose']=()=>{const _0x334603=_0x328ed2;console['log'](_0x334603(0x203)),this[_0x334603(0x1dd)]=![],this[_0x334603(0x1e4)]();},this[_0x328ed2(0x1fd)]['onmessage']=_0x17444a=>{const _0x4d5a97=JSON['parse'](_0x17444a['data']);this['receiveMessage'](_0x4d5a97);};}async['createAndSendOffer'](){const _0x38cf0a=_0xeed5e3;try{const _0x4ce995=await this['peerConnection']['createOffer']();await this['peerConnection'][_0x38cf0a(0x1ab)](_0x4ce995),this[_0x38cf0a(0x26d)]({'type':_0x38cf0a(0x251),'roomId':this['roomId'],'sdp':_0x4ce995['sdp']});}catch(_0x7396f6){console[_0x38cf0a(0x241)](_0x38cf0a(0x242),_0x7396f6);}}async[_0xeed5e3(0x215)](_0x9143c3){const _0x88d36f=_0xeed5e3;try{!this[_0x88d36f(0x204)]&&await this['initializeWebRTC']();await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x9143c3['sdp']}));const _0x1ae4ed=await this[_0x88d36f(0x204)][_0x88d36f(0x1f5)]();await this['peerConnection'][_0x88d36f(0x1ab)](_0x1ae4ed),this[_0x88d36f(0x26d)]({'type':'answer','roomId':this[_0x88d36f(0x1c1)],'sdp':_0x1ae4ed['sdp']});}catch(_0x17906e){console['error']('Q-Chat:\x20Error\x20handling\x20offer:',_0x17906e);}}async[_0xeed5e3(0x1aa)](_0x39a597){const _0x2addcf=_0xeed5e3;try{await this[_0x2addcf(0x204)]['setRemoteDescription'](new RTCSessionDescription({'type':'answer','sdp':_0x39a597['sdp']}));}catch(_0x557992){console[_0x2addcf(0x241)](_0x2addcf(0x212),_0x557992);}}async['handleIceCandidate'](_0x167202){const _0x43ac8e=_0xeed5e3;try{_0x167202['candidate']&&this[_0x43ac8e(0x204)]&&(console[_0x43ac8e(0x201)]('Q-Chat:\x20Received\x20ICE\x20candidate:',_0x167202[_0x43ac8e(0x1ce)]['candidate']?.['substring'](0x0,0x32)),await this['peerConnection']['addIceCandidate'](new RTCIceCandidate(_0x167202[_0x43ac8e(0x1ce)])));}catch(_0x42d6c3){console[_0x43ac8e(0x241)]('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x42d6c3);}}[_0xeed5e3(0x20b)](){const _0x3f0966=_0xeed5e3;if(this[_0x3f0966(0x211)])this[_0x3f0966(0x211)]['style'][_0x3f0966(0x235)]=_0x3f0966(0x1bf);if(this['roomInfoSection'])this['roomInfoSection']['style'][_0x3f0966(0x235)]='block';this['startMatrixSphereAnimation']();}[_0xeed5e3(0x1e2)](){const _0x474822=_0xeed5e3,_0x477352=document['getElementById'](_0x474822(0x222)),_0x351a6e=document['getElementById']('matrixSphere'),_0x20679b=document[_0x474822(0x1b1)](_0x474822(0x217)),_0xfc8018=document['getElementById'](_0x474822(0x1f3)),_0x276d95=document[_0x474822(0x1b1)](_0x474822(0x24b));if(!_0x351a6e||!_0x477352){if(this[_0x474822(0x1b8)])this['roomCodeEl']['textContent']=this[_0x474822(0x1c1)];return;}this[_0x474822(0x25e)](_0x351a6e);const _0x5dc7c1=['Generating\x20Quantum\x20Tunnel...',_0x474822(0x267),_0x474822(0x1a3),_0x474822(0x1d3)];let _0x53f6f8=0x0;const _0x1591d2=setInterval(()=>{const _0x3e94d9=_0x474822;_0x53f6f8++,_0x53f6f8<_0x5dc7c1['length']&&_0x20679b&&(_0x20679b[_0x3e94d9(0x1c6)]=_0x5dc7c1[_0x53f6f8]);},0x258);setTimeout(()=>{const _0x499b2b=_0x474822;clearInterval(_0x1591d2),_0x351a6e[_0x499b2b(0x1ef)][_0x499b2b(0x1bb)]('fade-out');if(_0x20679b)_0x20679b[_0x499b2b(0x1a5)]['display']=_0x499b2b(0x1bf);setTimeout(()=>{const _0x2fdeb8=_0x499b2b;_0x477352[_0x2fdeb8(0x1a5)]['display']=_0x2fdeb8(0x1bf);if(this['roomCodeEl'])this[_0x2fdeb8(0x1b8)]['textContent']=this['roomId'];_0xfc8018&&(_0xfc8018['classList'][_0x2fdeb8(0x227)](_0x2fdeb8(0x239)),_0xfc8018['classList'][_0x2fdeb8(0x1bb)](_0x2fdeb8(0x1af))),_0x276d95&&_0x276d95['classList']['remove']('hidden');},0x320);},0x9c4);}[_0xeed5e3(0x25e)](_0x32b95e){const _0x371ae2=_0xeed5e3;_0x32b95e[_0x371ae2(0x1fe)]='';const _0x2aa50e=0x78,_0x52c73c=0x3c;for(let _0x1a680b=0x0;_0x1a680b<_0x2aa50e;_0x1a680b++){const _0x4c7082=document['createElement'](_0x371ae2(0x1b4));_0x4c7082['className']='matrix-digit',_0x4c7082['textContent']=Math[_0x371ae2(0x247)](Math[_0x371ae2(0x24e)]()*0xa);const _0x3bd93c=Math[_0x371ae2(0x210)](0x1-0x2*(_0x1a680b+0.5)/_0x2aa50e),_0x5d760e=Math['PI']*(0x1+Math[_0x371ae2(0x256)](0x5))*_0x1a680b,_0x19d246=_0x52c73c*Math[_0x371ae2(0x1e6)](_0x3bd93c)*Math['cos'](_0x5d760e),_0x1d745b=_0x52c73c*Math[_0x371ae2(0x1e6)](_0x3bd93c)*Math['sin'](_0x5d760e),_0x91811=_0x52c73c*Math['cos'](_0x3bd93c);_0x4c7082['style']['transform']='translate3d('+_0x19d246+_0x371ae2(0x1b0)+_0x1d745b+_0x371ae2(0x1b0)+_0x91811+'px)',_0x4c7082['style'][_0x371ae2(0x260)]='50%',_0x4c7082[_0x371ae2(0x1a5)][_0x371ae2(0x1f8)]='50%',_0x4c7082[_0x371ae2(0x1a5)]['marginLeft']='-7px',_0x4c7082[_0x371ae2(0x1a5)]['marginTop']=_0x371ae2(0x24d),_0x4c7082[_0x371ae2(0x1a5)][_0x371ae2(0x23f)]=Math['random']()*0.5+'s';const _0xd09c78=0.4+(_0x91811+_0x52c73c)/(0x2*_0x52c73c)*0.6;_0x4c7082['style'][_0x371ae2(0x1e0)]=_0xd09c78,_0x32b95e['appendChild'](_0x4c7082);}this['digitChangeInterval']=setInterval(()=>{const _0x1ee3d1=_0x371ae2,_0x4ff740=_0x32b95e[_0x1ee3d1(0x1b9)]('.matrix-digit'),_0x40b08a=_0x4ff740[Math[_0x1ee3d1(0x247)](Math['random']()*_0x4ff740['length'])];_0x40b08a&&(_0x40b08a['textContent']=Math[_0x1ee3d1(0x247)](Math['random']()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}[_0xeed5e3(0x1a7)](){const _0x4a8792=_0xeed5e3;if(this['connectSection'])this['connectSection']['style'][_0x4a8792(0x235)]=_0x4a8792(0x1bf);if(this[_0x4a8792(0x200)])this['roomInfoSection'][_0x4a8792(0x1a5)][_0x4a8792(0x235)]=_0x4a8792(0x1bf);if(this[_0x4a8792(0x1c9)])this[_0x4a8792(0x1c9)]['style'][_0x4a8792(0x235)]=_0x4a8792(0x1d6);if(this['inputSection'])this[_0x4a8792(0x1ec)][_0x4a8792(0x1a5)]['display']=_0x4a8792(0x1f0);}['enableChat'](){const _0x4893e9=_0xeed5e3;this[_0x4893e9(0x1fc)]&&(this[_0x4893e9(0x1fc)][_0x4893e9(0x23c)]=![],this['messageInput'][_0x4893e9(0x23d)]());if(this['sendBtn'])this['sendBtn'][_0x4893e9(0x23c)]=![];}[_0xeed5e3(0x1e4)](){const _0x4b48b5=_0xeed5e3;if(this['messageInput'])this[_0x4b48b5(0x1fc)][_0x4b48b5(0x23c)]=!![];if(this['sendBtn'])this[_0x4b48b5(0x1c3)]['disabled']=!![];}['sendMessage'](){const _0x5d9497=_0xeed5e3,_0x2dac54=this['messageInput']?.['value']['trim']();if(!_0x2dac54||!this['isConnected'])return;const _0x452c2a={'type':_0x5d9497(0x226),'text':_0x2dac54,'timestamp':Date[_0x5d9497(0x1a8)]()};try{this['dataChannel'][_0x5d9497(0x26d)](JSON[_0x5d9497(0x237)](_0x452c2a)),this[_0x5d9497(0x1db)](_0x2dac54,'sent',_0x452c2a[_0x5d9497(0x1bd)]),this['messageInput']['value']='';}catch(_0x310859){console[_0x5d9497(0x241)](_0x5d9497(0x268),_0x310859),this['showSystemMessage'](_0x5d9497(0x1e5));}}[_0xeed5e3(0x258)](_0x1a46a2){const _0x36a509=_0xeed5e3;_0x1a46a2[_0x36a509(0x1c8)]===_0x36a509(0x226)&&(this['addMessage'](_0x1a46a2[_0x36a509(0x1f6)],_0x36a509(0x22c),_0x1a46a2[_0x36a509(0x1bd)]),!this['isPanelOpen']&&(this['unreadCount']++,this[_0x36a509(0x213)]()));}[_0xeed5e3(0x1db)](_0x17ea0d,_0x598c6f,_0x229a2c){const _0x910874=_0xeed5e3,_0x381400=document[_0x910874(0x23b)]('div');_0x381400['className']='qchat-message\x20'+_0x598c6f;const _0x30bea9=new Date(_0x229a2c)['toLocaleTimeString']([],{'hour':'2-digit','minute':_0x910874(0x236)});_0x381400[_0x910874(0x1fe)]=_0x910874(0x25d)+this['escapeHtml'](_0x17ea0d)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x598c6f===_0x910874(0x20a)?'âœ“\x20':'')+_0x30bea9+_0x910874(0x1a4),this[_0x910874(0x266)]?.['appendChild'](_0x381400),this['scrollToBottom']();}[_0xeed5e3(0x26a)](_0x3261a9){const _0x450f15=_0xeed5e3,_0x266815=document[_0x450f15(0x23b)]('div');_0x266815['className']='qchat-system-message',_0x266815['textContent']=_0x3261a9,this[_0x450f15(0x266)]?.[_0x450f15(0x21e)](_0x266815),this['scrollToBottom']();}['scrollToBottom'](){const _0x21e7bc=_0xeed5e3;this['messagesSection']&&(this['messagesSection']['scrollTop']=this[_0x21e7bc(0x1c9)][_0x21e7bc(0x22b)]);}[_0xeed5e3(0x25b)](_0x39fdda,_0x5d09d9){const _0xac8e75=_0xeed5e3;if(this[_0xac8e75(0x1cb)]){this['statusEl'][_0xac8e75(0x1c4)]=_0xac8e75(0x24c)+_0x39fdda;const _0x178bb6=this['statusEl']['querySelector'](_0xac8e75(0x25c));if(_0x178bb6)_0x178bb6[_0xac8e75(0x1c6)]=_0x5d09d9;}}['updateBadge'](){const _0x3f7055=_0xeed5e3;this[_0x3f7055(0x269)]&&(this['unreadCount']>0x0?(this['badge'][_0x3f7055(0x1c6)]=this['unreadCount']>0x63?'99+':this['unreadCount'],this[_0x3f7055(0x269)]['style']['display']='flex'):this['badge'][_0x3f7055(0x1a5)][_0x3f7055(0x235)]=_0x3f7055(0x1bf));}[_0xeed5e3(0x1ae)](){this['unreadCount']=0x0,this['updateBadge']();}[_0xeed5e3(0x214)](){const _0x5d4e81=_0xeed5e3;this[_0x5d4e81(0x1c1)]&&navigator[_0x5d4e81(0x254)]['writeText'](this['roomId'])[_0x5d4e81(0x1d2)](()=>{const _0x487258=_0x5d4e81;this['showSystemMessage'](_0x487258(0x202));})[_0x5d4e81(0x20f)](()=>{const _0x1077ee=_0x5d4e81,_0x2b8461=document['createElement'](_0x1077ee(0x1ea));_0x2b8461[_0x1077ee(0x207)]=this[_0x1077ee(0x1c1)],document['body'][_0x1077ee(0x21e)](_0x2b8461),_0x2b8461[_0x1077ee(0x1c5)](),document['execCommand']('copy'),document[_0x1077ee(0x252)][_0x1077ee(0x243)](_0x2b8461),this[_0x1077ee(0x26a)]('Room\x20code\x20copied!');});}[_0xeed5e3(0x1fb)](){const _0x5cec41=_0xeed5e3;this[_0x5cec41(0x1dd)]=![],this['updateStatus'](_0x5cec41(0x1f7),_0x5cec41(0x206)),this[_0x5cec41(0x1e4)]();}[_0xeed5e3(0x259)](_0x247b01){const _0x473ac0=_0xeed5e3,_0x13c3a6=document['createElement'](_0x473ac0(0x1cc));return _0x13c3a6['textContent']=_0x247b01,_0x13c3a6[_0x473ac0(0x1fe)];}}document['addEventListener'](_0xeed5e3(0x1cd),()=>{const _0x5d3db6=_0xeed5e3;window[_0x5d3db6(0x1da)]=new QChat();});