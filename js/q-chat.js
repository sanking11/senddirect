const _0x571262=_0x2a93;(function(_0x218976,_0x5d3481){const _0x34f109=_0x2a93,_0x1cbec9=_0x218976();while(!![]){try{const _0x151434=-parseInt(_0x34f109(0x23c))/0x1*(-parseInt(_0x34f109(0x232))/0x2)+-parseInt(_0x34f109(0x1e7))/0x3+parseInt(_0x34f109(0x208))/0x4*(parseInt(_0x34f109(0x287))/0x5)+-parseInt(_0x34f109(0x1f9))/0x6+parseInt(_0x34f109(0x25b))/0x7+parseInt(_0x34f109(0x28f))/0x8*(-parseInt(_0x34f109(0x253))/0x9)+parseInt(_0x34f109(0x1e6))/0xa;if(_0x151434===_0x5d3481)break;else _0x1cbec9['push'](_0x1cbec9['shift']());}catch(_0x2a0f61){_0x1cbec9['push'](_0x1cbec9['shift']());}}}(_0xd0e2,0xccaa1));class QChat{constructor(){const _0x55d651=_0x2a93;this['ws']=null,this[_0x55d651(0x1f0)]=null,this['dataChannel']=null,this[_0x55d651(0x212)]=null,this['isHost']=![],this[_0x55d651(0x286)]=![],this[_0x55d651(0x28b)]=0x0,this['isPanelOpen']=![],this['initElements'](),this['bindEvents']();}[_0x571262(0x1ef)](){const _0x507571=_0x571262;this[_0x507571(0x216)]=document['getElementById']('qchatPanel'),this[_0x507571(0x282)]=document[_0x507571(0x271)](_0x507571(0x21e)),this['closeBtn']=document['getElementById']('qchatClose'),this['badge']=document[_0x507571(0x271)]('qchatBadge'),this['connectSection']=document[_0x507571(0x271)]('qchatConnect'),this[_0x507571(0x1f8)]=document['getElementById'](_0x507571(0x211)),this['messagesSection']=document['getElementById'](_0x507571(0x233)),this['inputSection']=document[_0x507571(0x271)](_0x507571(0x255)),this[_0x507571(0x24a)]=document[_0x507571(0x271)]('qchatStatus'),this['roomCodeEl']=document[_0x507571(0x271)](_0x507571(0x1f7)),this[_0x507571(0x202)]=document['getElementById'](_0x507571(0x21c)),this[_0x507571(0x1f3)]=document['getElementById']('qchatJoin'),this['copyCodeBtn']=document['getElementById']('qchatCopyCode'),this['sendBtn']=document[_0x507571(0x271)]('qchatSendBtn'),this[_0x507571(0x20d)]=document['getElementById'](_0x507571(0x20c)),this['messageInput']=document['getElementById']('qchatMessageInput'),this[_0x507571(0x291)]=document[_0x507571(0x271)](_0x507571(0x24d));}['bindEvents'](){const _0x5ebd1a=_0x571262;this[_0x5ebd1a(0x282)]?.[_0x5ebd1a(0x27a)]('click',()=>this[_0x5ebd1a(0x272)]()),this['closeBtn']?.[_0x5ebd1a(0x27a)](_0x5ebd1a(0x262),()=>this['closePanel']()),this['createBtn']?.[_0x5ebd1a(0x27a)](_0x5ebd1a(0x262),()=>this[_0x5ebd1a(0x293)]()),this['joinBtn']?.['addEventListener']('click',()=>this[_0x5ebd1a(0x227)]()),this['roomInput']?.[_0x5ebd1a(0x27a)](_0x5ebd1a(0x276),_0x389eab=>{const _0xba368e=_0x5ebd1a;if(_0x389eab['key']==='Enter')this[_0xba368e(0x227)]();}),this['copyCodeBtn']?.['addEventListener'](_0x5ebd1a(0x262),()=>this['copyRoomCode']()),this[_0x5ebd1a(0x1df)]?.[_0x5ebd1a(0x27a)](_0x5ebd1a(0x262),()=>this['sendMessage']()),this[_0x5ebd1a(0x256)]?.[_0x5ebd1a(0x27a)]('keypress',_0x490d97=>{const _0x1ae278=_0x5ebd1a;_0x490d97[_0x1ae278(0x251)]===_0x1ae278(0x292)&&!_0x490d97[_0x1ae278(0x1f2)]&&(_0x490d97['preventDefault'](),this[_0x1ae278(0x20e)]());}),document[_0x5ebd1a(0x27a)]('click',_0x357368=>{const _0x3a341f=_0x5ebd1a;this[_0x3a341f(0x1eb)]&&!this[_0x3a341f(0x216)]?.[_0x3a341f(0x273)](_0x357368['target'])&&!this[_0x3a341f(0x282)]?.[_0x3a341f(0x273)](_0x357368[_0x3a341f(0x1db)])&&this['closePanel']();});}[_0x571262(0x272)](){const _0x24fef4=_0x571262;this['isPanelOpen']?this[_0x24fef4(0x257)]():this['openPanel']();}['openPanel'](){const _0x56f3eb=_0x571262;this[_0x56f3eb(0x216)]?.['classList']['add']('open'),this['toggleBtn']?.['classList']['add'](_0x56f3eb(0x1de)),this['isPanelOpen']=!![],this['clearUnread']();}[_0x571262(0x257)](){const _0x3d3143=_0x571262;this[_0x3d3143(0x216)]?.['classList'][_0x3d3143(0x250)]('open'),this[_0x3d3143(0x282)]?.['classList']['remove'](_0x3d3143(0x1de)),this['isPanelOpen']=![];}['generateRoomId'](){const _0x842b28=_0x571262,_0x321ff2='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0xc4a1a2='';for(let _0x5d4e17=0x0;_0x5d4e17<0x6;_0x5d4e17++){_0xc4a1a2+=_0x321ff2[_0x842b28(0x1ea)](Math['floor'](Math['random']()*_0x321ff2['length']));}return _0xc4a1a2;}['getWebSocketUrl'](){const _0x733fd5=_0x571262,_0x4f495f=window[_0x733fd5(0x265)]['protocol']===_0x733fd5(0x28a)?'wss:':_0x733fd5(0x28e);return _0x4f495f+'//'+window['location']['host']+_0x733fd5(0x264);}async[_0x571262(0x21d)](){return new Promise((_0x330c44,_0x1b083f)=>{const _0x592d43=_0x2a93,_0x1bd6d1=this[_0x592d43(0x260)]();console['log'](_0x592d43(0x249),_0x1bd6d1),this['ws']=new WebSocket(_0x1bd6d1),this['ws']['onopen']=()=>{const _0x185a11=_0x592d43;console[_0x185a11(0x239)](_0x185a11(0x24b)),_0x330c44();},this['ws'][_0x592d43(0x231)]=_0x4affb4=>{const _0x3c8bc9=_0x592d43;console[_0x3c8bc9(0x243)](_0x3c8bc9(0x263),_0x4affb4),_0x1b083f(_0x4affb4);},this['ws']['onclose']=()=>{const _0x149211=_0x592d43;console['log']('Q-Chat:\x20WebSocket\x20closed'),this[_0x149211(0x27b)]();},this['ws'][_0x592d43(0x201)]=_0x52c9b0=>{const _0x162aaa=_0x592d43,_0x48981d=JSON[_0x162aaa(0x22e)](_0x52c9b0['data']);console['log']('Q-Chat:\x20Received\x20message:',_0x48981d['type'],_0x48981d),this['handleSignalingMessage'](_0x48981d);};});}[_0x571262(0x1e8)](_0x2c4839){const _0x29f8a6=_0x571262;this['ws']&&this['ws']['readyState']===WebSocket[_0x29f8a6(0x247)]&&this['ws'][_0x29f8a6(0x1e8)](JSON['stringify'](_0x2c4839));}async['createRoom'](){const _0x18188e=_0x571262;this[_0x18188e(0x27c)]=!![],this['roomId']=this[_0x18188e(0x220)](),this['updateStatus']('connecting',_0x18188e(0x248));try{await this[_0x18188e(0x21d)](),this[_0x18188e(0x1e8)]({'type':'create-room','roomId':this['roomId']});}catch(_0x21afe1){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus']('disconnected',_0x18188e(0x1ec));}}async[_0x571262(0x227)](){const _0xbcf15a=_0x571262,_0x49e359=this['roomInput']?.[_0xbcf15a(0x1dd)]['trim']()[_0xbcf15a(0x270)]();if(!_0x49e359||_0x49e359['length']<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this['isHost']=![],this[_0xbcf15a(0x212)]=_0x49e359,this['updateStatus']('connecting',_0xbcf15a(0x275));try{await this['connectToServer'](),this['send']({'type':'join-room','roomId':this['roomId']});}catch(_0x31f4c7){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this[_0xbcf15a(0x266)](_0xbcf15a(0x20b),'Connection\x20failed');}}async['handleSignalingMessage'](_0x48d5e4){const _0x5e09cf=_0x571262;switch(_0x48d5e4['type']){case _0x5e09cf(0x254):this['showRoomInfo'](),this[_0x5e09cf(0x266)]('connecting','Waiting\x20for\x20peer...');break;case _0x5e09cf(0x28d):this['showSystemMessage'](_0x5e09cf(0x23f)),this['updateStatus']('connecting',_0x5e09cf(0x230));break;case'peer-joined':console[_0x5e09cf(0x239)](_0x5e09cf(0x1ed),this[_0x5e09cf(0x27c)]),this['showSystemMessage']('Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...'),this['updateStatus']('connecting',_0x5e09cf(0x26c));try{await this[_0x5e09cf(0x23d)](),console['log'](_0x5e09cf(0x25a),!!this[_0x5e09cf(0x1f0)]),this['isHost']&&(console['log'](_0x5e09cf(0x21a)),await this['createAndSendOffer'](),console[_0x5e09cf(0x239)](_0x5e09cf(0x1dc)));}catch(_0x30a684){console[_0x5e09cf(0x243)](_0x5e09cf(0x219),_0x30a684),this['showSystemMessage'](_0x5e09cf(0x229)),this['updateStatus']('disconnected','Setup\x20failed');}break;case _0x5e09cf(0x280):this[_0x5e09cf(0x235)](_0x5e09cf(0x1da)),this['updateStatus'](_0x5e09cf(0x20b),'Peer\x20left'),this['disableChat']();break;case _0x5e09cf(0x207):await this[_0x5e09cf(0x1f1)](_0x48d5e4);break;case'answer':await this[_0x5e09cf(0x22f)](_0x48d5e4);break;case'ice-candidate':await this['handleIceCandidate'](_0x48d5e4);break;case'error':this['showSystemMessage'](_0x5e09cf(0x226)+_0x48d5e4[_0x5e09cf(0x213)]),this['updateStatus']('disconnected',_0x5e09cf(0x1fe)),console['error'](_0x5e09cf(0x269),_0x48d5e4['message']);break;}}async['initializeWebRTC'](){const _0x3f0029=_0x571262,_0x4e38bc=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x3f0029(0x240)}];let _0x2b97e0=_0x4e38bc;try{const _0x3b0ae6=await fetch(_0x3f0029(0x26d)),_0x473523=await _0x3b0ae6['json']();Array['isArray'](_0x473523)&&_0x473523['length']>0x0?(_0x2b97e0=_0x473523,console['log']('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x16432b){console['log']('Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback');}const _0x378d1f={'iceServers':_0x2b97e0};this['peerConnection']=new RTCPeerConnection(_0x378d1f),this[_0x3f0029(0x1f0)][_0x3f0029(0x215)]=_0x1c8981=>{const _0x2de27c=_0x3f0029;_0x1c8981[_0x2de27c(0x234)]?(console['log']('Q-Chat:\x20Sending\x20ICE\x20candidate:',_0x1c8981[_0x2de27c(0x234)]['candidate']['substring'](0x0,0x32)),this[_0x2de27c(0x1e8)]({'type':_0x2de27c(0x261),'roomId':this[_0x2de27c(0x212)],'candidate':_0x1c8981[_0x2de27c(0x234)]})):console[_0x2de27c(0x239)]('Q-Chat:\x20ICE\x20gathering\x20complete');},this[_0x3f0029(0x1f0)][_0x3f0029(0x27d)]=()=>{const _0x302959=_0x3f0029;console[_0x302959(0x239)]('Q-Chat:\x20ICE\x20connection\x20state:',this['peerConnection']['iceConnectionState']);},this['peerConnection']['onicegatheringstatechange']=()=>{const _0x2c25d0=_0x3f0029;console['log']('Q-Chat:\x20ICE\x20gathering\x20state:',this['peerConnection'][_0x2c25d0(0x290)]);},this['peerConnection']['onconnectionstatechange']=()=>{const _0x222262=_0x3f0029,_0x5a130c=this['peerConnection']['connectionState'];console['log'](_0x222262(0x210),_0x5a130c);if(_0x5a130c==='connected')this['updateStatus']('connected',_0x222262(0x252)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x5a130c==='disconnected'||_0x5a130c==='failed')&&(this['updateStatus']('disconnected','Disconnected'),this[_0x222262(0x1e5)]());},this['isHost']?(this['dataChannel']=this['peerConnection']['createDataChannel'](_0x3f0029(0x1fd),{'ordered':!![]}),this[_0x3f0029(0x21b)]()):this[_0x3f0029(0x1f0)]['ondatachannel']=_0x2d0cf2=>{const _0x19e252=_0x3f0029;this[_0x19e252(0x1e3)]=_0x2d0cf2[_0x19e252(0x278)],this[_0x19e252(0x21b)]();};}[_0x571262(0x21b)](){const _0x7656a1=_0x571262;this[_0x7656a1(0x1e3)][_0x7656a1(0x259)]=()=>{const _0x30010f=_0x7656a1;console['log']('Q-Chat:\x20Data\x20channel\x20open'),this[_0x30010f(0x286)]=!![],this[_0x30010f(0x241)](),this['showChatUI']();},this['dataChannel']['onclose']=()=>{const _0xce9912=_0x7656a1;console[_0xce9912(0x239)]('Q-Chat:\x20Data\x20channel\x20closed'),this['isConnected']=![],this[_0xce9912(0x1e5)]();},this['dataChannel'][_0x7656a1(0x201)]=_0x559511=>{const _0x184cb7=_0x7656a1,_0x5815c9=JSON['parse'](_0x559511[_0x184cb7(0x206)]);this['receiveMessage'](_0x5815c9);};}async[_0x571262(0x281)](){const _0xb7c51e=_0x571262;try{const _0x5e1a88=await this[_0xb7c51e(0x1f0)][_0xb7c51e(0x1ee)]();await this['peerConnection'][_0xb7c51e(0x1fb)](_0x5e1a88),this['send']({'type':_0xb7c51e(0x207),'roomId':this['roomId'],'sdp':_0x5e1a88[_0xb7c51e(0x228)]});}catch(_0x5eb106){console[_0xb7c51e(0x243)]('Q-Chat:\x20Error\x20creating\x20offer:',_0x5eb106);}}async[_0x571262(0x1f1)](_0x223804){const _0xb81620=_0x571262;try{!this[_0xb81620(0x1f0)]&&await this[_0xb81620(0x23d)]();await this['peerConnection'][_0xb81620(0x200)](new RTCSessionDescription({'type':_0xb81620(0x207),'sdp':_0x223804['sdp']}));const _0x4f16be=await this[_0xb81620(0x1f0)][_0xb81620(0x1f4)]();await this['peerConnection']['setLocalDescription'](_0x4f16be),this['send']({'type':'answer','roomId':this['roomId'],'sdp':_0x4f16be[_0xb81620(0x228)]});}catch(_0x2507fa){console[_0xb81620(0x243)]('Q-Chat:\x20Error\x20handling\x20offer:',_0x2507fa);}}async['handleAnswer'](_0x2871c1){const _0x43d966=_0x571262;try{await this[_0x43d966(0x1f0)][_0x43d966(0x200)](new RTCSessionDescription({'type':_0x43d966(0x225),'sdp':_0x2871c1['sdp']}));}catch(_0x4a34da){console['error'](_0x43d966(0x23e),_0x4a34da);}}async['handleIceCandidate'](_0x1ce74a){const _0x3c6b53=_0x571262;try{_0x1ce74a[_0x3c6b53(0x234)]&&this['peerConnection']&&(console[_0x3c6b53(0x239)]('Q-Chat:\x20Received\x20ICE\x20candidate:',_0x1ce74a['candidate']['candidate']?.['substring'](0x0,0x32)),await this[_0x3c6b53(0x1f0)][_0x3c6b53(0x20a)](new RTCIceCandidate(_0x1ce74a[_0x3c6b53(0x234)])));}catch(_0x2fd135){console[_0x3c6b53(0x243)]('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x2fd135);}}[_0x571262(0x204)](){const _0x4186eb=_0x571262;if(this[_0x4186eb(0x24f)])this[_0x4186eb(0x24f)]['style'][_0x4186eb(0x22a)]=_0x4186eb(0x1e1);if(this['roomInfoSection'])this[_0x4186eb(0x1f8)]['style'][_0x4186eb(0x22a)]='block';this[_0x4186eb(0x284)]();}['startMatrixSphereAnimation'](){const _0x3a6d7c=_0x571262,_0x177ef4=document['getElementById'](_0x3a6d7c(0x268)),_0x42b543=document['getElementById'](_0x3a6d7c(0x258)),_0x13861e=document['getElementById']('matrixSphereStatus'),_0x50c2a3=document[_0x3a6d7c(0x271)](_0x3a6d7c(0x25c)),_0x55425e=document['getElementById']('qchatWaiting');if(!_0x42b543||!_0x177ef4){if(this['roomCodeEl'])this['roomCodeEl'][_0x3a6d7c(0x1fc)]=this[_0x3a6d7c(0x212)];return;}this['createMatrixSphere'](_0x42b543);const _0x3d778b=[_0x3a6d7c(0x22c),_0x3a6d7c(0x222),'Establishing\x20Secure\x20Link...',_0x3a6d7c(0x274)];let _0x120357=0x0;const _0x48688f=setInterval(()=>{_0x120357++,_0x120357<_0x3d778b['length']&&_0x13861e&&(_0x13861e['textContent']=_0x3d778b[_0x120357]);},0x258);setTimeout(()=>{const _0x1d7dfe=_0x3a6d7c;clearInterval(_0x48688f),_0x42b543[_0x1d7dfe(0x277)]['add'](_0x1d7dfe(0x267));if(_0x13861e)_0x13861e[_0x1d7dfe(0x245)][_0x1d7dfe(0x22a)]='none';setTimeout(()=>{const _0x383a73=_0x1d7dfe;_0x177ef4[_0x383a73(0x245)]['display']='none';if(this['roomCodeEl'])this[_0x383a73(0x289)][_0x383a73(0x1fc)]=this[_0x383a73(0x212)];_0x50c2a3&&(_0x50c2a3['classList']['remove'](_0x383a73(0x25e)),_0x50c2a3['classList'][_0x383a73(0x236)]('reveal')),_0x55425e&&_0x55425e['classList'][_0x383a73(0x250)]('hidden');},0x320);},0x9c4);}[_0x571262(0x26a)](_0x214f65){const _0x89dc53=_0x571262;_0x214f65[_0x89dc53(0x238)]='';const _0x434036=0x78,_0x10f7b9=0x3c;for(let _0x2d2b62=0x0;_0x2d2b62<_0x434036;_0x2d2b62++){const _0x2a55d0=document[_0x89dc53(0x27f)]('span');_0x2a55d0['className']=_0x89dc53(0x294),_0x2a55d0['textContent']=Math[_0x89dc53(0x285)](Math['random']()*0xa);const _0x31bcf6=Math['acos'](0x1-0x2*(_0x2d2b62+0.5)/_0x434036),_0x2bd2ed=Math['PI']*(0x1+Math[_0x89dc53(0x1f5)](0x5))*_0x2d2b62,_0x4cd9dd=_0x10f7b9*Math[_0x89dc53(0x246)](_0x31bcf6)*Math[_0x89dc53(0x1e4)](_0x2bd2ed),_0x35c24a=_0x10f7b9*Math['sin'](_0x31bcf6)*Math[_0x89dc53(0x246)](_0x2bd2ed),_0x440881=_0x10f7b9*Math[_0x89dc53(0x1e4)](_0x31bcf6);_0x2a55d0['style']['transform']=_0x89dc53(0x217)+_0x4cd9dd+_0x89dc53(0x214)+_0x35c24a+_0x89dc53(0x214)+_0x440881+'px)',_0x2a55d0[_0x89dc53(0x245)][_0x89dc53(0x24e)]='50%',_0x2a55d0['style']['top']='50%',_0x2a55d0['style'][_0x89dc53(0x1f6)]='-7px',_0x2a55d0[_0x89dc53(0x245)]['marginTop']='-10px',_0x2a55d0[_0x89dc53(0x245)]['animationDelay']=Math[_0x89dc53(0x279)]()*0.5+'s';const _0x4904fa=0.4+(_0x440881+_0x10f7b9)/(0x2*_0x10f7b9)*0.6;_0x2a55d0['style']['opacity']=_0x4904fa,_0x214f65['appendChild'](_0x2a55d0);}this['digitChangeInterval']=setInterval(()=>{const _0xb7a4c9=_0x89dc53,_0x2bdb44=_0x214f65[_0xb7a4c9(0x203)]('.matrix-digit'),_0x37419c=_0x2bdb44[Math['floor'](Math['random']()*_0x2bdb44['length'])];_0x37419c&&(_0x37419c[_0xb7a4c9(0x1fc)]=Math[_0xb7a4c9(0x285)](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x10fc06=_0x89dc53;this[_0x10fc06(0x209)]&&clearInterval(this['digitChangeInterval']);},0xdac);}[_0x571262(0x223)](){const _0xe8a8e7=_0x571262;if(this['connectSection'])this['connectSection'][_0xe8a8e7(0x245)][_0xe8a8e7(0x22a)]='none';if(this[_0xe8a8e7(0x1f8)])this['roomInfoSection']['style'][_0xe8a8e7(0x22a)]=_0xe8a8e7(0x1e1);if(this['messagesSection'])this[_0xe8a8e7(0x28c)]['style']['display']='flex';if(this[_0xe8a8e7(0x26f)])this['inputSection'][_0xe8a8e7(0x245)]['display']='block';}[_0x571262(0x241)](){const _0x727d3a=_0x571262;this[_0x727d3a(0x256)]&&(this[_0x727d3a(0x256)][_0x727d3a(0x1fa)]=![],this[_0x727d3a(0x256)][_0x727d3a(0x22d)]());if(this[_0x727d3a(0x1df)])this[_0x727d3a(0x1df)][_0x727d3a(0x1fa)]=![];}['disableChat'](){const _0x207bc4=_0x571262;if(this[_0x207bc4(0x256)])this['messageInput']['disabled']=!![];if(this[_0x207bc4(0x1df)])this[_0x207bc4(0x1df)]['disabled']=!![];}[_0x571262(0x20e)](){const _0x13de02=_0x571262,_0x4a1cdc=this['messageInput']?.[_0x13de02(0x1dd)]['trim']();if(!_0x4a1cdc||!this[_0x13de02(0x286)])return;const _0x52420e={'type':_0x13de02(0x213),'text':_0x4a1cdc,'timestamp':Date['now']()};try{this[_0x13de02(0x1e3)]['send'](JSON['stringify'](_0x52420e)),this['addMessage'](_0x4a1cdc,'sent',_0x52420e[_0x13de02(0x23b)]),this['messageInput']['value']='';}catch(_0x5b05dc){console[_0x13de02(0x243)](_0x13de02(0x1ff),_0x5b05dc),this[_0x13de02(0x235)]('Failed\x20to\x20send\x20message');}}['receiveMessage'](_0x903dbc){const _0x26c57a=_0x571262;_0x903dbc[_0x26c57a(0x1d9)]==='message'&&(this[_0x26c57a(0x1e9)](_0x903dbc['text'],_0x26c57a(0x283),_0x903dbc['timestamp']),!this[_0x26c57a(0x1eb)]&&(this['unreadCount']++,this[_0x26c57a(0x26b)]()));}['addMessage'](_0x54172b,_0x2f8c1b,_0x2938ce){const _0x18331b=_0x571262,_0x1a9847=document['createElement']('div');_0x1a9847['className']='qchat-message\x20'+_0x2f8c1b;const _0x3e8ff9=new Date(_0x2938ce)[_0x18331b(0x218)]([],{'hour':_0x18331b(0x242),'minute':'2-digit'});_0x1a9847['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this['escapeHtml'](_0x54172b)+_0x18331b(0x25d)+(_0x2f8c1b==='sent'?'âœ“\x20':'')+_0x3e8ff9+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this['messagesList']?.[_0x18331b(0x1e0)](_0x1a9847),this[_0x18331b(0x221)]();}[_0x571262(0x235)](_0x5d77eb){const _0x16c391=_0x571262,_0x35c012=document[_0x16c391(0x27f)](_0x16c391(0x24c));_0x35c012['className']=_0x16c391(0x244),_0x35c012[_0x16c391(0x1fc)]=_0x5d77eb,this['messagesList']?.['appendChild'](_0x35c012),this['scrollToBottom']();}['scrollToBottom'](){const _0x56003d=_0x571262;this['messagesSection']&&(this['messagesSection'][_0x56003d(0x23a)]=this['messagesSection']['scrollHeight']);}['updateStatus'](_0x85711c,_0x28e997){const _0x2b25ce=_0x571262;if(this['statusEl']){this[_0x2b25ce(0x24a)]['className']='qchat-status\x20'+_0x85711c;const _0x256328=this['statusEl']['querySelector']('.status-text');if(_0x256328)_0x256328[_0x2b25ce(0x1fc)]=_0x28e997;}}[_0x571262(0x26b)](){const _0x466cc2=_0x571262;this[_0x466cc2(0x27e)]&&(this['unreadCount']>0x0?(this[_0x466cc2(0x27e)]['textContent']=this['unreadCount']>0x63?'99+':this['unreadCount'],this['badge'][_0x466cc2(0x245)]['display']=_0x466cc2(0x22b)):this['badge']['style']['display']=_0x466cc2(0x1e1));}['clearUnread'](){const _0x212736=_0x571262;this[_0x212736(0x28b)]=0x0,this['updateBadge']();}[_0x571262(0x205)](){const _0x28fec7=_0x571262;this['roomId']&&navigator['clipboard']['writeText'](this[_0x28fec7(0x212)])[_0x28fec7(0x237)](()=>{const _0x79cbb4=_0x28fec7;this[_0x79cbb4(0x235)](_0x79cbb4(0x1e2));})[_0x28fec7(0x26e)](()=>{const _0x4374b0=_0x28fec7,_0x328a75=document[_0x4374b0(0x27f)](_0x4374b0(0x224));_0x328a75[_0x4374b0(0x1dd)]=this[_0x4374b0(0x212)],document['body']['appendChild'](_0x328a75),_0x328a75[_0x4374b0(0x25f)](),document['execCommand']('copy'),document[_0x4374b0(0x21f)][_0x4374b0(0x20f)](_0x328a75),this[_0x4374b0(0x235)]('Room\x20code\x20copied!');});}[_0x571262(0x27b)](){const _0x5f0af9=_0x571262;this[_0x5f0af9(0x286)]=![],this[_0x5f0af9(0x266)]('disconnected','Disconnected'),this['disableChat']();}['escapeHtml'](_0x4cbd41){const _0x542bb5=_0x571262,_0x57766f=document['createElement'](_0x542bb5(0x24c));return _0x57766f[_0x542bb5(0x1fc)]=_0x4cbd41,_0x57766f['innerHTML'];}}function _0xd0e2(){const _0x414213=['onopen','Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:','11210654xIRwow','qchatRoomCodeSection','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','hidden','select','getWebSocketUrl','ice-candidate','click','Q-Chat:\x20WebSocket\x20error:','/ws','location','updateStatus','fade-out','matrixSphereContainer','Q-Chat\x20Server\x20Error:','createMatrixSphere','updateBadge','Establishing\x20P2P...','/api/turn-credentials','catch','inputSection','toUpperCase','getElementById','togglePanel','contains','Finalizing\x20Quantum\x20Code...','Joining...','keypress','classList','channel','random','addEventListener','handleDisconnect','isHost','oniceconnectionstatechange','badge','createElement','peer-left','createAndSendOffer','toggleBtn','received','startMatrixSphereAnimation','floor','isConnected','20aujvFJ','DOMContentLoaded','roomCodeEl','https:','unreadCount','messagesSection','room-joined','ws:','427976BaioUU','iceGatheringState','messagesList','Enter','createRoom','matrix-digit','qChat','type','Peer\x20disconnected','target','Q-Chat:\x20Offer\x20sent','value','active','sendBtn','appendChild','none','Room\x20code\x20copied!','dataChannel','cos','disableChat','6797240ZqzHMF','4680291GGOrPE','send','addMessage','charAt','isPanelOpen','Connection\x20failed','Q-Chat:\x20peer-joined\x20received,\x20isHost:','createOffer','initElements','peerConnection','handleOffer','shiftKey','joinBtn','createAnswer','sqrt','marginLeft','qchatRoomCode','roomInfoSection','2403420PLBbAm','disabled','setLocalDescription','textContent','qchat','Error','Q-Chat:\x20Error\x20sending\x20message:','setRemoteDescription','onmessage','createBtn','querySelectorAll','showRoomInfo','copyRoomCode','data','offer','1380776ybLYiY','digitChangeInterval','addIceCandidate','disconnected','qchatRoomInput','roomInput','sendMessage','removeChild','Q-Chat:\x20Connection\x20state:','qchatRoomInfo','roomId','message','px,\x20','onicecandidate','panel','translate3d(','toLocaleTimeString','Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:','Q-Chat:\x20Creating\x20and\x20sending\x20offer...','setupDataChannel','qchatCreate','connectToServer','qchatToggle','body','generateRoomId','scrollToBottom','Encrypting\x20Neural\x20Pathway...','showChatUI','textarea','answer','Error:\x20','joinRoom','sdp','Connection\x20setup\x20failed','display','flex','Generating\x20Quantum\x20Tunnel...','focus','parse','handleAnswer','Waiting\x20for\x20host...','onerror','105902AkpraP','qchatMessages','candidate','showSystemMessage','add','then','innerHTML','log','scrollTop','timestamp','13PFOXWM','initializeWebRTC','Q-Chat:\x20Error\x20handling\x20answer:','Joined\x20room!\x20Waiting\x20for\x20host...','stun:stun1.l.google.com:19302','enableChat','2-digit','error','qchat-system-message','style','sin','OPEN','Connecting...','Q-Chat:\x20Connecting\x20to:','statusEl','Q-Chat:\x20WebSocket\x20connected','div','qchatMessagesList','left','connectSection','remove','key','Secure\x20P2P','261lwVygs','room-created','qchatInputSection','messageInput','closePanel','matrixSphere'];_0xd0e2=function(){return _0x414213;};return _0xd0e2();}function _0x2a93(_0xf77be8,_0x66d56){_0xf77be8=_0xf77be8-0x1d8;const _0xd0e2dd=_0xd0e2();let _0x2a935b=_0xd0e2dd[_0xf77be8];return _0x2a935b;}document['addEventListener'](_0x571262(0x288),()=>{const _0x1c2912=_0x571262;window[_0x1c2912(0x1d8)]=new QChat();});