const _0x2430de=_0x21e3;function _0x21e3(_0x28bb42,_0x26d660){_0x28bb42=_0x28bb42-0xa5;const _0x46bdd7=_0x46bd();let _0x21e315=_0x46bdd7[_0x28bb42];return _0x21e315;}(function(_0x52a2e2,_0x15cc5c){const _0x1812ac=_0x21e3,_0x1f2f5f=_0x52a2e2();while(!![]){try{const _0x256b04=parseInt(_0x1812ac(0xbf))/0x1*(-parseInt(_0x1812ac(0xeb))/0x2)+parseInt(_0x1812ac(0x10f))/0x3+-parseInt(_0x1812ac(0x12a))/0x4+-parseInt(_0x1812ac(0xfe))/0x5*(-parseInt(_0x1812ac(0xbc))/0x6)+-parseInt(_0x1812ac(0x127))/0x7+-parseInt(_0x1812ac(0xee))/0x8*(-parseInt(_0x1812ac(0xf1))/0x9)+parseInt(_0x1812ac(0x157))/0xa*(parseInt(_0x1812ac(0x161))/0xb);if(_0x256b04===_0x15cc5c)break;else _0x1f2f5f['push'](_0x1f2f5f['shift']());}catch(_0x1801f0){_0x1f2f5f['push'](_0x1f2f5f['shift']());}}}(_0x46bd,0x3daab));class QChat{constructor(){const _0x4905a9=_0x21e3;this['ws']=null,this[_0x4905a9(0x142)]=null,this[_0x4905a9(0x163)]=null,this['roomId']=null,this[_0x4905a9(0xd3)]=![],this[_0x4905a9(0xae)]=![],this['unreadCount']=0x0,this['isPanelOpen']=![],this[_0x4905a9(0xcc)](),this['bindEvents']();}[_0x2430de(0xcc)](){const _0x132910=_0x2430de;this[_0x132910(0x147)]=document['getElementById'](_0x132910(0x10e)),this['toggleBtn']=document[_0x132910(0x153)]('qchatToggle'),this['closeBtn']=document[_0x132910(0x153)]('qchatClose'),this[_0x132910(0xd5)]=document[_0x132910(0x153)]('qchatBadge'),this[_0x132910(0xb1)]=document[_0x132910(0x153)](_0x132910(0xca)),this[_0x132910(0xc7)]=document['getElementById'](_0x132910(0x11a)),this[_0x132910(0x14f)]=document['getElementById'](_0x132910(0x159)),this[_0x132910(0xc0)]=document[_0x132910(0x153)]('qchatInputSection'),this['statusEl']=document['getElementById'](_0x132910(0x107)),this['roomCodeEl']=document[_0x132910(0x153)]('qchatRoomCode'),this[_0x132910(0xfc)]=document[_0x132910(0x153)]('qchatCreate'),this[_0x132910(0x111)]=document[_0x132910(0x153)](_0x132910(0xad)),this[_0x132910(0x10b)]=document['getElementById']('qchatCopyCode'),this[_0x132910(0xe2)]=document[_0x132910(0x153)](_0x132910(0xfa)),this['roomInput']=document[_0x132910(0x153)](_0x132910(0x151)),this[_0x132910(0x121)]=document['getElementById'](_0x132910(0x112)),this[_0x132910(0xe4)]=document[_0x132910(0x153)](_0x132910(0xc4));}[_0x2430de(0xe8)](){const _0x3308f4=_0x2430de;this[_0x3308f4(0xaa)]?.[_0x3308f4(0xf0)]('click',()=>this['togglePanel']()),this['closeBtn']?.['addEventListener']('click',()=>this['closePanel']()),this[_0x3308f4(0xfc)]?.['addEventListener'](_0x3308f4(0xe3),()=>this[_0x3308f4(0x15d)]()),this[_0x3308f4(0x111)]?.['addEventListener']('click',()=>this['joinRoom']()),this[_0x3308f4(0x15c)]?.['addEventListener']('keypress',_0x40dc79=>{const _0x22d026=_0x3308f4;if(_0x40dc79[_0x22d026(0x15f)]===_0x22d026(0xf3))this['joinRoom']();}),this[_0x3308f4(0x10b)]?.['addEventListener']('click',()=>this[_0x3308f4(0xfd)]()),this['sendBtn']?.[_0x3308f4(0xf0)]('click',()=>this[_0x3308f4(0xf7)]()),this['messageInput']?.['addEventListener'](_0x3308f4(0xab),_0x48b1d2=>{const _0x297c46=_0x3308f4;_0x48b1d2[_0x297c46(0x15f)]===_0x297c46(0xf3)&&!_0x48b1d2[_0x297c46(0x117)]&&(_0x48b1d2['preventDefault'](),this['sendMessage']());}),document[_0x3308f4(0xf0)](_0x3308f4(0xe3),_0x39b533=>{const _0x27dab8=_0x3308f4;this['isPanelOpen']&&!this[_0x27dab8(0x147)]?.['contains'](_0x39b533[_0x27dab8(0xd2)])&&!this[_0x27dab8(0xaa)]?.['contains'](_0x39b533[_0x27dab8(0xd2)])&&this[_0x27dab8(0xd9)]();});}[_0x2430de(0xa5)](){const _0x14d7a1=_0x2430de;this[_0x14d7a1(0x100)]?this[_0x14d7a1(0xd9)]():this[_0x14d7a1(0xd4)]();}['openPanel'](){const _0xedf4b8=_0x2430de;this['panel']?.[_0xedf4b8(0xbb)]['add']('open'),this['toggleBtn']?.['classList'][_0xedf4b8(0xb3)](_0xedf4b8(0xb2)),this[_0xedf4b8(0x100)]=!![],this['clearUnread']();}['closePanel'](){const _0x5ca809=_0x2430de;this['panel']?.[_0x5ca809(0xbb)][_0x5ca809(0xc8)]('open'),this[_0x5ca809(0xaa)]?.[_0x5ca809(0xbb)][_0x5ca809(0xc8)](_0x5ca809(0xb2)),this['isPanelOpen']=![];}[_0x2430de(0x156)](){const _0x383775=_0x2430de,_0x98b3df='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x21e930='';for(let _0x29b4bb=0x0;_0x29b4bb<0x6;_0x29b4bb++){_0x21e930+=_0x98b3df['charAt'](Math['floor'](Math[_0x383775(0xe1)]()*_0x98b3df['length']));}return _0x21e930;}['getWebSocketUrl'](){const _0xde7d1e=_0x2430de,_0x49bc3f=window[_0xde7d1e(0x164)]['protocol']==='https:'?'wss:':_0xde7d1e(0xf8);return _0x49bc3f+'//'+window['location']['host']+_0xde7d1e(0x118);}async['connectToServer'](){return new Promise((_0x231b9e,_0x962da8)=>{const _0x5d53af=_0x21e3,_0x16b174=this[_0x5d53af(0xbd)]();console[_0x5d53af(0x145)](_0x5d53af(0x11c),_0x16b174),this['ws']=new WebSocket(_0x16b174),this['ws'][_0x5d53af(0x13f)]=()=>{console['log']('Q-Chat:\x20WebSocket\x20connected'),_0x231b9e();},this['ws'][_0x5d53af(0xcb)]=_0x1bddc6=>{console['error']('Q-Chat:\x20WebSocket\x20error:',_0x1bddc6),_0x962da8(_0x1bddc6);},this['ws']['onclose']=()=>{const _0x4376c5=_0x5d53af;console['log']('Q-Chat:\x20WebSocket\x20closed'),this[_0x4376c5(0x10d)]();},this['ws'][_0x5d53af(0x125)]=_0x1a8c31=>{const _0x249cab=_0x5d53af,_0x3926de=JSON[_0x249cab(0x106)](_0x1a8c31[_0x249cab(0x10a)]);console['log'](_0x249cab(0xc2),_0x3926de[_0x249cab(0x13c)],_0x3926de),this[_0x249cab(0xdf)](_0x3926de);};});}[_0x2430de(0xf2)](_0x2fa7b7){const _0x26a515=_0x2430de;this['ws']&&this['ws'][_0x26a515(0x154)]===WebSocket[_0x26a515(0x152)]&&this['ws']['send'](JSON['stringify'](_0x2fa7b7));}async['createRoom'](){const _0x2155c9=_0x2430de;this[_0x2155c9(0xd3)]=!![],this[_0x2155c9(0xcf)]=this[_0x2155c9(0x156)](),this[_0x2155c9(0x12b)]('connecting','Connecting...');try{await this[_0x2155c9(0x119)](),this['send']({'type':_0x2155c9(0x108),'roomId':this[_0x2155c9(0xcf)]});}catch(_0x3b417a){this['showSystemMessage'](_0x2155c9(0x12c)),this['updateStatus']('disconnected','Connection\x20failed');}}async[_0x2430de(0x11f)](){const _0x6096db=_0x2430de,_0x54493e=this['roomInput']?.[_0x6096db(0x141)]['trim']()[_0x6096db(0x146)]();if(!_0x54493e||_0x54493e['length']<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this['isHost']=![],this[_0x6096db(0xcf)]=_0x54493e,this['updateStatus'](_0x6096db(0xda),'Joining...');try{await this['connectToServer'](),this['send']({'type':_0x6096db(0xe9),'roomId':this['roomId']});}catch(_0x533643){this['showSystemMessage'](_0x6096db(0x12c)),this['updateStatus'](_0x6096db(0xa8),_0x6096db(0x144));}}async['handleSignalingMessage'](_0x4fdf86){const _0x467e1e=_0x2430de;switch(_0x4fdf86[_0x467e1e(0x13c)]){case _0x467e1e(0xc9):this[_0x467e1e(0x103)](),this['updateStatus']('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage']('Joined\x20room!\x20Waiting\x20for\x20host...'),this['updateStatus']('connecting',_0x467e1e(0xd6));break;case'peer-joined':console[_0x467e1e(0x145)]('Q-Chat:\x20peer-joined\x20received,\x20isHost:',this[_0x467e1e(0xd3)]),this[_0x467e1e(0xe6)](_0x467e1e(0xb6)),this['updateStatus']('connecting',_0x467e1e(0xa6));try{await this[_0x467e1e(0x133)](),console['log']('Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:',!!this[_0x467e1e(0x142)]),this[_0x467e1e(0xd3)]&&(console['log']('Q-Chat:\x20Creating\x20and\x20sending\x20offer...'),await this[_0x467e1e(0x160)](),console['log']('Q-Chat:\x20Offer\x20sent'));}catch(_0x2bd0f9){console[_0x467e1e(0x15e)]('Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:',_0x2bd0f9),this['showSystemMessage'](_0x467e1e(0xb4)),this[_0x467e1e(0x12b)](_0x467e1e(0xa8),_0x467e1e(0xac));}break;case'peer-left':this[_0x467e1e(0xe6)]('Peer\x20disconnected'),this['updateStatus']('disconnected','Peer\x20left'),this[_0x467e1e(0xce)]();break;case _0x467e1e(0x138):await this[_0x467e1e(0xef)](_0x4fdf86);break;case _0x467e1e(0xcd):await this['handleAnswer'](_0x4fdf86);break;case _0x467e1e(0x110):await this[_0x467e1e(0x13d)](_0x4fdf86);break;case _0x467e1e(0x15e):this['showSystemMessage']('Error:\x20'+_0x4fdf86[_0x467e1e(0x126)]),this[_0x467e1e(0x12b)](_0x467e1e(0xa8),_0x467e1e(0xfb)),console['error'](_0x467e1e(0x120),_0x4fdf86['message']);break;}}async[_0x2430de(0x133)](){const _0x37eb47=_0x2430de,_0x1b0f5a=[{'urls':_0x37eb47(0x134)},{'urls':'stun:stun1.l.google.com:19302'}];let _0x208d15=_0x1b0f5a;try{const _0xff25f=await fetch('/api/turn-credentials'),_0x34a794=await _0xff25f[_0x37eb47(0xff)]();Array['isArray'](_0x34a794)&&_0x34a794['length']>0x0?(_0x208d15=_0x34a794,console['log'](_0x37eb47(0xd1))):console[_0x37eb47(0x145)]('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x21ae04){console['log'](_0x37eb47(0xc5));}const _0x1825a0={'iceServers':_0x208d15};this[_0x37eb47(0x142)]=new RTCPeerConnection(_0x1825a0),this['peerConnection']['onicecandidate']=_0x3225e4=>{const _0x18826a=_0x37eb47;_0x3225e4[_0x18826a(0xec)]?(console[_0x18826a(0x145)](_0x18826a(0xb7),_0x3225e4[_0x18826a(0xec)][_0x18826a(0xec)]['substring'](0x0,0x32)),this[_0x18826a(0xf2)]({'type':_0x18826a(0x110),'roomId':this[_0x18826a(0xcf)],'candidate':_0x3225e4['candidate']})):console['log']('Q-Chat:\x20ICE\x20gathering\x20complete');},this['peerConnection'][_0x37eb47(0x143)]=()=>{const _0x28230c=_0x37eb47;console[_0x28230c(0x145)]('Q-Chat:\x20ICE\x20connection\x20state:',this['peerConnection'][_0x28230c(0x130)]);},this[_0x37eb47(0x142)]['onicegatheringstatechange']=()=>{console['log']('Q-Chat:\x20ICE\x20gathering\x20state:',this['peerConnection']['iceGatheringState']);},this['peerConnection']['onconnectionstatechange']=()=>{const _0x546339=_0x37eb47,_0x25c0d8=this['peerConnection']['connectionState'];console[_0x546339(0x145)]('Q-Chat:\x20Connection\x20state:',_0x25c0d8);if(_0x25c0d8==='connected')this['updateStatus']('connected',_0x546339(0xdd)),this[_0x546339(0xe6)]('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x25c0d8==='disconnected'||_0x25c0d8==='failed')&&(this[_0x546339(0x12b)]('disconnected',_0x546339(0xdc)),this[_0x546339(0xce)]());},this['isHost']?(this[_0x37eb47(0x163)]=this[_0x37eb47(0x142)][_0x37eb47(0xe5)]('qchat',{'ordered':!![]}),this['setupDataChannel']()):this[_0x37eb47(0x142)]['ondatachannel']=_0x2b034a=>{const _0x170f8e=_0x37eb47;this[_0x170f8e(0x163)]=_0x2b034a[_0x170f8e(0xe0)],this[_0x170f8e(0x148)]();};}[_0x2430de(0x148)](){const _0xc1cda7=_0x2430de;this['dataChannel'][_0xc1cda7(0x13f)]=()=>{const _0x317612=_0xc1cda7;console['log']('Q-Chat:\x20Data\x20channel\x20open'),this[_0x317612(0xae)]=!![],this[_0x317612(0xf9)](),this['showChatUI']();},this[_0xc1cda7(0x163)]['onclose']=()=>{const _0x549194=_0xc1cda7;console['log'](_0x549194(0xb9)),this[_0x549194(0xae)]=![],this[_0x549194(0xce)]();},this[_0xc1cda7(0x163)]['onmessage']=_0x59e45b=>{const _0x3119ee=JSON['parse'](_0x59e45b['data']);this['receiveMessage'](_0x3119ee);};}async[_0x2430de(0x160)](){const _0x36e548=_0x2430de;try{const _0x146a1f=await this[_0x36e548(0x142)]['createOffer']();await this['peerConnection']['setLocalDescription'](_0x146a1f),this[_0x36e548(0xf2)]({'type':'offer','roomId':this['roomId'],'sdp':_0x146a1f['sdp']});}catch(_0x3cd24e){console['error']('Q-Chat:\x20Error\x20creating\x20offer:',_0x3cd24e);}}async['handleOffer'](_0x450f3e){const _0x2f063b=_0x2430de;try{!this['peerConnection']&&await this['initializeWebRTC']();await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x450f3e[_0x2f063b(0x15a)]}));const _0x1ee2af=await this[_0x2f063b(0x142)]['createAnswer']();await this['peerConnection']['setLocalDescription'](_0x1ee2af),this[_0x2f063b(0xf2)]({'type':'answer','roomId':this[_0x2f063b(0xcf)],'sdp':_0x1ee2af[_0x2f063b(0x15a)]});}catch(_0x4956ac){console['error']('Q-Chat:\x20Error\x20handling\x20offer:',_0x4956ac);}}async[_0x2430de(0x135)](_0x16324b){const _0x585f5e=_0x2430de;try{await this['peerConnection'][_0x585f5e(0xd0)](new RTCSessionDescription({'type':'answer','sdp':_0x16324b['sdp']}));}catch(_0x1b053c){console['error']('Q-Chat:\x20Error\x20handling\x20answer:',_0x1b053c);}}async['handleIceCandidate'](_0x5db16f){const _0x38b059=_0x2430de;try{_0x5db16f[_0x38b059(0xec)]&&this[_0x38b059(0x142)]&&(console[_0x38b059(0x145)]('Q-Chat:\x20Received\x20ICE\x20candidate:',_0x5db16f['candidate']['candidate']?.['substring'](0x0,0x32)),await this[_0x38b059(0x142)]['addIceCandidate'](new RTCIceCandidate(_0x5db16f[_0x38b059(0xec)])));}catch(_0xcbdbd1){console['error'](_0x38b059(0xba),_0xcbdbd1);}}[_0x2430de(0x103)](){const _0xbfc295=_0x2430de;if(this[_0xbfc295(0xb1)])this[_0xbfc295(0xb1)]['style'][_0xbfc295(0x137)]=_0xbfc295(0x149);if(this['roomInfoSection'])this[_0xbfc295(0xc7)]['style'][_0xbfc295(0x137)]='block';this[_0xbfc295(0x12f)]();}['startMatrixSphereAnimation'](){const _0x2161a1=_0x2430de,_0x58c6b4=document['getElementById']('matrixSphereContainer'),_0x236ebd=document[_0x2161a1(0x153)](_0x2161a1(0xd8)),_0x89e2ee=document['getElementById']('matrixSphereStatus'),_0x414cef=document['getElementById'](_0x2161a1(0x14a)),_0xe87d0e=document['getElementById'](_0x2161a1(0x104));if(!_0x236ebd||!_0x58c6b4){if(this[_0x2161a1(0xe7)])this[_0x2161a1(0xe7)]['textContent']=this[_0x2161a1(0xcf)];return;}this['createMatrixSphere'](_0x236ebd);const _0x14c1b1=[_0x2161a1(0x129),'Encrypting\x20Neural\x20Pathway...','Establishing\x20Secure\x20Link...','Finalizing\x20Quantum\x20Code...'];let _0x337e9a=0x0;const _0x15de69=setInterval(()=>{const _0x1147a9=_0x2161a1;_0x337e9a++,_0x337e9a<_0x14c1b1[_0x1147a9(0x14d)]&&_0x89e2ee&&(_0x89e2ee['textContent']=_0x14c1b1[_0x337e9a]);},0x258);setTimeout(()=>{const _0x4b2111=_0x2161a1;clearInterval(_0x15de69),_0x236ebd['classList'][_0x4b2111(0xb3)]('fade-out');if(_0x89e2ee)_0x89e2ee['style'][_0x4b2111(0x137)]=_0x4b2111(0x149);setTimeout(()=>{const _0x327858=_0x4b2111;_0x58c6b4[_0x327858(0xf4)]['display']='none';if(this[_0x327858(0xe7)])this[_0x327858(0xe7)]['textContent']=this['roomId'];_0x414cef&&(_0x414cef[_0x327858(0xbb)][_0x327858(0xc8)](_0x327858(0x105)),_0x414cef[_0x327858(0xbb)]['add'](_0x327858(0x162))),_0xe87d0e&&_0xe87d0e[_0x327858(0xbb)]['remove'](_0x327858(0x105));},0x320);},0x9c4);}[_0x2430de(0xb5)](_0x51fe97){const _0x270ada=_0x2430de;_0x51fe97[_0x270ada(0x155)]='';const _0x3dfe7f=0x78,_0x471977=0x3c;for(let _0xc65e96=0x0;_0xc65e96<_0x3dfe7f;_0xc65e96++){const _0x5c03bf=document[_0x270ada(0x10c)](_0x270ada(0x11d));_0x5c03bf[_0x270ada(0x12e)]=_0x270ada(0x140),_0x5c03bf[_0x270ada(0x132)]=Math[_0x270ada(0xf5)](Math[_0x270ada(0xe1)]()*0xa);const _0x5a97e6=Math['acos'](0x1-0x2*(_0xc65e96+0.5)/_0x3dfe7f),_0x4070ec=Math['PI']*(0x1+Math['sqrt'](0x5))*_0xc65e96,_0x3534b3=_0x471977*Math[_0x270ada(0xf6)](_0x5a97e6)*Math['cos'](_0x4070ec),_0x39effb=_0x471977*Math['sin'](_0x5a97e6)*Math['sin'](_0x4070ec),_0x50b0a5=_0x471977*Math['cos'](_0x5a97e6);_0x5c03bf[_0x270ada(0xf4)][_0x270ada(0xdb)]='translate3d('+_0x3534b3+_0x270ada(0xa9)+_0x39effb+'px,\x20'+_0x50b0a5+'px)',_0x5c03bf[_0x270ada(0xf4)][_0x270ada(0x11e)]=_0x270ada(0xde),_0x5c03bf[_0x270ada(0xf4)][_0x270ada(0xea)]=_0x270ada(0xde),_0x5c03bf[_0x270ada(0xf4)][_0x270ada(0x115)]='-7px',_0x5c03bf['style']['marginTop']='-10px',_0x5c03bf['style']['animationDelay']=Math[_0x270ada(0xe1)]()*0.5+'s';const _0x398460=0.4+(_0x50b0a5+_0x471977)/(0x2*_0x471977)*0.6;_0x5c03bf['style'][_0x270ada(0x139)]=_0x398460,_0x51fe97[_0x270ada(0xc1)](_0x5c03bf);}this[_0x270ada(0x13b)]=setInterval(()=>{const _0x32ce13=_0x270ada,_0x4492aa=_0x51fe97['querySelectorAll'](_0x32ce13(0xaf)),_0x582906=_0x4492aa[Math[_0x32ce13(0xf5)](Math[_0x32ce13(0xe1)]()*_0x4492aa[_0x32ce13(0x14d)])];_0x582906&&(_0x582906[_0x32ce13(0x132)]=Math['floor'](Math[_0x32ce13(0xe1)]()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0x24475f=_0x2430de;if(this[_0x24475f(0xb1)])this['connectSection'][_0x24475f(0xf4)]['display']='none';if(this[_0x24475f(0xc7)])this['roomInfoSection'][_0x24475f(0xf4)][_0x24475f(0x137)]=_0x24475f(0x149);if(this[_0x24475f(0x14f)])this['messagesSection']['style'][_0x24475f(0x137)]=_0x24475f(0xc6);if(this[_0x24475f(0xc0)])this['inputSection'][_0x24475f(0xf4)]['display']='block';}[_0x2430de(0xf9)](){const _0x364bf7=_0x2430de;this[_0x364bf7(0x121)]&&(this['messageInput'][_0x364bf7(0x13a)]=![],this['messageInput']['focus']());if(this[_0x364bf7(0xe2)])this['sendBtn']['disabled']=![];}[_0x2430de(0xce)](){const _0x5eb06f=_0x2430de;if(this['messageInput'])this[_0x5eb06f(0x121)]['disabled']=!![];if(this[_0x5eb06f(0xe2)])this[_0x5eb06f(0xe2)][_0x5eb06f(0x13a)]=!![];}['sendMessage'](){const _0x40f4ab=_0x2430de,_0x1b2e8f=this['messageInput']?.[_0x40f4ab(0x141)]['trim']();if(!_0x1b2e8f||!this[_0x40f4ab(0xae)])return;const _0x3cdde2={'type':_0x40f4ab(0x126),'text':_0x1b2e8f,'timestamp':Date['now']()};try{this[_0x40f4ab(0x163)]['send'](JSON[_0x40f4ab(0x11b)](_0x3cdde2)),this['addMessage'](_0x1b2e8f,'sent',_0x3cdde2['timestamp']),this['messageInput']['value']='';}catch(_0x5ad2df){console['error']('Q-Chat:\x20Error\x20sending\x20message:',_0x5ad2df),this[_0x40f4ab(0xe6)](_0x40f4ab(0x114));}}['receiveMessage'](_0x452b4f){const _0x433c0c=_0x2430de;_0x452b4f[_0x433c0c(0x13c)]===_0x433c0c(0x126)&&(this[_0x433c0c(0x13e)](_0x452b4f['text'],_0x433c0c(0xc3),_0x452b4f['timestamp']),!this['isPanelOpen']&&(this[_0x433c0c(0x123)]++,this['updateBadge']()));}['addMessage'](_0x186700,_0x96efeb,_0x432e77){const _0x24d031=_0x2430de,_0x52c61e=document['createElement'](_0x24d031(0x136));_0x52c61e[_0x24d031(0x12e)]=_0x24d031(0x14c)+_0x96efeb;const _0x28b612=new Date(_0x432e77)['toLocaleTimeString']([],{'hour':_0x24d031(0x12d),'minute':'2-digit'});_0x52c61e[_0x24d031(0x155)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this[_0x24d031(0x109)](_0x186700)+_0x24d031(0x102)+(_0x96efeb===_0x24d031(0x101)?'âœ“\x20':'')+_0x28b612+_0x24d031(0x124),this[_0x24d031(0xe4)]?.['appendChild'](_0x52c61e),this[_0x24d031(0xb0)]();}[_0x2430de(0xe6)](_0x232aab){const _0x16f0b2=_0x2430de,_0x4ace81=document['createElement']('div');_0x4ace81[_0x16f0b2(0x12e)]=_0x16f0b2(0x113),_0x4ace81['textContent']=_0x232aab,this[_0x16f0b2(0xe4)]?.[_0x16f0b2(0xc1)](_0x4ace81),this['scrollToBottom']();}[_0x2430de(0xb0)](){const _0x11014=_0x2430de;this['messagesSection']&&(this[_0x11014(0x14f)][_0x11014(0xb8)]=this['messagesSection'][_0x11014(0xd7)]);}[_0x2430de(0x12b)](_0x22d9cf,_0x6163da){const _0x6ba02c=_0x2430de;if(this['statusEl']){this[_0x6ba02c(0x116)][_0x6ba02c(0x12e)]='qchat-status\x20'+_0x22d9cf;const _0x144b81=this['statusEl']['querySelector']('.status-text');if(_0x144b81)_0x144b81[_0x6ba02c(0x132)]=_0x6163da;}}[_0x2430de(0x131)](){const _0x45b9a6=_0x2430de;this['badge']&&(this[_0x45b9a6(0x123)]>0x0?(this[_0x45b9a6(0xd5)][_0x45b9a6(0x132)]=this['unreadCount']>0x63?_0x45b9a6(0x122):this[_0x45b9a6(0x123)],this[_0x45b9a6(0xd5)]['style'][_0x45b9a6(0x137)]='flex'):this['badge'][_0x45b9a6(0xf4)][_0x45b9a6(0x137)]=_0x45b9a6(0x149));}[_0x2430de(0xed)](){const _0x22dd8b=_0x2430de;this[_0x22dd8b(0x123)]=0x0,this['updateBadge']();}['copyRoomCode'](){const _0x5b771f=_0x2430de;this[_0x5b771f(0xcf)]&&navigator[_0x5b771f(0x15b)]['writeText'](this['roomId'])['then'](()=>{const _0xfbd2bc=_0x5b771f;this[_0xfbd2bc(0xe6)](_0xfbd2bc(0x14b));})['catch'](()=>{const _0x9a8740=_0x5b771f,_0x4f9f99=document['createElement'](_0x9a8740(0xbe));_0x4f9f99['value']=this['roomId'],document['body']['appendChild'](_0x4f9f99),_0x4f9f99[_0x9a8740(0xa7)](),document['execCommand'](_0x9a8740(0x158)),document['body'][_0x9a8740(0x128)](_0x4f9f99),this[_0x9a8740(0xe6)]('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x1881f3=_0x2430de;this['isConnected']=![],this[_0x1881f3(0x12b)]('disconnected',_0x1881f3(0xdc)),this['disableChat']();}[_0x2430de(0x109)](_0x37a879){const _0x3dc79b=_0x2430de,_0xfd2201=document['createElement'](_0x3dc79b(0x136));return _0xfd2201['textContent']=_0x37a879,_0xfd2201['innerHTML'];}}function _0x46bd(){const _0x1e0d68=['scrollToBottom','connectSection','active','add','Connection\x20setup\x20failed','createMatrixSphere','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','Q-Chat:\x20Sending\x20ICE\x20candidate:','scrollTop','Q-Chat:\x20Data\x20channel\x20closed','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','classList','6NvrQjV','getWebSocketUrl','textarea','8yvwqJi','inputSection','appendChild','Q-Chat:\x20Received\x20message:','received','qchatMessagesList','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','flex','roomInfoSection','remove','room-created','qchatConnect','onerror','initElements','answer','disableChat','roomId','setRemoteDescription','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal','target','isHost','openPanel','badge','Waiting\x20for\x20host...','scrollHeight','matrixSphere','closePanel','connecting','transform','Disconnected','Secure\x20P2P','50%','handleSignalingMessage','channel','random','sendBtn','click','messagesList','createDataChannel','showSystemMessage','roomCodeEl','bindEvents','join-room','top','112534EgChAe','candidate','clearUnread','177488XQrwal','handleOffer','addEventListener','27NLHcgb','send','Enter','style','floor','sin','sendMessage','ws:','enableChat','qchatSendBtn','Error','createBtn','copyRoomCode','1566395PYvxVP','json','isPanelOpen','sent','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','showRoomInfo','qchatWaiting','hidden','parse','qchatStatus','create-room','escapeHtml','data','copyCodeBtn','createElement','handleDisconnect','qchatPanel','362868PJdYbo','ice-candidate','joinBtn','qchatMessageInput','qchat-system-message','Failed\x20to\x20send\x20message','marginLeft','statusEl','shiftKey','/ws','connectToServer','qchatRoomInfo','stringify','Q-Chat:\x20Connecting\x20to:','span','left','joinRoom','Q-Chat\x20Server\x20Error:','messageInput','99+','unreadCount','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','onmessage','message','2809037sPKsKq','removeChild','Generating\x20Quantum\x20Tunnel...','783716mhpPPh','updateStatus','Failed\x20to\x20connect\x20to\x20server','2-digit','className','startMatrixSphereAnimation','iceConnectionState','updateBadge','textContent','initializeWebRTC','stun:stun.l.google.com:19302','handleAnswer','div','display','offer','opacity','disabled','digitChangeInterval','type','handleIceCandidate','addMessage','onopen','matrix-digit','value','peerConnection','oniceconnectionstatechange','Connection\x20failed','log','toUpperCase','panel','setupDataChannel','none','qchatRoomCodeSection','Room\x20code\x20copied!','qchat-message\x20','length','qChat','messagesSection','DOMContentLoaded','qchatRoomInput','OPEN','getElementById','readyState','innerHTML','generateRoomId','550SEqEgy','copy','qchatMessages','sdp','clipboard','roomInput','createRoom','error','key','createAndSendOffer','159830Vgvtwi','reveal','dataChannel','location','togglePanel','Establishing\x20P2P...','select','disconnected','px,\x20','toggleBtn','keypress','Setup\x20failed','qchatJoin','isConnected','.matrix-digit'];_0x46bd=function(){return _0x1e0d68;};return _0x46bd();}document['addEventListener'](_0x2430de(0x150),()=>{const _0x22c86a=_0x2430de;window[_0x22c86a(0x14e)]=new QChat();});