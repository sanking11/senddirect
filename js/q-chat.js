function _0x5b6c(_0x2084f7,_0x3d51e5){_0x2084f7=_0x2084f7-0xa8;const _0x2bf4cc=_0x2bf4();let _0x5b6ca8=_0x2bf4cc[_0x2084f7];return _0x5b6ca8;}const _0x5129dc=_0x5b6c;(function(_0x54679b,_0x3a32b7){const _0x2d6528=_0x5b6c,_0xf14005=_0x54679b();while(!![]){try{const _0x1b7c86=parseInt(_0x2d6528(0xc9))/0x1+-parseInt(_0x2d6528(0xeb))/0x2*(parseInt(_0x2d6528(0x114))/0x3)+-parseInt(_0x2d6528(0xc7))/0x4*(parseInt(_0x2d6528(0x122))/0x5)+-parseInt(_0x2d6528(0xb9))/0x6+parseInt(_0x2d6528(0xcf))/0x7*(-parseInt(_0x2d6528(0x11d))/0x8)+-parseInt(_0x2d6528(0x148))/0x9+parseInt(_0x2d6528(0x15d))/0xa;if(_0x1b7c86===_0x3a32b7)break;else _0xf14005['push'](_0xf14005['shift']());}catch(_0x7a6168){_0xf14005['push'](_0xf14005['shift']());}}}(_0x2bf4,0x53241));class QChat{constructor(){const _0x4c07f8=_0x5b6c;this['ws']=null,this[_0x4c07f8(0x131)]=null,this[_0x4c07f8(0x15c)]=null,this['roomId']=null,this[_0x4c07f8(0x154)]=![],this[_0x4c07f8(0xda)]=![],this[_0x4c07f8(0xba)]=0x0,this['isPanelOpen']=![],this[_0x4c07f8(0x107)](),this['bindEvents']();}[_0x5129dc(0x107)](){const _0x49cecd=_0x5129dc;this['panel']=document['getElementById'](_0x49cecd(0xbe)),this[_0x49cecd(0x14d)]=document[_0x49cecd(0x123)](_0x49cecd(0x15e)),this['closeBtn']=document['getElementById']('qchatClose'),this[_0x49cecd(0x130)]=document[_0x49cecd(0x123)]('qchatBadge'),this['connectSection']=document[_0x49cecd(0x123)]('qchatConnect'),this[_0x49cecd(0xe8)]=document['getElementById'](_0x49cecd(0x158)),this[_0x49cecd(0x149)]=document[_0x49cecd(0x123)](_0x49cecd(0x14a)),this[_0x49cecd(0x11f)]=document['getElementById'](_0x49cecd(0xbf)),this['statusEl']=document['getElementById']('qchatStatus'),this['roomCodeEl']=document[_0x49cecd(0x123)](_0x49cecd(0xef)),this['createBtn']=document['getElementById'](_0x49cecd(0x10e)),this['joinBtn']=document[_0x49cecd(0x123)](_0x49cecd(0x139)),this[_0x49cecd(0xe0)]=document['getElementById'](_0x49cecd(0xec)),this[_0x49cecd(0xe2)]=document['getElementById']('qchatSendBtn'),this['roomInput']=document[_0x49cecd(0x123)](_0x49cecd(0xce)),this['messageInput']=document['getElementById']('qchatMessageInput'),this[_0x49cecd(0x137)]=document['getElementById']('qchatMessagesList');}[_0x5129dc(0x133)](){const _0x2410e1=_0x5129dc;this[_0x2410e1(0x14d)]?.['addEventListener']('click',()=>this[_0x2410e1(0xc3)]()),this[_0x2410e1(0x14e)]?.['addEventListener'](_0x2410e1(0x120),()=>this['closePanel']()),this['createBtn']?.['addEventListener'](_0x2410e1(0x120),()=>this['createRoom']()),this['joinBtn']?.['addEventListener'](_0x2410e1(0x120),()=>this['joinRoom']()),this['roomInput']?.[_0x2410e1(0xf3)]('keypress',_0x1c86d3=>{const _0x5b6de0=_0x2410e1;if(_0x1c86d3[_0x5b6de0(0x143)]==='Enter')this[_0x5b6de0(0x142)]();}),this['copyCodeBtn']?.[_0x2410e1(0xf3)]('click',()=>this['copyRoomCode']()),this[_0x2410e1(0xe2)]?.['addEventListener']('click',()=>this[_0x2410e1(0x110)]()),this[_0x2410e1(0x11e)]?.[_0x2410e1(0xf3)]('keypress',_0x43dda6=>{const _0x4e0eb8=_0x2410e1;_0x43dda6[_0x4e0eb8(0x143)]==='Enter'&&!_0x43dda6[_0x4e0eb8(0x10d)]&&(_0x43dda6[_0x4e0eb8(0x134)](),this['sendMessage']());}),document[_0x2410e1(0xf3)]('click',_0x369da6=>{const _0x497eed=_0x2410e1;this['isPanelOpen']&&!this[_0x497eed(0x104)]?.[_0x497eed(0x115)](_0x369da6['target'])&&!this[_0x497eed(0x14d)]?.[_0x497eed(0x115)](_0x369da6[_0x497eed(0xf5)])&&this['closePanel']();});}[_0x5129dc(0xc3)](){const _0x6340d4=_0x5129dc;this['isPanelOpen']?this[_0x6340d4(0xb4)]():this['openPanel']();}['openPanel'](){const _0x3beb58=_0x5129dc;this['panel']?.[_0x3beb58(0x159)][_0x3beb58(0xc1)](_0x3beb58(0xd4)),this[_0x3beb58(0x14d)]?.['classList']['add'](_0x3beb58(0xd9)),this[_0x3beb58(0x10f)]=!![],this['clearUnread']();}[_0x5129dc(0xb4)](){const _0x1230eb=_0x5129dc;this[_0x1230eb(0x104)]?.[_0x1230eb(0x159)]['remove'](_0x1230eb(0xd4)),this[_0x1230eb(0x14d)]?.[_0x1230eb(0x159)]['remove'](_0x1230eb(0xd9)),this[_0x1230eb(0x10f)]=![];}['generateRoomId'](){const _0x3f3caa=_0x5129dc,_0xc47019='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x2be703='';for(let _0x4dc664=0x0;_0x4dc664<0x6;_0x4dc664++){_0x2be703+=_0xc47019[_0x3f3caa(0xdd)](Math['floor'](Math['random']()*_0xc47019['length']));}return _0x2be703;}['getWebSocketUrl'](){const _0x2fb2d9=_0x5129dc,_0x2c8022=window[_0x2fb2d9(0x155)][_0x2fb2d9(0xd1)]==='https:'?_0x2fb2d9(0x12f):_0x2fb2d9(0x13f);return _0x2c8022+'//'+window[_0x2fb2d9(0x155)][_0x2fb2d9(0x141)]+_0x2fb2d9(0xf4);}async[_0x5129dc(0xe7)](){return new Promise((_0x12d9ad,_0x650bc0)=>{const _0x2eeccb=_0x5b6c,_0x2d31b3=this['getWebSocketUrl']();console[_0x2eeccb(0xd8)]('Q-Chat:\x20Connecting\x20to:',_0x2d31b3),this['ws']=new WebSocket(_0x2d31b3),this['ws'][_0x2eeccb(0x135)]=()=>{const _0x38585d=_0x2eeccb;console[_0x38585d(0xd8)]('Q-Chat:\x20WebSocket\x20connected'),_0x12d9ad();},this['ws'][_0x2eeccb(0x119)]=_0x335a9e=>{console['error']('Q-Chat:\x20WebSocket\x20error:',_0x335a9e),_0x650bc0(_0x335a9e);},this['ws']['onclose']=()=>{const _0x56e4f1=_0x2eeccb;console['log'](_0x56e4f1(0x103)),this['handleDisconnect']();},this['ws'][_0x2eeccb(0x152)]=_0x2e9c19=>{const _0x24320f=JSON['parse'](_0x2e9c19['data']);this['handleSignalingMessage'](_0x24320f);};});}['send'](_0x5dae57){const _0x3b667d=_0x5129dc;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws'][_0x3b667d(0x117)](JSON[_0x3b667d(0xbd)](_0x5dae57));}async['createRoom'](){const _0x245fb4=_0x5129dc;this[_0x245fb4(0x154)]=!![],this['roomId']=this['generateRoomId'](),this[_0x245fb4(0x116)](_0x245fb4(0x111),_0x245fb4(0x108));try{await this[_0x245fb4(0xe7)](),this[_0x245fb4(0x117)]({'type':_0x245fb4(0xb8),'roomId':this['roomId']});}catch(_0x535782){this[_0x245fb4(0xf0)]('Failed\x20to\x20connect\x20to\x20server'),this[_0x245fb4(0x116)](_0x245fb4(0xb5),_0x245fb4(0xc4));}}async['joinRoom'](){const _0x409f89=_0x5129dc,_0x4b6851=this[_0x409f89(0x100)]?.[_0x409f89(0xde)]['trim']()[_0x409f89(0x125)]();if(!_0x4b6851||_0x4b6851[_0x409f89(0x10c)]<0x4){this[_0x409f89(0xf0)](_0x409f89(0x13e));return;}this[_0x409f89(0x154)]=![],this['roomId']=_0x4b6851,this[_0x409f89(0x116)]('connecting','Joining...');try{await this['connectToServer'](),this['send']({'type':'join-room','roomId':this[_0x409f89(0xb7)]});}catch(_0x34226b){this['showSystemMessage'](_0x409f89(0xee)),this[_0x409f89(0x116)]('disconnected',_0x409f89(0xc4));}}async['handleSignalingMessage'](_0x520b61){const _0x3658bf=_0x5129dc;switch(_0x520b61[_0x3658bf(0x145)]){case'room-created':this[_0x3658bf(0xa8)](),this[_0x3658bf(0x116)](_0x3658bf(0x111),_0x3658bf(0xf8));break;case'room-joined':this['showSystemMessage'](_0x3658bf(0xbb)),this['updateStatus']('connecting',_0x3658bf(0x136));break;case _0x3658bf(0x113):this[_0x3658bf(0xf0)]('Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...'),this['updateStatus']('connecting',_0x3658bf(0x15a)),await this[_0x3658bf(0x128)]();this['isHost']&&await this[_0x3658bf(0xd2)]();break;case _0x3658bf(0xe5):this[_0x3658bf(0xf0)]('Peer\x20disconnected'),this['updateStatus'](_0x3658bf(0xb5),'Peer\x20left'),this[_0x3658bf(0xfe)]();break;case _0x3658bf(0xa9):await this['handleOffer'](_0x520b61);break;case _0x3658bf(0xd5):await this[_0x3658bf(0xf7)](_0x520b61);break;case'ice-candidate':await this['handleIceCandidate'](_0x520b61);break;case'error':this[_0x3658bf(0xf0)](_0x3658bf(0x11b)+_0x520b61['message']),this['updateStatus'](_0x3658bf(0xb5),'Error'),console[_0x3658bf(0x121)](_0x3658bf(0x13d),_0x520b61[_0x3658bf(0x140)]);break;}}async['initializeWebRTC'](){const _0x12bc42=_0x5129dc,_0x2a8863=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x3214d6=_0x2a8863;try{const _0x179eb7=await fetch('/api/turn-credentials'),_0x53b371=await _0x179eb7[_0x12bc42(0x10a)]();Array['isArray'](_0x53b371)&&_0x53b371[_0x12bc42(0x10c)]>0x0?(_0x3214d6=_0x53b371,console[_0x12bc42(0xd8)]('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x43d839){console['log']('Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback');}const _0xc6acae={'iceServers':_0x3214d6};this[_0x12bc42(0x131)]=new RTCPeerConnection(_0xc6acae),this['peerConnection']['onicecandidate']=_0x547874=>{const _0x2d24d3=_0x12bc42;_0x547874['candidate']&&this['send']({'type':_0x2d24d3(0x138),'roomId':this['roomId'],'candidate':_0x547874[_0x2d24d3(0x118)]});},this[_0x12bc42(0x131)]['onconnectionstatechange']=()=>{const _0x2b39c7=_0x12bc42,_0x3d308b=this['peerConnection'][_0x2b39c7(0x157)];console[_0x2b39c7(0xd8)](_0x2b39c7(0x150),_0x3d308b);if(_0x3d308b==='connected')this[_0x2b39c7(0x116)](_0x2b39c7(0xe3),_0x2b39c7(0xaa)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x3d308b==='disconnected'||_0x3d308b===_0x2b39c7(0xcb))&&(this[_0x2b39c7(0x116)](_0x2b39c7(0xb5),'Disconnected'),this[_0x2b39c7(0xfe)]());},this['isHost']?(this['dataChannel']=this[_0x12bc42(0x131)]['createDataChannel']('qchat',{'ordered':!![]}),this['setupDataChannel']()):this['peerConnection'][_0x12bc42(0xc5)]=_0x12297b=>{const _0x5c90c2=_0x12bc42;this[_0x5c90c2(0x15c)]=_0x12297b[_0x5c90c2(0x129)],this[_0x5c90c2(0x160)]();};}['setupDataChannel'](){const _0x58bb25=_0x5129dc;this['dataChannel']['onopen']=()=>{const _0xb434c5=_0x5b6c;console[_0xb434c5(0xd8)]('Q-Chat:\x20Data\x20channel\x20open'),this['isConnected']=!![],this['enableChat'](),this[_0xb434c5(0xb1)]();},this[_0x58bb25(0x15c)]['onclose']=()=>{const _0xfea4f9=_0x58bb25;console[_0xfea4f9(0xd8)](_0xfea4f9(0xe9)),this[_0xfea4f9(0xda)]=![],this['disableChat']();},this[_0x58bb25(0x15c)]['onmessage']=_0x5cd7da=>{const _0x545d41=_0x58bb25,_0x27176f=JSON[_0x545d41(0xc8)](_0x5cd7da[_0x545d41(0x124)]);this['receiveMessage'](_0x27176f);};}async[_0x5129dc(0xd2)](){const _0x411b35=_0x5129dc;try{const _0xa70e9=await this['peerConnection']['createOffer']();await this[_0x411b35(0x131)][_0x411b35(0xae)](_0xa70e9),this[_0x411b35(0x117)]({'type':'offer','roomId':this[_0x411b35(0xb7)],'sdp':_0xa70e9['sdp']});}catch(_0x57866a){console[_0x411b35(0x121)](_0x411b35(0xb6),_0x57866a);}}async['handleOffer'](_0x5f4677){const _0x236c3a=_0x5129dc;try{await this[_0x236c3a(0x128)](),await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x5f4677['sdp']}));const _0xa5e3f6=await this[_0x236c3a(0x131)][_0x236c3a(0x127)]();await this['peerConnection']['setLocalDescription'](_0xa5e3f6),this['send']({'type':'answer','roomId':this['roomId'],'sdp':_0xa5e3f6['sdp']});}catch(_0x306e77){console[_0x236c3a(0x121)](_0x236c3a(0xe4),_0x306e77);}}async['handleAnswer'](_0x3045f8){const _0x1075ce=_0x5129dc;try{await this[_0x1075ce(0x131)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x1075ce(0xd5),'sdp':_0x3045f8[_0x1075ce(0x126)]}));}catch(_0x234ac6){console[_0x1075ce(0x121)](_0x1075ce(0xca),_0x234ac6);}}async[_0x5129dc(0x11a)](_0xb89aab){const _0x2b861c=_0x5129dc;try{_0xb89aab['candidate']&&await this[_0x2b861c(0x131)][_0x2b861c(0x144)](new RTCIceCandidate(_0xb89aab[_0x2b861c(0x118)]));}catch(_0x1152cf){console[_0x2b861c(0x121)](_0x2b861c(0x12d),_0x1152cf);}}[_0x5129dc(0xa8)](){const _0xc77ca0=_0x5129dc;if(this[_0xc77ca0(0xb2)])this[_0xc77ca0(0xb2)][_0xc77ca0(0xe1)][_0xc77ca0(0x12a)]='none';if(this['roomInfoSection'])this[_0xc77ca0(0xe8)]['style']['display']=_0xc77ca0(0x15b);this[_0xc77ca0(0xfa)]();}[_0x5129dc(0xfa)](){const _0x165ed2=_0x5129dc,_0x3de729=document[_0x165ed2(0x123)](_0x165ed2(0x11c)),_0x3fab30=document['getElementById']('matrixSphere'),_0x1a0b8a=document[_0x165ed2(0x123)](_0x165ed2(0xad)),_0x2ee56f=document['getElementById'](_0x165ed2(0xea)),_0x578449=document[_0x165ed2(0x123)](_0x165ed2(0xfd));if(!_0x3fab30||!_0x3de729){if(this['roomCodeEl'])this['roomCodeEl']['textContent']=this[_0x165ed2(0xb7)];return;}this[_0x165ed2(0x13c)](_0x3fab30);const _0x32f95a=['Generating\x20Quantum\x20Tunnel...',_0x165ed2(0xd3),'Establishing\x20Secure\x20Link...','Finalizing\x20Quantum\x20Code...'];let _0x2b7e25=0x0;const _0x427897=setInterval(()=>{const _0x1a9fc0=_0x165ed2;_0x2b7e25++,_0x2b7e25<_0x32f95a[_0x1a9fc0(0x10c)]&&_0x1a0b8a&&(_0x1a0b8a['textContent']=_0x32f95a[_0x2b7e25]);},0x258);setTimeout(()=>{const _0x5ef9b5=_0x165ed2;clearInterval(_0x427897),_0x3fab30['classList']['add']('fade-out');if(_0x1a0b8a)_0x1a0b8a['style'][_0x5ef9b5(0x12a)]='none';setTimeout(()=>{const _0x740ed=_0x5ef9b5;_0x3de729['style']['display']='none';if(this['roomCodeEl'])this['roomCodeEl'][_0x740ed(0xaf)]=this['roomId'];_0x2ee56f&&(_0x2ee56f['classList']['remove']('hidden'),_0x2ee56f[_0x740ed(0x159)]['add'](_0x740ed(0xfb))),_0x578449&&_0x578449[_0x740ed(0x159)][_0x740ed(0xfc)](_0x740ed(0x161));},0x320);},0x9c4);}[_0x5129dc(0x13c)](_0x5ca0e0){const _0x546426=_0x5129dc;_0x5ca0e0[_0x546426(0xab)]='';const _0x1fb9b9=0x78,_0x3bbc1a=0x3c;for(let _0x438e6f=0x0;_0x438e6f<_0x1fb9b9;_0x438e6f++){const _0x5a4fab=document[_0x546426(0x112)]('span');_0x5a4fab['className']=_0x546426(0xcc),_0x5a4fab[_0x546426(0xaf)]=Math['floor'](Math[_0x546426(0xf2)]()*0xa);const _0x42afde=Math['acos'](0x1-0x2*(_0x438e6f+0.5)/_0x1fb9b9),_0x4c8de6=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x438e6f,_0x15683e=_0x3bbc1a*Math['sin'](_0x42afde)*Math[_0x546426(0x153)](_0x4c8de6),_0x16cdde=_0x3bbc1a*Math[_0x546426(0x146)](_0x42afde)*Math['sin'](_0x4c8de6),_0x41796a=_0x3bbc1a*Math['cos'](_0x42afde);_0x5a4fab[_0x546426(0xe1)]['transform']=_0x546426(0x14c)+_0x15683e+'px,\x20'+_0x16cdde+_0x546426(0x106)+_0x41796a+'px)',_0x5a4fab['style'][_0x546426(0xd6)]='50%',_0x5a4fab[_0x546426(0xe1)]['top']='50%',_0x5a4fab['style']['marginLeft']='-7px',_0x5a4fab['style']['marginTop']='-10px',_0x5a4fab['style']['animationDelay']=Math[_0x546426(0xf2)]()*0.5+'s';const _0x1dc1a2=0.4+(_0x41796a+_0x3bbc1a)/(0x2*_0x3bbc1a)*0.6;_0x5a4fab[_0x546426(0xe1)]['opacity']=_0x1dc1a2,_0x5ca0e0[_0x546426(0x109)](_0x5a4fab);}this['digitChangeInterval']=setInterval(()=>{const _0x1b2f56=_0x546426,_0x35f78e=_0x5ca0e0[_0x1b2f56(0x10b)]('.matrix-digit'),_0x45c44d=_0x35f78e[Math['floor'](Math['random']()*_0x35f78e[_0x1b2f56(0x10c)])];_0x45c44d&&(_0x45c44d[_0x1b2f56(0xaf)]=Math['floor'](Math[_0x1b2f56(0xf2)]()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0x46567d=_0x5129dc;if(this['connectSection'])this[_0x46567d(0xb2)][_0x46567d(0xe1)]['display']=_0x46567d(0xac);if(this[_0x46567d(0xe8)])this[_0x46567d(0xe8)]['style']['display']=_0x46567d(0xac);if(this['messagesSection'])this['messagesSection'][_0x46567d(0xe1)]['display']=_0x46567d(0x102);if(this[_0x46567d(0x11f)])this['inputSection']['style'][_0x46567d(0x12a)]='block';}[_0x5129dc(0xd7)](){const _0x15f372=_0x5129dc;this['messageInput']&&(this['messageInput']['disabled']=![],this[_0x15f372(0x11e)][_0x15f372(0xc6)]());if(this['sendBtn'])this[_0x15f372(0xe2)]['disabled']=![];}['disableChat'](){if(this['messageInput'])this['messageInput']['disabled']=!![];if(this['sendBtn'])this['sendBtn']['disabled']=!![];}[_0x5129dc(0x110)](){const _0x43f7df=_0x5129dc,_0x5d5fd5=this[_0x43f7df(0x11e)]?.['value'][_0x43f7df(0xed)]();if(!_0x5d5fd5||!this['isConnected'])return;const _0x120729={'type':'message','text':_0x5d5fd5,'timestamp':Date['now']()};try{this[_0x43f7df(0x15c)]['send'](JSON[_0x43f7df(0xbd)](_0x120729)),this['addMessage'](_0x5d5fd5,_0x43f7df(0x147),_0x120729[_0x43f7df(0xf6)]),this['messageInput'][_0x43f7df(0xde)]='';}catch(_0xc44b46){console[_0x43f7df(0x121)](_0x43f7df(0x12c),_0xc44b46),this[_0x43f7df(0xf0)]('Failed\x20to\x20send\x20message');}}[_0x5129dc(0xdb)](_0x203ff6){const _0x165e42=_0x5129dc;_0x203ff6[_0x165e42(0x145)]==='message'&&(this['addMessage'](_0x203ff6['text'],_0x165e42(0x15f),_0x203ff6['timestamp']),!this['isPanelOpen']&&(this['unreadCount']++,this[_0x165e42(0xe6)]()));}['addMessage'](_0x22b4d2,_0x113522,_0x4a68d2){const _0xcf6d6a=_0x5129dc,_0x100116=document['createElement'](_0xcf6d6a(0x13a));_0x100116[_0xcf6d6a(0x14f)]='qchat-message\x20'+_0x113522;const _0x2e3c56=new Date(_0x4a68d2)['toLocaleTimeString']([],{'hour':'2-digit','minute':'2-digit'});_0x100116[_0xcf6d6a(0xab)]=_0xcf6d6a(0xf9)+this[_0xcf6d6a(0xb0)](_0x22b4d2)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x113522==='sent'?'âœ“\x20':'')+_0x2e3c56+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0xcf6d6a(0x137)]?.[_0xcf6d6a(0x109)](_0x100116),this['scrollToBottom']();}[_0x5129dc(0xf0)](_0x59a6cf){const _0x3adc26=_0x5129dc,_0x33a816=document[_0x3adc26(0x112)](_0x3adc26(0x13a));_0x33a816[_0x3adc26(0x14f)]=_0x3adc26(0x156),_0x33a816[_0x3adc26(0xaf)]=_0x59a6cf,this['messagesList']?.['appendChild'](_0x33a816),this[_0x3adc26(0xdf)]();}['scrollToBottom'](){const _0x1b7e52=_0x5129dc;this['messagesSection']&&(this['messagesSection']['scrollTop']=this[_0x1b7e52(0x149)]['scrollHeight']);}[_0x5129dc(0x116)](_0x2a8531,_0x25a9a5){const _0x4db9c1=_0x5129dc;if(this[_0x4db9c1(0xbc)]){this[_0x4db9c1(0xbc)]['className']=_0x4db9c1(0xc0)+_0x2a8531;const _0x28a1a0=this[_0x4db9c1(0xbc)]['querySelector'](_0x4db9c1(0x12b));if(_0x28a1a0)_0x28a1a0['textContent']=_0x25a9a5;}}[_0x5129dc(0xe6)](){const _0x1b7cd4=_0x5129dc;this['badge']&&(this[_0x1b7cd4(0xba)]>0x0?(this[_0x1b7cd4(0x130)]['textContent']=this[_0x1b7cd4(0xba)]>0x63?_0x1b7cd4(0x14b):this['unreadCount'],this['badge'][_0x1b7cd4(0xe1)]['display']=_0x1b7cd4(0x102)):this['badge']['style']['display']='none');}[_0x5129dc(0xcd)](){const _0x4d7455=_0x5129dc;this['unreadCount']=0x0,this[_0x4d7455(0xe6)]();}[_0x5129dc(0xd0)](){const _0x1bfcdd=_0x5129dc;this[_0x1bfcdd(0xb7)]&&navigator['clipboard']['writeText'](this[_0x1bfcdd(0xb7)])[_0x1bfcdd(0x151)](()=>{const _0x2fe9d4=_0x1bfcdd;this[_0x2fe9d4(0xf0)]('Room\x20code\x20copied!');})[_0x1bfcdd(0xdc)](()=>{const _0x55593e=_0x1bfcdd,_0x3ac779=document['createElement']('textarea');_0x3ac779['value']=this[_0x55593e(0xb7)],document[_0x55593e(0xf1)]['appendChild'](_0x3ac779),_0x3ac779[_0x55593e(0x12e)](),document[_0x55593e(0xb3)](_0x55593e(0x105)),document['body'][_0x55593e(0x132)](_0x3ac779),this['showSystemMessage'](_0x55593e(0x101));});}[_0x5129dc(0xc2)](){const _0x5aa774=_0x5129dc;this['isConnected']=![],this[_0x5aa774(0x116)](_0x5aa774(0xb5),_0x5aa774(0x13b)),this[_0x5aa774(0xfe)]();}['escapeHtml'](_0x3d6bf6){const _0x1496e8=_0x5129dc,_0x2a4283=document[_0x1496e8(0x112)](_0x1496e8(0x13a));return _0x2a4283['textContent']=_0x3d6bf6,_0x2a4283[_0x1496e8(0xab)];}}function _0x2bf4(){const _0x181d8b=['reveal','remove','qchatWaiting','disableChat','DOMContentLoaded','roomInput','Room\x20code\x20copied!','flex','Q-Chat:\x20WebSocket\x20closed','panel','copy','px,\x20','initElements','Connecting...','appendChild','json','querySelectorAll','length','shiftKey','qchatCreate','isPanelOpen','sendMessage','connecting','createElement','peer-joined','2033841ZsBRVX','contains','updateStatus','send','candidate','onerror','handleIceCandidate','Error:\x20','matrixSphereContainer','16HuPKyz','messageInput','inputSection','click','error','6385tGkZBs','getElementById','data','toUpperCase','sdp','createAnswer','initializeWebRTC','channel','display','.status-text','Q-Chat:\x20Error\x20sending\x20message:','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','select','wss:','badge','peerConnection','removeChild','bindEvents','preventDefault','onopen','Waiting\x20for\x20host...','messagesList','ice-candidate','qchatJoin','div','Disconnected','createMatrixSphere','Q-Chat\x20Server\x20Error:','Please\x20enter\x20a\x20valid\x20room\x20code','ws:','message','host','joinRoom','key','addIceCandidate','type','sin','sent','887391MJkWrZ','messagesSection','qchatMessages','99+','translate3d(','toggleBtn','closeBtn','className','Q-Chat:\x20Connection\x20state:','then','onmessage','cos','isHost','location','qchat-system-message','connectionState','qchatRoomInfo','classList','Establishing\x20P2P...','block','dataChannel','20616230BsnJoh','qchatToggle','received','setupDataChannel','hidden','showRoomInfo','offer','Secure\x20P2P','innerHTML','none','matrixSphereStatus','setLocalDescription','textContent','escapeHtml','showChatUI','connectSection','execCommand','closePanel','disconnected','Q-Chat:\x20Error\x20creating\x20offer:','roomId','create-room','2394684ubAtkV','unreadCount','Joined\x20room!\x20Waiting\x20for\x20host...','statusEl','stringify','qchatPanel','qchatInputSection','qchat-status\x20','add','handleDisconnect','togglePanel','Connection\x20failed','ondatachannel','focus','1372vMxLVa','parse','435679fwZCBM','Q-Chat:\x20Error\x20handling\x20answer:','failed','matrix-digit','clearUnread','qchatRoomInput','1900801rZSPDx','copyRoomCode','protocol','createAndSendOffer','Encrypting\x20Neural\x20Pathway...','open','answer','left','enableChat','log','active','isConnected','receiveMessage','catch','charAt','value','scrollToBottom','copyCodeBtn','style','sendBtn','connected','Q-Chat:\x20Error\x20handling\x20offer:','peer-left','updateBadge','connectToServer','roomInfoSection','Q-Chat:\x20Data\x20channel\x20closed','qchatRoomCodeSection','2EHgxBj','qchatCopyCode','trim','Failed\x20to\x20connect\x20to\x20server','qchatRoomCode','showSystemMessage','body','random','addEventListener','/ws','target','timestamp','handleAnswer','Waiting\x20for\x20peer...','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','startMatrixSphereAnimation'];_0x2bf4=function(){return _0x181d8b;};return _0x2bf4();}document['addEventListener'](_0x5129dc(0xff),()=>{window['qChat']=new QChat();});