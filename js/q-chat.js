const _0x1b39e7=_0x5146;(function(_0x2c4868,_0x80bad5){const _0x5266b4=_0x5146,_0x249ee9=_0x2c4868();while(!![]){try{const _0x553a9b=-parseInt(_0x5266b4(0x1cd))/0x1+parseInt(_0x5266b4(0x1e6))/0x2+-parseInt(_0x5266b4(0x187))/0x3+-parseInt(_0x5266b4(0x155))/0x4*(-parseInt(_0x5266b4(0x1a4))/0x5)+-parseInt(_0x5266b4(0x13c))/0x6*(-parseInt(_0x5266b4(0x160))/0x7)+-parseInt(_0x5266b4(0x14d))/0x8*(-parseInt(_0x5266b4(0x1ac))/0x9)+parseInt(_0x5266b4(0x195))/0xa*(-parseInt(_0x5266b4(0x1f8))/0xb);if(_0x553a9b===_0x80bad5)break;else _0x249ee9['push'](_0x249ee9['shift']());}catch(_0x46d968){_0x249ee9['push'](_0x249ee9['shift']());}}}(_0x5c90,0xdc138));class QChat{constructor(){const _0x43603d=_0x5146;this['ws']=null,this['peerConnection']=null,this[_0x43603d(0x149)]=null,this[_0x43603d(0x14b)]=null,this[_0x43603d(0x1b7)]=![],this['isConnected']=![],this[_0x43603d(0x169)]=0x0,this[_0x43603d(0x1de)]=![],this['initElements'](),this[_0x43603d(0x1a3)]();}['initElements'](){const _0x355ced=_0x5146;this[_0x355ced(0x137)]=document[_0x355ced(0x16a)](_0x355ced(0x1f7)),this['toggleBtn']=document[_0x355ced(0x16a)](_0x355ced(0x141)),this[_0x355ced(0x18c)]=document[_0x355ced(0x16a)]('qchatClose'),this[_0x355ced(0x13a)]=document[_0x355ced(0x16a)](_0x355ced(0x1ca)),this['connectSection']=document[_0x355ced(0x16a)](_0x355ced(0x184)),this['roomInfoSection']=document['getElementById'](_0x355ced(0x1aa)),this[_0x355ced(0x16d)]=document['getElementById']('qchatMessages'),this['inputSection']=document[_0x355ced(0x16a)]('qchatInputSection'),this[_0x355ced(0x16b)]=document['getElementById'](_0x355ced(0x14c)),this[_0x355ced(0x188)]=document[_0x355ced(0x16a)](_0x355ced(0x191)),this[_0x355ced(0x1b2)]=document['getElementById']('qchatCreate'),this[_0x355ced(0x176)]=document['getElementById']('qchatJoin'),this[_0x355ced(0x179)]=document['getElementById'](_0x355ced(0x1fb)),this['sendBtn']=document[_0x355ced(0x16a)]('qchatSendBtn'),this['roomInput']=document['getElementById'](_0x355ced(0x1bc)),this['messageInput']=document['getElementById']('qchatMessageInput'),this[_0x355ced(0x139)]=document[_0x355ced(0x16a)](_0x355ced(0x182));}['bindEvents'](){const _0x3ece3a=_0x5146;this['toggleBtn']?.[_0x3ece3a(0x1a8)](_0x3ece3a(0x1f3),()=>this[_0x3ece3a(0x200)]()),this[_0x3ece3a(0x18c)]?.['addEventListener'](_0x3ece3a(0x1f3),()=>this['closePanel']()),this['createBtn']?.[_0x3ece3a(0x1a8)](_0x3ece3a(0x1f3),()=>this['createRoom']()),this['joinBtn']?.['addEventListener']('click',()=>this['joinRoom']()),this['roomInput']?.['addEventListener']('keypress',_0x5ce6e9=>{if(_0x5ce6e9['key']==='Enter')this['joinRoom']();}),this['copyCodeBtn']?.[_0x3ece3a(0x1a8)]('click',()=>this['copyRoomCode']()),this[_0x3ece3a(0x162)]?.['addEventListener']('click',()=>this[_0x3ece3a(0x1e2)]()),this[_0x3ece3a(0x196)]?.['addEventListener'](_0x3ece3a(0x186),_0x3b7cd4=>{const _0x363e9b=_0x3ece3a;_0x3b7cd4['key']===_0x363e9b(0x183)&&!_0x3b7cd4[_0x363e9b(0x1dc)]&&(_0x3b7cd4['preventDefault'](),this['sendMessage']());}),document['addEventListener'](_0x3ece3a(0x1f3),_0x5d81e2=>{const _0x3b4f9a=_0x3ece3a;this[_0x3b4f9a(0x1de)]&&!this['panel']?.[_0x3b4f9a(0x144)](_0x5d81e2[_0x3b4f9a(0x177)])&&!this['toggleBtn']?.[_0x3b4f9a(0x144)](_0x5d81e2[_0x3b4f9a(0x177)])&&this['closePanel']();});}[_0x1b39e7(0x200)](){const _0x3e7517=_0x1b39e7;this[_0x3e7517(0x1de)]?this['closePanel']():this['openPanel']();}['openPanel'](){const _0x367973=_0x1b39e7;this['panel']?.[_0x367973(0x17e)][_0x367973(0x1f0)](_0x367973(0x15f)),this['toggleBtn']?.[_0x367973(0x17e)]['add']('active'),this['isPanelOpen']=!![],this[_0x367973(0x193)]();}[_0x1b39e7(0x1b3)](){const _0x4f7a09=_0x1b39e7;this['panel']?.['classList']['remove']('open'),this[_0x4f7a09(0x1d6)]?.['classList']['remove'](_0x4f7a09(0x1d9)),this[_0x4f7a09(0x1de)]=![];}[_0x1b39e7(0x1ab)](){const _0x173665=_0x1b39e7,_0x25e4d8='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x3d2f8a='';for(let _0x190fa9=0x0;_0x190fa9<0x6;_0x190fa9++){_0x3d2f8a+=_0x25e4d8[_0x173665(0x18e)](Math[_0x173665(0x17b)](Math[_0x173665(0x1bd)]()*_0x25e4d8['length']));}return _0x3d2f8a;}[_0x1b39e7(0x15e)](){const _0x1e5352=_0x1b39e7,_0x16987b=window[_0x1e5352(0x158)][_0x1e5352(0x1ce)]==='https:'?_0x1e5352(0x1d5):'ws:';return _0x16987b+'//'+window['location']['host']+_0x1e5352(0x168);}async[_0x1b39e7(0x132)](){return new Promise((_0x1a2529,_0x5e83f1)=>{const _0x549fc0=_0x5146,_0x59aad2=this['getWebSocketUrl']();console[_0x549fc0(0x1a6)](_0x549fc0(0x143),_0x59aad2),this['ws']=new WebSocket(_0x59aad2),this['ws']['onopen']=()=>{const _0x439292=_0x549fc0;console[_0x439292(0x1a6)]('Q-Chat:\x20WebSocket\x20connected'),_0x1a2529();},this['ws']['onerror']=_0x374efd=>{console['error']('Q-Chat:\x20WebSocket\x20error:',_0x374efd),_0x5e83f1(_0x374efd);},this['ws']['onclose']=()=>{const _0x432d6d=_0x549fc0;console['log'](_0x432d6d(0x173)),this[_0x432d6d(0x164)]();},this['ws']['onmessage']=_0x4bad86=>{const _0x30d002=_0x549fc0,_0x2a4c87=JSON['parse'](_0x4bad86[_0x30d002(0x1fa)]);console['log'](_0x30d002(0x1e4),_0x2a4c87['type'],_0x2a4c87),this[_0x30d002(0x1ec)](_0x2a4c87);};});}[_0x1b39e7(0x163)](_0x4d8a19){const _0x409cc2=_0x1b39e7;this['ws']&&this['ws'][_0x409cc2(0x1d4)]===WebSocket['OPEN']&&this['ws'][_0x409cc2(0x163)](JSON['stringify'](_0x4d8a19));}async['createRoom'](){const _0x54a795=_0x1b39e7;this[_0x54a795(0x1b7)]=!![],this['roomId']=this['generateRoomId'](),this['updateStatus']('connecting','Connecting...');try{await this[_0x54a795(0x132)](),this['send']({'type':_0x54a795(0x152),'roomId':this[_0x54a795(0x14b)]});}catch(_0x50f1e4){this[_0x54a795(0x175)](_0x54a795(0x19a)),this[_0x54a795(0x1ea)](_0x54a795(0x178),'Connection\x20failed');}}async[_0x1b39e7(0x134)](){const _0x5f5ba5=_0x1b39e7,_0x3998fe=this[_0x5f5ba5(0x159)]?.[_0x5f5ba5(0x1e8)]['trim']()['toUpperCase']();if(!_0x3998fe||_0x3998fe['length']<0x4){this[_0x5f5ba5(0x175)]('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this[_0x5f5ba5(0x1b7)]=![],this[_0x5f5ba5(0x14b)]=_0x3998fe,this[_0x5f5ba5(0x1ea)]('connecting','Joining...');try{await this['connectToServer'](),this[_0x5f5ba5(0x163)]({'type':_0x5f5ba5(0x15d),'roomId':this[_0x5f5ba5(0x14b)]});}catch(_0x58ed37){this[_0x5f5ba5(0x175)]('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus']('disconnected','Connection\x20failed');}}async['handleSignalingMessage'](_0x26dc84){const _0x2c9527=_0x1b39e7;switch(_0x26dc84['type']){case'room-created':this[_0x2c9527(0x1ff)](),this['updateStatus'](_0x2c9527(0x16e),'Waiting\x20for\x20peer...');break;case _0x2c9527(0x1f2):this[_0x2c9527(0x175)]('Joined\x20room!\x20Waiting\x20for\x20host...'),this[_0x2c9527(0x1ea)]('connecting',_0x2c9527(0x1a1));break;case _0x2c9527(0x18b):console[_0x2c9527(0x1a6)]('Q-Chat:\x20peer-joined\x20received,\x20isHost:',this['isHost']),this['showSystemMessage'](_0x2c9527(0x1d3)),this['updateStatus'](_0x2c9527(0x16e),'Establishing\x20P2P...');try{await this[_0x2c9527(0x1f4)](),console['log'](_0x2c9527(0x1c5),!!this['peerConnection']),this[_0x2c9527(0x1b7)]&&(console['log'](_0x2c9527(0x1fe)),await this[_0x2c9527(0x1e9)](),console[_0x2c9527(0x1a6)]('Q-Chat:\x20Offer\x20sent'));}catch(_0x471f0e){console[_0x2c9527(0x1b9)](_0x2c9527(0x16c),_0x471f0e),this[_0x2c9527(0x175)]('Connection\x20setup\x20failed'),this[_0x2c9527(0x1ea)](_0x2c9527(0x178),_0x2c9527(0x1f1));}break;case _0x2c9527(0x1b6):this[_0x2c9527(0x175)]('Peer\x20disconnected'),this[_0x2c9527(0x1ea)]('disconnected',_0x2c9527(0x1e1)),this['disableChat']();break;case'offer':await this[_0x2c9527(0x1dd)](_0x26dc84);break;case'answer':await this['handleAnswer'](_0x26dc84);break;case'ice-candidate':await this[_0x2c9527(0x190)](_0x26dc84);break;case _0x2c9527(0x1b9):this[_0x2c9527(0x175)]('Error:\x20'+_0x26dc84[_0x2c9527(0x165)]),this['updateStatus']('disconnected',_0x2c9527(0x1a9)),console[_0x2c9527(0x1b9)](_0x2c9527(0x19e),_0x26dc84['message']);break;}}async['initializeWebRTC'](){const _0x6ce6da=_0x1b39e7,_0x12423c=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x6ce6da(0x1ee)}];let _0x144bd8=_0x12423c;try{const _0x59a093=await fetch('/api/turn-credentials'),_0x17f754=await _0x59a093[_0x6ce6da(0x171)]();Array[_0x6ce6da(0x136)](_0x17f754)&&_0x17f754['length']>0x0?(_0x144bd8=_0x17f754[_0x6ce6da(0x140)](_0xb195ab=>{const _0x4fb055=_0x6ce6da,_0x109ae1={..._0xb195ab};return _0xb195ab['urls']&&!_0xb195ab['url']&&(_0x109ae1[_0x4fb055(0x198)]=_0xb195ab[_0x4fb055(0x1eb)]),_0x109ae1;}),console[_0x6ce6da(0x1a6)]('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal,\x20count:',_0x144bd8[_0x6ce6da(0x156)])):console[_0x6ce6da(0x1a6)]('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x92db34){console['log'](_0x6ce6da(0x1b0),_0x92db34);}const _0x40b00d={'iceServers':_0x144bd8};this[_0x6ce6da(0x1e7)]=new RTCPeerConnection(_0x40b00d),this['peerConnection'][_0x6ce6da(0x18f)]=_0x2d3f66=>{const _0x387bca=_0x6ce6da;_0x2d3f66['candidate']?(console[_0x387bca(0x1a6)](_0x387bca(0x1b1),_0x2d3f66['candidate'][_0x387bca(0x154)]['substring'](0x0,0x32)),this['send']({'type':_0x387bca(0x18d),'roomId':this['roomId'],'candidate':_0x2d3f66[_0x387bca(0x154)]})):console[_0x387bca(0x1a6)](_0x387bca(0x1bb));},this[_0x6ce6da(0x1e7)][_0x6ce6da(0x16f)]=()=>{console['log']('Q-Chat:\x20ICE\x20connection\x20state:',this['peerConnection']['iceConnectionState']);},this[_0x6ce6da(0x1e7)]['onicegatheringstatechange']=()=>{const _0x176150=_0x6ce6da;console['log'](_0x176150(0x1be),this[_0x176150(0x1e7)]['iceGatheringState']);},this[_0x6ce6da(0x1e7)][_0x6ce6da(0x1d8)]=()=>{const _0x4e8390=_0x6ce6da,_0x1128b9=this[_0x4e8390(0x1e7)][_0x4e8390(0x17f)];console[_0x4e8390(0x1a6)]('Q-Chat:\x20Connection\x20state:',_0x1128b9);if(_0x1128b9===_0x4e8390(0x1c9))this['updateStatus']('connected','Secure\x20P2P'),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x1128b9==='disconnected'||_0x1128b9==='failed')&&(this['updateStatus']('disconnected','Disconnected'),this[_0x4e8390(0x1c4)]());},this[_0x6ce6da(0x1b7)]?(this['dataChannel']=this[_0x6ce6da(0x1e7)][_0x6ce6da(0x18a)]('qchat',{'ordered':!![]}),this['setupDataChannel']()):this['peerConnection'][_0x6ce6da(0x1bf)]=_0x2e008d=>{const _0x63f82a=_0x6ce6da;this[_0x63f82a(0x149)]=_0x2e008d['channel'],this[_0x63f82a(0x185)]();};}[_0x1b39e7(0x185)](){const _0xcbde47=_0x1b39e7;this['dataChannel'][_0xcbde47(0x1a0)]=()=>{const _0x5df7aa=_0xcbde47;console['log'](_0x5df7aa(0x1cb)),this['isConnected']=!![],this[_0x5df7aa(0x192)](),this[_0x5df7aa(0x1b8)]();},this[_0xcbde47(0x149)][_0xcbde47(0x17c)]=()=>{const _0x29c375=_0xcbde47;console['log'](_0x29c375(0x142)),this['isConnected']=![],this['disableChat']();},this[_0xcbde47(0x149)][_0xcbde47(0x1ef)]=_0x4f4e13=>{const _0x5f05d4=_0xcbde47,_0x1977d7=JSON[_0x5f05d4(0x1e5)](_0x4f4e13['data']);this['receiveMessage'](_0x1977d7);};}async[_0x1b39e7(0x1e9)](){const _0x3ad833=_0x1b39e7;try{const _0x224f42=await this[_0x3ad833(0x1e7)]['createOffer']();await this['peerConnection']['setLocalDescription'](_0x224f42),this[_0x3ad833(0x163)]({'type':'offer','roomId':this[_0x3ad833(0x14b)],'sdp':_0x224f42[_0x3ad833(0x174)]});}catch(_0x176f19){console[_0x3ad833(0x1b9)](_0x3ad833(0x17a),_0x176f19);}}async['handleOffer'](_0x15ece0){const _0x1ee059=_0x1b39e7;try{!this['peerConnection']&&await this['initializeWebRTC']();await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x15ece0['sdp']}));const _0x4cfa63=await this['peerConnection'][_0x1ee059(0x1ed)]();await this['peerConnection'][_0x1ee059(0x19b)](_0x4cfa63),this['send']({'type':_0x1ee059(0x14e),'roomId':this['roomId'],'sdp':_0x4cfa63['sdp']});}catch(_0x370d97){console[_0x1ee059(0x1b9)](_0x1ee059(0x1b5),_0x370d97);}}async['handleAnswer'](_0x315a86){const _0x3c8d0b=_0x1b39e7;try{await this[_0x3c8d0b(0x1e7)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x3c8d0b(0x14e),'sdp':_0x315a86[_0x3c8d0b(0x174)]}));}catch(_0x11f8b6){console[_0x3c8d0b(0x1b9)](_0x3c8d0b(0x166),_0x11f8b6);}}async['handleIceCandidate'](_0x44f5e1){const _0x3e56e8=_0x1b39e7;try{_0x44f5e1[_0x3e56e8(0x154)]&&this[_0x3e56e8(0x1e7)]&&(console['log']('Q-Chat:\x20Received\x20ICE\x20candidate:',_0x44f5e1[_0x3e56e8(0x154)][_0x3e56e8(0x154)]?.['substring'](0x0,0x32)),await this['peerConnection'][_0x3e56e8(0x1b4)](new RTCIceCandidate(_0x44f5e1[_0x3e56e8(0x154)])));}catch(_0xe0fcc6){console['error'](_0x3e56e8(0x161),_0xe0fcc6);}}['showRoomInfo'](){const _0x317007=_0x1b39e7;if(this[_0x317007(0x1ae)])this[_0x317007(0x1ae)][_0x317007(0x1d7)]['display']='none';if(this[_0x317007(0x167)])this[_0x317007(0x167)][_0x317007(0x1d7)][_0x317007(0x19c)]=_0x317007(0x189);this['startMatrixSphereAnimation']();}['startMatrixSphereAnimation'](){const _0x2a7671=_0x1b39e7,_0x1b8c6f=document[_0x2a7671(0x16a)]('matrixSphereContainer'),_0x43a8df=document['getElementById'](_0x2a7671(0x1c8)),_0x115470=document['getElementById'](_0x2a7671(0x197)),_0x18cbde=document['getElementById'](_0x2a7671(0x1c2)),_0x424dfa=document['getElementById'](_0x2a7671(0x1c1));if(!_0x43a8df||!_0x1b8c6f){if(this[_0x2a7671(0x188)])this['roomCodeEl']['textContent']=this[_0x2a7671(0x14b)];return;}this[_0x2a7671(0x1af)](_0x43a8df);const _0x18a094=[_0x2a7671(0x19d),'Encrypting\x20Neural\x20Pathway...',_0x2a7671(0x13b),'Finalizing\x20Quantum\x20Code...'];let _0x48ff99=0x0;const _0x5cba20=setInterval(()=>{const _0x35845d=_0x2a7671;_0x48ff99++,_0x48ff99<_0x18a094['length']&&_0x115470&&(_0x115470[_0x35845d(0x14a)]=_0x18a094[_0x48ff99]);},0x258);setTimeout(()=>{const _0x38f04a=_0x2a7671;clearInterval(_0x5cba20),_0x43a8df['classList']['add']('fade-out');if(_0x115470)_0x115470['style']['display']=_0x38f04a(0x181);setTimeout(()=>{const _0x11f0d4=_0x38f04a;_0x1b8c6f[_0x11f0d4(0x1d7)][_0x11f0d4(0x19c)]=_0x11f0d4(0x181);if(this[_0x11f0d4(0x188)])this['roomCodeEl']['textContent']=this[_0x11f0d4(0x14b)];_0x18cbde&&(_0x18cbde[_0x11f0d4(0x17e)]['remove'](_0x11f0d4(0x13f)),_0x18cbde[_0x11f0d4(0x17e)][_0x11f0d4(0x1f0)]('reveal')),_0x424dfa&&_0x424dfa[_0x11f0d4(0x17e)]['remove']('hidden');},0x320);},0x9c4);}['createMatrixSphere'](_0x4113ec){const _0x573fda=_0x1b39e7;_0x4113ec[_0x573fda(0x153)]='';const _0x139b0f=0x78,_0x32834d=0x3c;for(let _0x5e8ee1=0x0;_0x5e8ee1<_0x139b0f;_0x5e8ee1++){const _0x376ac9=document['createElement'](_0x573fda(0x1d0));_0x376ac9[_0x573fda(0x180)]=_0x573fda(0x1c7),_0x376ac9[_0x573fda(0x14a)]=Math[_0x573fda(0x17b)](Math['random']()*0xa);const _0x2ec170=Math['acos'](0x1-0x2*(_0x5e8ee1+0.5)/_0x139b0f),_0xc2c7ce=Math['PI']*(0x1+Math[_0x573fda(0x1f6)](0x5))*_0x5e8ee1,_0x464ceb=_0x32834d*Math['sin'](_0x2ec170)*Math['cos'](_0xc2c7ce),_0x2a23ab=_0x32834d*Math['sin'](_0x2ec170)*Math['sin'](_0xc2c7ce),_0x528512=_0x32834d*Math[_0x573fda(0x147)](_0x2ec170);_0x376ac9['style']['transform']=_0x573fda(0x138)+_0x464ceb+'px,\x20'+_0x2a23ab+'px,\x20'+_0x528512+_0x573fda(0x1a5),_0x376ac9['style'][_0x573fda(0x133)]='50%',_0x376ac9['style'][_0x573fda(0x13e)]='50%',_0x376ac9[_0x573fda(0x1d7)]['marginLeft']=_0x573fda(0x1cf),_0x376ac9[_0x573fda(0x1d7)][_0x573fda(0x1f9)]=_0x573fda(0x172),_0x376ac9['style'][_0x573fda(0x1ba)]=Math['random']()*0.5+'s';const _0x1e5155=0.4+(_0x528512+_0x32834d)/(0x2*_0x32834d)*0.6;_0x376ac9[_0x573fda(0x1d7)]['opacity']=_0x1e5155,_0x4113ec[_0x573fda(0x1da)](_0x376ac9);}this[_0x573fda(0x1df)]=setInterval(()=>{const _0x1cbef9=_0x573fda,_0x41e466=_0x4113ec[_0x1cbef9(0x1e3)](_0x1cbef9(0x1c0)),_0x5c568f=_0x41e466[Math[_0x1cbef9(0x17b)](Math['random']()*_0x41e466[_0x1cbef9(0x156)])];_0x5c568f&&(_0x5c568f[_0x1cbef9(0x14a)]=Math['floor'](Math[_0x1cbef9(0x1bd)]()*0xa));},0x32),setTimeout(()=>{const _0x1423ba=_0x573fda;this['digitChangeInterval']&&clearInterval(this[_0x1423ba(0x1df)]);},0xdac);}[_0x1b39e7(0x1b8)](){const _0x2ec6a9=_0x1b39e7;if(this[_0x2ec6a9(0x1ae)])this[_0x2ec6a9(0x1ae)]['style'][_0x2ec6a9(0x19c)]=_0x2ec6a9(0x181);if(this[_0x2ec6a9(0x167)])this[_0x2ec6a9(0x167)][_0x2ec6a9(0x1d7)][_0x2ec6a9(0x19c)]=_0x2ec6a9(0x181);if(this[_0x2ec6a9(0x16d)])this[_0x2ec6a9(0x16d)]['style']['display']='flex';if(this['inputSection'])this['inputSection'][_0x2ec6a9(0x1d7)]['display']='block';}['enableChat'](){const _0x44585f=_0x1b39e7;this['messageInput']&&(this['messageInput']['disabled']=![],this['messageInput'][_0x44585f(0x17d)]());if(this['sendBtn'])this[_0x44585f(0x162)]['disabled']=![];}[_0x1b39e7(0x1c4)](){const _0x57aa95=_0x1b39e7;if(this[_0x57aa95(0x196)])this[_0x57aa95(0x196)]['disabled']=!![];if(this[_0x57aa95(0x162)])this['sendBtn']['disabled']=!![];}[_0x1b39e7(0x1e2)](){const _0x54a4cc=_0x1b39e7,_0x3962fc=this['messageInput']?.['value'][_0x54a4cc(0x13d)]();if(!_0x3962fc||!this[_0x54a4cc(0x146)])return;const _0x180580={'type':_0x54a4cc(0x165),'text':_0x3962fc,'timestamp':Date['now']()};try{this['dataChannel']['send'](JSON['stringify'](_0x180580)),this[_0x54a4cc(0x194)](_0x3962fc,'sent',_0x180580['timestamp']),this[_0x54a4cc(0x196)][_0x54a4cc(0x1e8)]='';}catch(_0x1f11de){console[_0x54a4cc(0x1b9)]('Q-Chat:\x20Error\x20sending\x20message:',_0x1f11de),this['showSystemMessage'](_0x54a4cc(0x1cc));}}['receiveMessage'](_0xec4bc0){const _0xd8e8f4=_0x1b39e7;_0xec4bc0['type']===_0xd8e8f4(0x165)&&(this['addMessage'](_0xec4bc0[_0xd8e8f4(0x19f)],_0xd8e8f4(0x1c3),_0xec4bc0[_0xd8e8f4(0x1fc)]),!this[_0xd8e8f4(0x1de)]&&(this['unreadCount']++,this['updateBadge']()));}['addMessage'](_0x37d48e,_0x13e644,_0x5057f5){const _0x3e2b4e=_0x1b39e7,_0x46e100=document[_0x3e2b4e(0x150)](_0x3e2b4e(0x1db));_0x46e100[_0x3e2b4e(0x180)]='qchat-message\x20'+_0x13e644;const _0x44963b=new Date(_0x5057f5)[_0x3e2b4e(0x1d2)]([],{'hour':'2-digit','minute':_0x3e2b4e(0x15b)});_0x46e100['innerHTML']=_0x3e2b4e(0x14f)+this[_0x3e2b4e(0x135)](_0x37d48e)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x13e644==='sent'?'âœ“\x20':'')+_0x44963b+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x3e2b4e(0x139)]?.[_0x3e2b4e(0x1da)](_0x46e100),this[_0x3e2b4e(0x1a2)]();}[_0x1b39e7(0x175)](_0x2e672e){const _0x235e1a=_0x1b39e7,_0x5d6d1e=document['createElement'](_0x235e1a(0x1db));_0x5d6d1e['className']='qchat-system-message',_0x5d6d1e['textContent']=_0x2e672e,this[_0x235e1a(0x139)]?.[_0x235e1a(0x1da)](_0x5d6d1e),this['scrollToBottom']();}['scrollToBottom'](){const _0x56caba=_0x1b39e7;this[_0x56caba(0x16d)]&&(this[_0x56caba(0x16d)]['scrollTop']=this['messagesSection'][_0x56caba(0x151)]);}[_0x1b39e7(0x1ea)](_0xa788fe,_0x1d8d2d){const _0x9224bf=_0x1b39e7;if(this[_0x9224bf(0x16b)]){this['statusEl']['className']=_0x9224bf(0x15c)+_0xa788fe;const _0x1f237e=this[_0x9224bf(0x16b)]['querySelector']('.status-text');if(_0x1f237e)_0x1f237e['textContent']=_0x1d8d2d;}}[_0x1b39e7(0x1e0)](){const _0x26a009=_0x1b39e7;this['badge']&&(this[_0x26a009(0x169)]>0x0?(this['badge']['textContent']=this[_0x26a009(0x169)]>0x63?_0x26a009(0x1d1):this['unreadCount'],this[_0x26a009(0x13a)][_0x26a009(0x1d7)][_0x26a009(0x19c)]=_0x26a009(0x1c6)):this[_0x26a009(0x13a)]['style'][_0x26a009(0x19c)]='none');}['clearUnread'](){const _0x2ce7ec=_0x1b39e7;this[_0x2ce7ec(0x169)]=0x0,this[_0x2ce7ec(0x1e0)]();}[_0x1b39e7(0x145)](){const _0x406371=_0x1b39e7;this['roomId']&&navigator['clipboard'][_0x406371(0x1ad)](this[_0x406371(0x14b)])['then'](()=>{const _0x2d8599=_0x406371;this[_0x2d8599(0x175)]('Room\x20code\x20copied!');})[_0x406371(0x1a7)](()=>{const _0x22ce8a=_0x406371,_0x49dae6=document['createElement'](_0x22ce8a(0x199));_0x49dae6['value']=this['roomId'],document[_0x22ce8a(0x1f5)][_0x22ce8a(0x1da)](_0x49dae6),_0x49dae6[_0x22ce8a(0x15a)](),document[_0x22ce8a(0x148)](_0x22ce8a(0x157)),document[_0x22ce8a(0x1f5)]['removeChild'](_0x49dae6),this['showSystemMessage']('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x216bc5=_0x1b39e7;this[_0x216bc5(0x146)]=![],this[_0x216bc5(0x1ea)]('disconnected',_0x216bc5(0x170)),this[_0x216bc5(0x1c4)]();}['escapeHtml'](_0x2c936f){const _0x276be1=_0x1b39e7,_0x4dbb79=document['createElement'](_0x276be1(0x1db));return _0x4dbb79[_0x276be1(0x14a)]=_0x2c936f,_0x4dbb79['innerHTML'];}}function _0x5c90(){const _0x208560=['charAt','onicecandidate','handleIceCandidate','qchatRoomCode','enableChat','clearUnread','addMessage','7402510qgRUzf','messageInput','matrixSphereStatus','url','textarea','Failed\x20to\x20connect\x20to\x20server','setLocalDescription','display','Generating\x20Quantum\x20Tunnel...','Q-Chat\x20Server\x20Error:','text','onopen','Waiting\x20for\x20host...','scrollToBottom','bindEvents','15PtcMgl','px)','log','catch','addEventListener','Error','qchatRoomInfo','generateRoomId','10596483WgGgcO','writeText','connectSection','createMatrixSphere','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','Q-Chat:\x20Sending\x20ICE\x20candidate:','createBtn','closePanel','addIceCandidate','Q-Chat:\x20Error\x20handling\x20offer:','peer-left','isHost','showChatUI','error','animationDelay','Q-Chat:\x20ICE\x20gathering\x20complete','qchatRoomInput','random','Q-Chat:\x20ICE\x20gathering\x20state:','ondatachannel','.matrix-digit','qchatWaiting','qchatRoomCodeSection','received','disableChat','Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:','flex','matrix-digit','matrixSphere','connected','qchatBadge','Q-Chat:\x20Data\x20channel\x20open','Failed\x20to\x20send\x20message','16883QUgICl','protocol','-7px','span','99+','toLocaleTimeString','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','readyState','wss:','toggleBtn','style','onconnectionstatechange','active','appendChild','div','shiftKey','handleOffer','isPanelOpen','digitChangeInterval','updateBadge','Peer\x20left','sendMessage','querySelectorAll','Q-Chat:\x20Received\x20message:','parse','1513904DfUsCQ','peerConnection','value','createAndSendOffer','updateStatus','urls','handleSignalingMessage','createAnswer','stun:stun1.l.google.com:19302','onmessage','add','Setup\x20failed','room-joined','click','initializeWebRTC','body','sqrt','qchatPanel','22WqDYcv','marginTop','data','qchatCopyCode','timestamp','qChat','Q-Chat:\x20Creating\x20and\x20sending\x20offer...','showRoomInfo','togglePanel','connectToServer','left','joinRoom','escapeHtml','isArray','panel','translate3d(','messagesList','badge','Establishing\x20Secure\x20Link...','17106ZpMLRr','trim','top','hidden','map','qchatToggle','Q-Chat:\x20Data\x20channel\x20closed','Q-Chat:\x20Connecting\x20to:','contains','copyRoomCode','isConnected','cos','execCommand','dataChannel','textContent','roomId','qchatStatus','8Jgmvyl','answer','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','createElement','scrollHeight','create-room','innerHTML','candidate','1276456dMnRym','length','copy','location','roomInput','select','2-digit','qchat-status\x20','join-room','getWebSocketUrl','open','2093FRngux','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','sendBtn','send','handleDisconnect','message','Q-Chat:\x20Error\x20handling\x20answer:','roomInfoSection','/ws','unreadCount','getElementById','statusEl','Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:','messagesSection','connecting','oniceconnectionstatechange','Disconnected','json','-10px','Q-Chat:\x20WebSocket\x20closed','sdp','showSystemMessage','joinBtn','target','disconnected','copyCodeBtn','Q-Chat:\x20Error\x20creating\x20offer:','floor','onclose','focus','classList','connectionState','className','none','qchatMessagesList','Enter','qchatConnect','setupDataChannel','keypress','4035939rqzWUs','roomCodeEl','block','createDataChannel','peer-joined','closeBtn','ice-candidate'];_0x5c90=function(){return _0x208560;};return _0x5c90();}function _0x5146(_0x3c38de,_0x30a9b2){_0x3c38de=_0x3c38de-0x132;const _0x5c909a=_0x5c90();let _0x5146c9=_0x5c909a[_0x3c38de];return _0x5146c9;}document[_0x1b39e7(0x1a8)]('DOMContentLoaded',()=>{const _0x279d05=_0x1b39e7;window[_0x279d05(0x1fd)]=new QChat();});