function _0x2c18(_0x160318,_0x2df327){_0x160318=_0x160318-0x146;const _0x7ae0cf=_0x7ae0();let _0x2c18a5=_0x7ae0cf[_0x160318];return _0x2c18a5;}const _0x21bdd8=_0x2c18;(function(_0x215c50,_0x1eea0b){const _0x4a707c=_0x2c18,_0x1b8f02=_0x215c50();while(!![]){try{const _0x5365bd=parseInt(_0x4a707c(0x1ac))/0x1+-parseInt(_0x4a707c(0x19c))/0x2+parseInt(_0x4a707c(0x187))/0x3+parseInt(_0x4a707c(0x172))/0x4+-parseInt(_0x4a707c(0x19b))/0x5*(-parseInt(_0x4a707c(0x1bf))/0x6)+parseInt(_0x4a707c(0x160))/0x7+-parseInt(_0x4a707c(0x190))/0x8*(parseInt(_0x4a707c(0x1d5))/0x9);if(_0x5365bd===_0x1eea0b)break;else _0x1b8f02['push'](_0x1b8f02['shift']());}catch(_0x5bcd0f){_0x1b8f02['push'](_0x1b8f02['shift']());}}}(_0x7ae0,0x2af4e));function _0x7ae0(){const _0x1857f8=['marginLeft','qchatRoomCodeSection','ice-candidate','failed','togglePanel','body','writeText','answer','sendBtn','execCommand','Joined\x20room!\x20Waiting\x20for\x20host...','px,\x20','remove','https:','Room\x20code\x20copied!','124806gBzSas','Finalizing\x20Quantum\x20Code...','createAndSendOffer','wss:','showRoomInfo','animationDelay','toggleBtn','connected','key','handleIceCandidate','ws:','isHost','innerHTML','candidate','random','Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback','channel','timestamp','peer-left','21768BanPcZ','Q-Chat:\x20WebSocket\x20connected','createMatrixSphere','qchat-message\x20','join-room','length','Q-Chat:\x20Connecting\x20to:','floor','50%','handleDisconnect','peerConnection','setRemoteDescription','classList','updateBadge','active','joinRoom','handleSignalingMessage','setupDataChannel','createRoom','qchatBadge','connectToServer','addEventListener','1065474GqBBiO','matrixSphereContainer','getWebSocketUrl','closePanel','qchat','escapeHtml','bindEvents','click','Q-Chat:\x20Error\x20sending\x20message:','.matrix-digit','createOffer','received','scrollToBottom','qchatWaiting','style','updateStatus','createDataChannel','message','qchatRoomInfo','toLocaleTimeString','handleAnswer','parse','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','Encrypting\x20Neural\x20Pathway...','showChatUI','connecting','badge','sendMessage','qChat','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','Enter','initializeWebRTC','Q-Chat:\x20Error\x20handling\x20offer:','fade-out','matrixSphereStatus','appendChild','Q-Chat:\x20Connection\x20state:','qchatRoomCode','connectSection','messagesList','statusEl','data','openPanel','roomId','getElementById','unreadCount','connectionState','createElement','messageInput','Failed\x20to\x20send\x20message','display','text','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','qchatClose','error','Q-Chat:\x20WebSocket\x20closed','log','roomInput','open','opacity','addMessage','matrixSphere','startMatrixSphereAnimation','2265277FRWZKH','handleOffer','99+','select','host','Q-Chat:\x20WebSocket\x20error:','textContent','Q-Chat\x20Server\x20Error:','isConnected','copyCodeBtn','/ws','className','roomInfoSection','hidden','createBtn','setLocalDescription','isPanelOpen','location','1024024aSTZhQ','none','preventDefault','qchat-system-message','createAnswer','send','onclose','Error','trim','add','sent','Joining...','disconnected','panel','inputSection','ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)','clearUnread','messagesSection','showSystemMessage','disabled','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','739689mbryFw','/api/turn-credentials','Q-Chat:\x20Error\x20creating\x20offer:','Disconnected','offer','digitChangeInterval','contains','2-digit','onopen','64JmwtpE','qchatPanel','qchatMessageInput','roomCodeEl','enableChat','value','focus','dataChannel','disableChat','sin','block','430uTMfOa','279912oyIVaX'];_0x7ae0=function(){return _0x1857f8;};return _0x7ae0();}class QChat{constructor(){const _0x248752=_0x2c18;this['ws']=null,this[_0x248752(0x1c9)]=null,this['dataChannel']=null,this['roomId']=null,this[_0x248752(0x1b7)]=![],this['isConnected']=![],this['unreadCount']=0x0,this[_0x248752(0x170)]=![],this['initElements'](),this[_0x248752(0x1db)]();}['initElements'](){const _0x26566e=_0x2c18;this[_0x26566e(0x17f)]=document['getElementById'](_0x26566e(0x191)),this['toggleBtn']=document[_0x26566e(0x14d)]('qchatToggle'),this['closeBtn']=document['getElementById'](_0x26566e(0x156)),this['badge']=document[_0x26566e(0x14d)](_0x26566e(0x1d2)),this[_0x26566e(0x147)]=document['getElementById']('qchatConnect'),this[_0x26566e(0x16c)]=document[_0x26566e(0x14d)](_0x26566e(0x1e7)),this['messagesSection']=document['getElementById']('qchatMessages'),this[_0x26566e(0x180)]=document['getElementById']('qchatInputSection'),this['statusEl']=document['getElementById']('qchatStatus'),this['roomCodeEl']=document['getElementById'](_0x26566e(0x146)),this['createBtn']=document[_0x26566e(0x14d)]('qchatCreate'),this['joinBtn']=document[_0x26566e(0x14d)]('qchatJoin'),this['copyCodeBtn']=document['getElementById']('qchatCopyCode'),this[_0x26566e(0x1a5)]=document['getElementById']('qchatSendBtn'),this[_0x26566e(0x15a)]=document['getElementById']('qchatRoomInput'),this['messageInput']=document[_0x26566e(0x14d)](_0x26566e(0x192)),this[_0x26566e(0x148)]=document[_0x26566e(0x14d)]('qchatMessagesList');}[_0x21bdd8(0x1db)](){const _0x3ca1d2=_0x21bdd8;this[_0x3ca1d2(0x1b2)]?.['addEventListener'](_0x3ca1d2(0x1dc),()=>this[_0x3ca1d2(0x1a1)]()),this['closeBtn']?.['addEventListener'](_0x3ca1d2(0x1dc),()=>this['closePanel']()),this[_0x3ca1d2(0x16e)]?.['addEventListener']('click',()=>this['createRoom']()),this['joinBtn']?.['addEventListener'](_0x3ca1d2(0x1dc),()=>this[_0x3ca1d2(0x1ce)]()),this['roomInput']?.['addEventListener']('keypress',_0xede2ac=>{const _0x4d9d8b=_0x3ca1d2;if(_0xede2ac[_0x4d9d8b(0x1b4)]===_0x4d9d8b(0x1f3))this['joinRoom']();}),this[_0x3ca1d2(0x169)]?.['addEventListener']('click',()=>this['copyRoomCode']()),this[_0x3ca1d2(0x1a5)]?.[_0x3ca1d2(0x1d4)]('click',()=>this[_0x3ca1d2(0x1f0)]()),this[_0x3ca1d2(0x151)]?.['addEventListener']('keypress',_0x3007aa=>{const _0x3f830f=_0x3ca1d2;_0x3007aa['key']==='Enter'&&!_0x3007aa['shiftKey']&&(_0x3007aa[_0x3f830f(0x174)](),this[_0x3f830f(0x1f0)]());}),document[_0x3ca1d2(0x1d4)]('click',_0x5b7b20=>{const _0x37c096=_0x3ca1d2;this[_0x37c096(0x170)]&&!this[_0x37c096(0x17f)]?.[_0x37c096(0x18d)](_0x5b7b20['target'])&&!this['toggleBtn']?.[_0x37c096(0x18d)](_0x5b7b20['target'])&&this[_0x37c096(0x1d8)]();});}[_0x21bdd8(0x1a1)](){this['isPanelOpen']?this['closePanel']():this['openPanel']();}[_0x21bdd8(0x14b)](){const _0x49f25d=_0x21bdd8;this[_0x49f25d(0x17f)]?.[_0x49f25d(0x1cb)]['add']('open'),this['toggleBtn']?.[_0x49f25d(0x1cb)][_0x49f25d(0x17b)](_0x49f25d(0x1cd)),this['isPanelOpen']=!![],this[_0x49f25d(0x182)]();}[_0x21bdd8(0x1d8)](){const _0x38306f=_0x21bdd8;this['panel']?.[_0x38306f(0x1cb)]['remove'](_0x38306f(0x15b)),this[_0x38306f(0x1b2)]?.['classList'][_0x38306f(0x1a9)]('active'),this[_0x38306f(0x170)]=![];}['generateRoomId'](){const _0x17021f=_0x21bdd8,_0x161b4c=_0x17021f(0x186);let _0x58075c='';for(let _0x32e7b5=0x0;_0x32e7b5<0x6;_0x32e7b5++){_0x58075c+=_0x161b4c['charAt'](Math[_0x17021f(0x1c6)](Math['random']()*_0x161b4c[_0x17021f(0x1c4)]));}return _0x58075c;}[_0x21bdd8(0x1d7)](){const _0x17b93e=_0x21bdd8,_0x6eb5d4=window[_0x17b93e(0x171)]['protocol']===_0x17b93e(0x1aa)?_0x17b93e(0x1af):_0x17b93e(0x1b6);return _0x6eb5d4+'//'+window[_0x17b93e(0x171)][_0x17b93e(0x164)]+_0x17b93e(0x16a);}async['connectToServer'](){return new Promise((_0x3e5877,_0x5215b3)=>{const _0x48e56d=_0x2c18,_0x5c5ea0=this['getWebSocketUrl']();console['log'](_0x48e56d(0x1c5),_0x5c5ea0),this['ws']=new WebSocket(_0x5c5ea0),this['ws']['onopen']=()=>{const _0x55c2ff=_0x48e56d;console['log'](_0x55c2ff(0x1c0)),_0x3e5877();},this['ws']['onerror']=_0x23d454=>{const _0x220841=_0x48e56d;console['error'](_0x220841(0x165),_0x23d454),_0x5215b3(_0x23d454);},this['ws'][_0x48e56d(0x178)]=()=>{const _0x5b4a4c=_0x48e56d;console[_0x5b4a4c(0x159)](_0x5b4a4c(0x158)),this['handleDisconnect']();},this['ws']['onmessage']=_0x5ada46=>{const _0x20ec2b=_0x48e56d,_0xb5b1de=JSON[_0x20ec2b(0x1ea)](_0x5ada46['data']);this[_0x20ec2b(0x1cf)](_0xb5b1de);};});}['send'](_0x179c92){const _0x47e032=_0x21bdd8;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws'][_0x47e032(0x177)](JSON['stringify'](_0x179c92));}async[_0x21bdd8(0x1d1)](){const _0x57b6d4=_0x21bdd8;this['isHost']=!![],this[_0x57b6d4(0x14c)]=this['generateRoomId'](),this[_0x57b6d4(0x1e4)](_0x57b6d4(0x1ee),'Connecting...');try{await this[_0x57b6d4(0x1d3)](),this['send']({'type':'create-room','roomId':this[_0x57b6d4(0x14c)]});}catch(_0x162a2f){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this[_0x57b6d4(0x1e4)](_0x57b6d4(0x17e),'Connection\x20failed');}}async['joinRoom'](){const _0x5c3fed=_0x21bdd8,_0x95148d=this['roomInput']?.['value'][_0x5c3fed(0x17a)]()['toUpperCase']();if(!_0x95148d||_0x95148d['length']<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this[_0x5c3fed(0x1b7)]=![],this[_0x5c3fed(0x14c)]=_0x95148d,this['updateStatus'](_0x5c3fed(0x1ee),_0x5c3fed(0x17d));try{await this['connectToServer'](),this['send']({'type':_0x5c3fed(0x1c3),'roomId':this[_0x5c3fed(0x14c)]});}catch(_0xf39883){this[_0x5c3fed(0x184)]('Failed\x20to\x20connect\x20to\x20server'),this[_0x5c3fed(0x1e4)]('disconnected','Connection\x20failed');}}async['handleSignalingMessage'](_0xf68152){const _0x8ef09d=_0x21bdd8;switch(_0xf68152['type']){case'room-created':this[_0x8ef09d(0x1b0)](),this['updateStatus']('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage'](_0x8ef09d(0x1a7)),this[_0x8ef09d(0x1e4)]('connecting','Waiting\x20for\x20host...');break;case'peer-joined':this[_0x8ef09d(0x184)](_0x8ef09d(0x1f2)),this['updateStatus'](_0x8ef09d(0x1ee),'Establishing\x20P2P...'),await this['initializeWebRTC']();this[_0x8ef09d(0x1b7)]&&await this[_0x8ef09d(0x1ae)]();break;case _0x8ef09d(0x1be):this['showSystemMessage']('Peer\x20disconnected'),this['updateStatus']('disconnected','Peer\x20left'),this['disableChat']();break;case'offer':await this[_0x8ef09d(0x161)](_0xf68152);break;case _0x8ef09d(0x1a4):await this[_0x8ef09d(0x1e9)](_0xf68152);break;case'ice-candidate':await this['handleIceCandidate'](_0xf68152);break;case _0x8ef09d(0x157):this['showSystemMessage']('Error:\x20'+_0xf68152[_0x8ef09d(0x1e6)]),this[_0x8ef09d(0x1e4)]('disconnected',_0x8ef09d(0x179)),console[_0x8ef09d(0x157)](_0x8ef09d(0x167),_0xf68152[_0x8ef09d(0x1e6)]);break;}}async['initializeWebRTC'](){const _0x5a2cdd=_0x21bdd8,_0x2fe82a=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x475062=_0x2fe82a;try{const _0x231f3a=await fetch(_0x5a2cdd(0x188)),_0x550823=await _0x231f3a['json']();Array['isArray'](_0x550823)&&_0x550823['length']>0x0?(_0x475062=_0x550823,console['log']('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console['log'](_0x5a2cdd(0x1bb));}catch(_0xc87d36){console['log']('Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback');}const _0x8b0962={'iceServers':_0x475062};this[_0x5a2cdd(0x1c9)]=new RTCPeerConnection(_0x8b0962),this['peerConnection']['onicecandidate']=_0x24a0d3=>{const _0x5ccef0=_0x5a2cdd;_0x24a0d3['candidate']&&this['send']({'type':_0x5ccef0(0x19f),'roomId':this['roomId'],'candidate':_0x24a0d3['candidate']});},this['peerConnection']['onconnectionstatechange']=()=>{const _0x3c2e4c=_0x5a2cdd,_0x1500cd=this['peerConnection'][_0x3c2e4c(0x14f)];console[_0x3c2e4c(0x159)](_0x3c2e4c(0x1f9),_0x1500cd);if(_0x1500cd===_0x3c2e4c(0x1b3))this[_0x3c2e4c(0x1e4)]('connected','Secure\x20P2P'),this['showSystemMessage'](_0x3c2e4c(0x181));else(_0x1500cd==='disconnected'||_0x1500cd===_0x3c2e4c(0x1a0))&&(this[_0x3c2e4c(0x1e4)](_0x3c2e4c(0x17e),_0x3c2e4c(0x18a)),this[_0x3c2e4c(0x198)]());},this[_0x5a2cdd(0x1b7)]?(this[_0x5a2cdd(0x197)]=this[_0x5a2cdd(0x1c9)][_0x5a2cdd(0x1e5)](_0x5a2cdd(0x1d9),{'ordered':!![]}),this[_0x5a2cdd(0x1d0)]()):this[_0x5a2cdd(0x1c9)]['ondatachannel']=_0x465019=>{const _0x10a8dc=_0x5a2cdd;this[_0x10a8dc(0x197)]=_0x465019[_0x10a8dc(0x1bc)],this['setupDataChannel']();};}[_0x21bdd8(0x1d0)](){const _0x1c9b59=_0x21bdd8;this[_0x1c9b59(0x197)][_0x1c9b59(0x18f)]=()=>{const _0x3c96ff=_0x1c9b59;console['log']('Q-Chat:\x20Data\x20channel\x20open'),this['isConnected']=!![],this[_0x3c96ff(0x194)](),this['showChatUI']();},this['dataChannel']['onclose']=()=>{const _0x4e3251=_0x1c9b59;console['log']('Q-Chat:\x20Data\x20channel\x20closed'),this[_0x4e3251(0x168)]=![],this[_0x4e3251(0x198)]();},this['dataChannel']['onmessage']=_0x2e861e=>{const _0x143333=_0x1c9b59,_0x3c9ee5=JSON[_0x143333(0x1ea)](_0x2e861e[_0x143333(0x14a)]);this['receiveMessage'](_0x3c9ee5);};}async[_0x21bdd8(0x1ae)](){const _0x242d42=_0x21bdd8;try{const _0x1e028b=await this[_0x242d42(0x1c9)][_0x242d42(0x1df)]();await this[_0x242d42(0x1c9)][_0x242d42(0x16f)](_0x1e028b),this['send']({'type':'offer','roomId':this['roomId'],'sdp':_0x1e028b['sdp']});}catch(_0x30216b){console['error'](_0x242d42(0x189),_0x30216b);}}async['handleOffer'](_0x24c6ee){const _0x521df2=_0x21bdd8;try{await this[_0x521df2(0x1f4)](),await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x521df2(0x18b),'sdp':_0x24c6ee['sdp']}));const _0x430b4b=await this[_0x521df2(0x1c9)][_0x521df2(0x176)]();await this['peerConnection']['setLocalDescription'](_0x430b4b),this['send']({'type':'answer','roomId':this[_0x521df2(0x14c)],'sdp':_0x430b4b['sdp']});}catch(_0x7d6529){console['error'](_0x521df2(0x1f5),_0x7d6529);}}async['handleAnswer'](_0xe0f35e){const _0x4193fc=_0x21bdd8;try{await this['peerConnection'][_0x4193fc(0x1ca)](new RTCSessionDescription({'type':_0x4193fc(0x1a4),'sdp':_0xe0f35e['sdp']}));}catch(_0x14569a){console['error']('Q-Chat:\x20Error\x20handling\x20answer:',_0x14569a);}}async[_0x21bdd8(0x1b5)](_0x51c10c){const _0x58e713=_0x21bdd8;try{_0x51c10c['candidate']&&await this[_0x58e713(0x1c9)]['addIceCandidate'](new RTCIceCandidate(_0x51c10c[_0x58e713(0x1b9)]));}catch(_0x4e8f6b){console[_0x58e713(0x157)](_0x58e713(0x1eb),_0x4e8f6b);}}[_0x21bdd8(0x1b0)](){const _0x11bcae=_0x21bdd8;if(this[_0x11bcae(0x147)])this[_0x11bcae(0x147)]['style'][_0x11bcae(0x153)]=_0x11bcae(0x173);if(this[_0x11bcae(0x16c)])this['roomInfoSection'][_0x11bcae(0x1e3)]['display']=_0x11bcae(0x19a);this[_0x11bcae(0x15f)]();}[_0x21bdd8(0x15f)](){const _0x3a488e=_0x21bdd8,_0x4c8d32=document[_0x3a488e(0x14d)](_0x3a488e(0x1d6)),_0x20eb85=document[_0x3a488e(0x14d)](_0x3a488e(0x15e)),_0x1066c1=document[_0x3a488e(0x14d)](_0x3a488e(0x1f7)),_0x111fcd=document['getElementById'](_0x3a488e(0x19e)),_0x520c95=document['getElementById'](_0x3a488e(0x1e2));if(!_0x20eb85||!_0x4c8d32){if(this[_0x3a488e(0x193)])this['roomCodeEl']['textContent']=this[_0x3a488e(0x14c)];return;}this['createMatrixSphere'](_0x20eb85);const _0x15b9fe=['Generating\x20Quantum\x20Tunnel...',_0x3a488e(0x1ec),'Establishing\x20Secure\x20Link...',_0x3a488e(0x1ad)];let _0x3025e7=0x0;const _0x178aea=setInterval(()=>{const _0x2975ce=_0x3a488e;_0x3025e7++,_0x3025e7<_0x15b9fe[_0x2975ce(0x1c4)]&&_0x1066c1&&(_0x1066c1[_0x2975ce(0x166)]=_0x15b9fe[_0x3025e7]);},0x258);setTimeout(()=>{const _0x41f313=_0x3a488e;clearInterval(_0x178aea),_0x20eb85['classList'][_0x41f313(0x17b)](_0x41f313(0x1f6));if(_0x1066c1)_0x1066c1[_0x41f313(0x1e3)][_0x41f313(0x153)]='none';setTimeout(()=>{const _0x29b013=_0x41f313;_0x4c8d32['style'][_0x29b013(0x153)]='none';if(this['roomCodeEl'])this[_0x29b013(0x193)]['textContent']=this['roomId'];_0x111fcd&&(_0x111fcd['classList']['remove']('hidden'),_0x111fcd['classList']['add']('reveal')),_0x520c95&&_0x520c95['classList']['remove'](_0x29b013(0x16d));},0x320);},0x9c4);}[_0x21bdd8(0x1c1)](_0x33fd92){const _0x55bc87=_0x21bdd8;_0x33fd92[_0x55bc87(0x1b8)]='';const _0x407be0=0x78,_0x32e869=0x3c;for(let _0x9769c0=0x0;_0x9769c0<_0x407be0;_0x9769c0++){const _0x5cf8f2=document[_0x55bc87(0x150)]('span');_0x5cf8f2['className']='matrix-digit',_0x5cf8f2[_0x55bc87(0x166)]=Math[_0x55bc87(0x1c6)](Math['random']()*0xa);const _0x290ea1=Math['acos'](0x1-0x2*(_0x9769c0+0.5)/_0x407be0),_0x5f5c60=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x9769c0,_0x4ed917=_0x32e869*Math['sin'](_0x290ea1)*Math['cos'](_0x5f5c60),_0x369425=_0x32e869*Math[_0x55bc87(0x199)](_0x290ea1)*Math[_0x55bc87(0x199)](_0x5f5c60),_0x54df4d=_0x32e869*Math['cos'](_0x290ea1);_0x5cf8f2['style']['transform']='translate3d('+_0x4ed917+'px,\x20'+_0x369425+_0x55bc87(0x1a8)+_0x54df4d+'px)',_0x5cf8f2[_0x55bc87(0x1e3)]['left']='50%',_0x5cf8f2['style']['top']=_0x55bc87(0x1c7),_0x5cf8f2['style'][_0x55bc87(0x19d)]='-7px',_0x5cf8f2[_0x55bc87(0x1e3)]['marginTop']='-10px',_0x5cf8f2['style'][_0x55bc87(0x1b1)]=Math[_0x55bc87(0x1ba)]()*0.5+'s';const _0x4dfad4=0.4+(_0x54df4d+_0x32e869)/(0x2*_0x32e869)*0.6;_0x5cf8f2['style'][_0x55bc87(0x15c)]=_0x4dfad4,_0x33fd92[_0x55bc87(0x1f8)](_0x5cf8f2);}this['digitChangeInterval']=setInterval(()=>{const _0x7cf8d9=_0x55bc87,_0x3ae972=_0x33fd92['querySelectorAll'](_0x7cf8d9(0x1de)),_0x47c3e0=_0x3ae972[Math['floor'](Math[_0x7cf8d9(0x1ba)]()*_0x3ae972['length'])];_0x47c3e0&&(_0x47c3e0['textContent']=Math['floor'](Math[_0x7cf8d9(0x1ba)]()*0xa));},0x32),setTimeout(()=>{const _0x4df062=_0x55bc87;this['digitChangeInterval']&&clearInterval(this[_0x4df062(0x18c)]);},0xdac);}[_0x21bdd8(0x1ed)](){const _0x2dbd94=_0x21bdd8;if(this['connectSection'])this[_0x2dbd94(0x147)][_0x2dbd94(0x1e3)]['display']='none';if(this[_0x2dbd94(0x16c)])this['roomInfoSection']['style']['display']='none';if(this[_0x2dbd94(0x183)])this[_0x2dbd94(0x183)]['style'][_0x2dbd94(0x153)]='flex';if(this['inputSection'])this['inputSection'][_0x2dbd94(0x1e3)]['display']='block';}[_0x21bdd8(0x194)](){const _0x48dab9=_0x21bdd8;this[_0x48dab9(0x151)]&&(this[_0x48dab9(0x151)]['disabled']=![],this['messageInput'][_0x48dab9(0x196)]());if(this['sendBtn'])this['sendBtn'][_0x48dab9(0x185)]=![];}[_0x21bdd8(0x198)](){const _0x5940c9=_0x21bdd8;if(this[_0x5940c9(0x151)])this[_0x5940c9(0x151)]['disabled']=!![];if(this[_0x5940c9(0x1a5)])this['sendBtn']['disabled']=!![];}[_0x21bdd8(0x1f0)](){const _0x2c1ad1=_0x21bdd8,_0x46d9bf=this[_0x2c1ad1(0x151)]?.['value'][_0x2c1ad1(0x17a)]();if(!_0x46d9bf||!this[_0x2c1ad1(0x168)])return;const _0x2c2a45={'type':_0x2c1ad1(0x1e6),'text':_0x46d9bf,'timestamp':Date['now']()};try{this['dataChannel']['send'](JSON['stringify'](_0x2c2a45)),this[_0x2c1ad1(0x15d)](_0x46d9bf,_0x2c1ad1(0x17c),_0x2c2a45[_0x2c1ad1(0x1bd)]),this[_0x2c1ad1(0x151)][_0x2c1ad1(0x195)]='';}catch(_0x210297){console[_0x2c1ad1(0x157)](_0x2c1ad1(0x1dd),_0x210297),this['showSystemMessage'](_0x2c1ad1(0x152));}}['receiveMessage'](_0x5c9d9f){const _0x4b7177=_0x21bdd8;_0x5c9d9f['type']===_0x4b7177(0x1e6)&&(this['addMessage'](_0x5c9d9f[_0x4b7177(0x154)],_0x4b7177(0x1e0),_0x5c9d9f[_0x4b7177(0x1bd)]),!this[_0x4b7177(0x170)]&&(this['unreadCount']++,this['updateBadge']()));}['addMessage'](_0x579c78,_0x1e80e7,_0x1fa505){const _0xaa5046=_0x21bdd8,_0x8b0105=document['createElement']('div');_0x8b0105['className']=_0xaa5046(0x1c2)+_0x1e80e7;const _0xd805ea=new Date(_0x1fa505)[_0xaa5046(0x1e8)]([],{'hour':_0xaa5046(0x18e),'minute':'2-digit'});_0x8b0105[_0xaa5046(0x1b8)]='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this[_0xaa5046(0x1da)](_0x579c78)+_0xaa5046(0x155)+(_0x1e80e7==='sent'?'âœ“\x20':'')+_0xd805ea+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0xaa5046(0x148)]?.['appendChild'](_0x8b0105),this[_0xaa5046(0x1e1)]();}['showSystemMessage'](_0x35789c){const _0x5f4d2d=_0x21bdd8,_0x12abf5=document[_0x5f4d2d(0x150)]('div');_0x12abf5['className']=_0x5f4d2d(0x175),_0x12abf5['textContent']=_0x35789c,this['messagesList']?.['appendChild'](_0x12abf5),this['scrollToBottom']();}['scrollToBottom'](){const _0x46aa1b=_0x21bdd8;this[_0x46aa1b(0x183)]&&(this[_0x46aa1b(0x183)]['scrollTop']=this[_0x46aa1b(0x183)]['scrollHeight']);}['updateStatus'](_0x58ed94,_0x46a8bb){const _0x138710=_0x21bdd8;if(this['statusEl']){this[_0x138710(0x149)][_0x138710(0x16b)]='qchat-status\x20'+_0x58ed94;const _0x8159b1=this['statusEl']['querySelector']('.status-text');if(_0x8159b1)_0x8159b1['textContent']=_0x46a8bb;}}[_0x21bdd8(0x1cc)](){const _0x7ae424=_0x21bdd8;this['badge']&&(this[_0x7ae424(0x14e)]>0x0?(this['badge']['textContent']=this['unreadCount']>0x63?_0x7ae424(0x162):this['unreadCount'],this[_0x7ae424(0x1ef)][_0x7ae424(0x1e3)]['display']='flex'):this[_0x7ae424(0x1ef)][_0x7ae424(0x1e3)][_0x7ae424(0x153)]=_0x7ae424(0x173));}[_0x21bdd8(0x182)](){this['unreadCount']=0x0,this['updateBadge']();}['copyRoomCode'](){const _0x2e87fa=_0x21bdd8;this[_0x2e87fa(0x14c)]&&navigator['clipboard'][_0x2e87fa(0x1a3)](this[_0x2e87fa(0x14c)])['then'](()=>{this['showSystemMessage']('Room\x20code\x20copied!');})['catch'](()=>{const _0xfd21f8=_0x2e87fa,_0x43a84c=document['createElement']('textarea');_0x43a84c[_0xfd21f8(0x195)]=this[_0xfd21f8(0x14c)],document[_0xfd21f8(0x1a2)]['appendChild'](_0x43a84c),_0x43a84c[_0xfd21f8(0x163)](),document[_0xfd21f8(0x1a6)]('copy'),document['body']['removeChild'](_0x43a84c),this[_0xfd21f8(0x184)](_0xfd21f8(0x1ab));});}[_0x21bdd8(0x1c8)](){const _0xd7e10d=_0x21bdd8;this[_0xd7e10d(0x168)]=![],this[_0xd7e10d(0x1e4)](_0xd7e10d(0x17e),_0xd7e10d(0x18a)),this[_0xd7e10d(0x198)]();}['escapeHtml'](_0x3805f9){const _0x30d943=_0x21bdd8,_0x1962eb=document[_0x30d943(0x150)]('div');return _0x1962eb[_0x30d943(0x166)]=_0x3805f9,_0x1962eb['innerHTML'];}}document['addEventListener']('DOMContentLoaded',()=>{const _0x4bfdc7=_0x21bdd8;window[_0x4bfdc7(0x1f1)]=new QChat();});