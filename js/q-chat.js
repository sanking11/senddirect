function _0xfeee(){const _0x596516=['handleDisconnect','sent','4513656DeroFs','showSystemMessage','connectToServer','Q-Chat:\x20Offer\x20sent','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','received','messageInput','send','clearUnread','Finalizing\x20Quantum\x20Code...','openPanel','roomCodeEl','toggleBtn','99+','sendBtn','keypress','sendMessage','candidate','Q-Chat:\x20ICE\x20gathering\x20state:','joinRoom','click','Encrypting\x20Neural\x20Pathway...','substring','createMatrixSphere','offer','qchatClose','2126742FQcxuQ','scrollTop','iceGatheringState','joinBtn','Error','disconnected','1183395Ttfrjs','showChatUI','Error:\x20','style','Connection\x20setup\x20failed','stun:stun1.l.google.com:19302','active','data','setLocalDescription','key','appendChild','acos','div','marginLeft','isConnected','charAt','addMessage','closePanel','Q-Chat:\x20Data\x20channel\x20closed','qchat-message\x20','ws:','span','connectSection','getWebSocketUrl','px,\x20','stringify','createBtn','createAndSendOffer','7407904tyFqRA','floor','Q-Chat:\x20ICE\x20gathering\x20complete','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','qchatBadge','readyState','message','messagesSection','getElementById','scrollToBottom','Connecting...','qchatInputSection','qchatPanel','bindEvents','qchatCreate','Q-Chat:\x20Creating\x20and\x20sending\x20offer...','Establishing\x20P2P...','oniceconnectionstatechange','host','qchat','classList','select','sqrt','roomInput','copyRoomCode','Q-Chat:\x20Error\x20handling\x20answer:','error','addEventListener','stun:stun.l.google.com:19302','handleIceCandidate','qchatRoomInfo','Room\x20code\x20copied!','sin','messagesList','createRoom','updateBadge','Q-Chat:\x20Received\x20message:','updateStatus','handleOffer','open','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','Disconnected','Q-Chat:\x20Connecting\x20to:','querySelector','receiveMessage','Q-Chat:\x20Error\x20in\x20peer-joined\x20handler:','length','roomId','contains','Q-Chat:\x20WebSocket\x20error:','Peer\x20disconnected','digitChangeInterval','createAnswer','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','togglePanel','copyCodeBtn','remove','wss:','Please\x20enter\x20a\x20valid\x20room\x20code','Connection\x20failed','qchatCopyCode','protocol','isHost','none','badge','Failed\x20to\x20connect\x20to\x20server','roomInfoSection','querySelectorAll','isArray','2-digit','create-room','connecting','dataChannel','qchatRoomCode','trim','connected','random','textContent','disableChat','peerConnection','Joining...','qchatMessagesList','initializeWebRTC','writeText','flex','2642ceFCkf','startMatrixSphereAnimation','statusEl','Joined\x20room!\x20Waiting\x20for\x20host...','parse','Q-Chat:\x20WebSocket\x20closed','isPanelOpen','peer-joined','disabled','textarea','display','Secure\x20P2P','fade-out','/ws','4471732kKYXbY','unreadCount','createElement','innerHTML','className','2071470OoWRoW','Q-Chat:\x20WebRTC\x20initialized,\x20peerConnection:','answer','handleAnswer','Failed\x20to\x20send\x20message','block','onerror','sdp','timestamp','inputSection','createOffer','add','connectionState','onclose','Q-Chat:\x20peer-joined\x20received,\x20isHost:','log','689AgckBu','showRoomInfo','copy','top','onicegatheringstatechange'];_0xfeee=function(){return _0x596516;};return _0xfeee();}function _0x4184(_0x8e2452,_0x12ec74){_0x8e2452=_0x8e2452-0x15e;const _0xfeeede=_0xfeee();let _0x418453=_0xfeeede[_0x8e2452];return _0x418453;}const _0x34e858=_0x4184;(function(_0x25480e,_0x1aee76){const _0x981a19=_0x4184,_0x145eb4=_0x25480e();while(!![]){try{const _0x32f826=-parseInt(_0x981a19(0x20d))/0x1*(-parseInt(_0x981a19(0x1ea))/0x2)+-parseInt(_0x981a19(0x1fd))/0x3+parseInt(_0x981a19(0x1f8))/0x4+parseInt(_0x981a19(0x179))/0x5+-parseInt(_0x981a19(0x173))/0x6+parseInt(_0x981a19(0x214))/0x7+-parseInt(_0x981a19(0x195))/0x8;if(_0x32f826===_0x1aee76)break;else _0x145eb4['push'](_0x145eb4['shift']());}catch(_0x21a081){_0x145eb4['push'](_0x145eb4['shift']());}}}(_0xfeee,0xe529e));class QChat{constructor(){this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this['roomId']=null,this['isHost']=![],this['isConnected']=![],this['unreadCount']=0x0,this['isPanelOpen']=![],this['initElements'](),this['bindEvents']();}['initElements'](){const _0x48f351=_0x4184;this['panel']=document[_0x48f351(0x19d)](_0x48f351(0x1a1)),this[_0x48f351(0x165)]=document['getElementById']('qchatToggle'),this['closeBtn']=document['getElementById'](_0x48f351(0x172)),this[_0x48f351(0x1d5)]=document['getElementById'](_0x48f351(0x199)),this['connectSection']=document[_0x48f351(0x19d)]('qchatConnect'),this['roomInfoSection']=document['getElementById'](_0x48f351(0x1b3)),this[_0x48f351(0x19c)]=document[_0x48f351(0x19d)]('qchatMessages'),this['inputSection']=document['getElementById'](_0x48f351(0x1a0)),this['statusEl']=document[_0x48f351(0x19d)]('qchatStatus'),this['roomCodeEl']=document['getElementById'](_0x48f351(0x1de)),this['createBtn']=document[_0x48f351(0x19d)](_0x48f351(0x1a3)),this[_0x48f351(0x176)]=document[_0x48f351(0x19d)]('qchatJoin'),this['copyCodeBtn']=document[_0x48f351(0x19d)](_0x48f351(0x1d1)),this[_0x48f351(0x167)]=document[_0x48f351(0x19d)]('qchatSendBtn'),this[_0x48f351(0x1ac)]=document[_0x48f351(0x19d)]('qchatRoomInput'),this['messageInput']=document[_0x48f351(0x19d)]('qchatMessageInput'),this[_0x48f351(0x1b6)]=document[_0x48f351(0x19d)](_0x48f351(0x1e6));}[_0x34e858(0x1a2)](){const _0x3e3de9=_0x34e858;this[_0x3e3de9(0x165)]?.['addEventListener'](_0x3e3de9(0x16d),()=>this[_0x3e3de9(0x1cb)]()),this['closeBtn']?.[_0x3e3de9(0x1b0)]('click',()=>this['closePanel']()),this[_0x3e3de9(0x193)]?.[_0x3e3de9(0x1b0)]('click',()=>this[_0x3e3de9(0x1b7)]()),this[_0x3e3de9(0x176)]?.['addEventListener'](_0x3e3de9(0x16d),()=>this[_0x3e3de9(0x16c)]()),this[_0x3e3de9(0x1ac)]?.['addEventListener']('keypress',_0x192685=>{const _0x53bc2b=_0x3e3de9;if(_0x192685['key']==='Enter')this[_0x53bc2b(0x16c)]();}),this[_0x3e3de9(0x1cc)]?.[_0x3e3de9(0x1b0)](_0x3e3de9(0x16d),()=>this[_0x3e3de9(0x1ad)]()),this['sendBtn']?.['addEventListener'](_0x3e3de9(0x16d),()=>this['sendMessage']()),this[_0x3e3de9(0x15f)]?.[_0x3e3de9(0x1b0)](_0x3e3de9(0x168),_0x126235=>{const _0x35c0b4=_0x3e3de9;_0x126235[_0x35c0b4(0x182)]==='Enter'&&!_0x126235['shiftKey']&&(_0x126235['preventDefault'](),this['sendMessage']());}),document[_0x3e3de9(0x1b0)]('click',_0x25e0d8=>{const _0x366337=_0x3e3de9;this['isPanelOpen']&&!this['panel']?.[_0x366337(0x1c5)](_0x25e0d8['target'])&&!this['toggleBtn']?.['contains'](_0x25e0d8['target'])&&this[_0x366337(0x18a)]();});}['togglePanel'](){this['isPanelOpen']?this['closePanel']():this['openPanel']();}[_0x34e858(0x163)](){const _0x5157f1=_0x34e858;this['panel']?.['classList']['add'](_0x5157f1(0x1bc)),this['toggleBtn']?.['classList']['add'](_0x5157f1(0x17f)),this[_0x5157f1(0x1f0)]=!![],this['clearUnread']();}[_0x34e858(0x18a)](){const _0x3dd81b=_0x34e858;this['panel']?.['classList']['remove']('open'),this['toggleBtn']?.['classList'][_0x3dd81b(0x1cd)](_0x3dd81b(0x17f)),this['isPanelOpen']=![];}['generateRoomId'](){const _0x18898a=_0x34e858,_0x45fc55=_0x18898a(0x1ca);let _0x1aca21='';for(let _0x450269=0x0;_0x450269<0x6;_0x450269++){_0x1aca21+=_0x45fc55[_0x18898a(0x188)](Math['floor'](Math[_0x18898a(0x1e1)]()*_0x45fc55['length']));}return _0x1aca21;}['getWebSocketUrl'](){const _0x522b6f=_0x34e858,_0x13d933=window['location'][_0x522b6f(0x1d2)]==='https:'?_0x522b6f(0x1ce):_0x522b6f(0x18d);return _0x13d933+'//'+window['location'][_0x522b6f(0x1a7)]+_0x522b6f(0x1f7);}async[_0x34e858(0x216)](){return new Promise((_0xb85004,_0x237fdb)=>{const _0x588931=_0x4184,_0x7a5ba6=this[_0x588931(0x190)]();console['log'](_0x588931(0x1bf),_0x7a5ba6),this['ws']=new WebSocket(_0x7a5ba6),this['ws']['onopen']=()=>{const _0x2d99a3=_0x588931;console[_0x2d99a3(0x20c)]('Q-Chat:\x20WebSocket\x20connected'),_0xb85004();},this['ws'][_0x588931(0x203)]=_0x33ea05=>{const _0x4cdb80=_0x588931;console['error'](_0x4cdb80(0x1c6),_0x33ea05),_0x237fdb(_0x33ea05);},this['ws'][_0x588931(0x20a)]=()=>{const _0x372d58=_0x588931;console[_0x372d58(0x20c)](_0x372d58(0x1ef)),this['handleDisconnect']();},this['ws']['onmessage']=_0x29721c=>{const _0x471eaa=_0x588931,_0x21a64f=JSON[_0x471eaa(0x1ee)](_0x29721c[_0x471eaa(0x180)]);console['log'](_0x471eaa(0x1b9),_0x21a64f['type'],_0x21a64f),this['handleSignalingMessage'](_0x21a64f);};});}['send'](_0x3e58a4){const _0x4da69f=_0x34e858;this['ws']&&this['ws'][_0x4da69f(0x19a)]===WebSocket['OPEN']&&this['ws'][_0x4da69f(0x160)](JSON[_0x4da69f(0x192)](_0x3e58a4));}async[_0x34e858(0x1b7)](){const _0x3c343e=_0x34e858;this['isHost']=!![],this['roomId']=this['generateRoomId'](),this['updateStatus'](_0x3c343e(0x1dc),_0x3c343e(0x19f));try{await this['connectToServer'](),this[_0x3c343e(0x160)]({'type':_0x3c343e(0x1db),'roomId':this[_0x3c343e(0x1c4)]});}catch(_0x398f95){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this[_0x3c343e(0x1ba)]('disconnected','Connection\x20failed');}}async[_0x34e858(0x16c)](){const _0x515f2b=_0x34e858,_0xe96116=this['roomInput']?.['value'][_0x515f2b(0x1df)]()['toUpperCase']();if(!_0xe96116||_0xe96116['length']<0x4){this['showSystemMessage'](_0x515f2b(0x1cf));return;}this[_0x515f2b(0x1d3)]=![],this[_0x515f2b(0x1c4)]=_0xe96116,this['updateStatus'](_0x515f2b(0x1dc),_0x515f2b(0x1e5));try{await this[_0x515f2b(0x216)](),this[_0x515f2b(0x160)]({'type':'join-room','roomId':this[_0x515f2b(0x1c4)]});}catch(_0x3c5835){this['showSystemMessage'](_0x515f2b(0x1d6)),this['updateStatus']('disconnected',_0x515f2b(0x1d0));}}async['handleSignalingMessage'](_0x3db239){const _0x1c1c26=_0x34e858;switch(_0x3db239['type']){case'room-created':this['showRoomInfo'](),this['updateStatus']('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this[_0x1c1c26(0x215)](_0x1c1c26(0x1ed)),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case _0x1c1c26(0x1f1):console[_0x1c1c26(0x20c)](_0x1c1c26(0x20b),this['isHost']),this[_0x1c1c26(0x215)](_0x1c1c26(0x198)),this[_0x1c1c26(0x1ba)]('connecting',_0x1c1c26(0x1a5));try{await this[_0x1c1c26(0x1e7)](),console['log'](_0x1c1c26(0x1fe),!!this['peerConnection']),this[_0x1c1c26(0x1d3)]&&(console[_0x1c1c26(0x20c)](_0x1c1c26(0x1a4)),await this[_0x1c1c26(0x194)](),console[_0x1c1c26(0x20c)](_0x1c1c26(0x217)));}catch(_0x3863ec){console[_0x1c1c26(0x1af)](_0x1c1c26(0x1c2),_0x3863ec),this[_0x1c1c26(0x215)](_0x1c1c26(0x17d)),this[_0x1c1c26(0x1ba)](_0x1c1c26(0x178),'Setup\x20failed');}break;case'peer-left':this[_0x1c1c26(0x215)](_0x1c1c26(0x1c7)),this['updateStatus'](_0x1c1c26(0x178),'Peer\x20left'),this['disableChat']();break;case _0x1c1c26(0x171):await this['handleOffer'](_0x3db239);break;case'answer':await this['handleAnswer'](_0x3db239);break;case'ice-candidate':await this['handleIceCandidate'](_0x3db239);break;case'error':this['showSystemMessage'](_0x1c1c26(0x17b)+_0x3db239[_0x1c1c26(0x19b)]),this[_0x1c1c26(0x1ba)](_0x1c1c26(0x178),_0x1c1c26(0x177)),console['error']('Q-Chat\x20Server\x20Error:',_0x3db239['message']);break;}}async['initializeWebRTC'](){const _0x1a285b=_0x34e858,_0x29f693=[{'urls':_0x1a285b(0x1b1)},{'urls':_0x1a285b(0x17e)}];let _0x256d9a=_0x29f693;try{const _0x22ed6d=await fetch('/api/turn-credentials'),_0x1e7645=await _0x22ed6d['json']();Array[_0x1a285b(0x1d9)](_0x1e7645)&&_0x1e7645['length']>0x0?(_0x256d9a=_0x1e7645,console['log']('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x2e98c9){console['log']('Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback');}const _0xadae88={'iceServers':_0x256d9a};this[_0x1a285b(0x1e4)]=new RTCPeerConnection(_0xadae88),this['peerConnection']['onicecandidate']=_0x246753=>{const _0x5c7dcd=_0x1a285b;_0x246753[_0x5c7dcd(0x16a)]?(console[_0x5c7dcd(0x20c)]('Q-Chat:\x20Sending\x20ICE\x20candidate:',_0x246753[_0x5c7dcd(0x16a)][_0x5c7dcd(0x16a)][_0x5c7dcd(0x16f)](0x0,0x32)),this['send']({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x246753['candidate']})):console[_0x5c7dcd(0x20c)](_0x5c7dcd(0x197));},this['peerConnection'][_0x1a285b(0x1a6)]=()=>{const _0xcf9c12=_0x1a285b;console[_0xcf9c12(0x20c)]('Q-Chat:\x20ICE\x20connection\x20state:',this['peerConnection']['iceConnectionState']);},this[_0x1a285b(0x1e4)][_0x1a285b(0x211)]=()=>{const _0x16c551=_0x1a285b;console[_0x16c551(0x20c)](_0x16c551(0x16b),this[_0x16c551(0x1e4)][_0x16c551(0x175)]);},this['peerConnection']['onconnectionstatechange']=()=>{const _0x30c5ae=_0x1a285b,_0x287ff4=this['peerConnection'][_0x30c5ae(0x209)];console['log']('Q-Chat:\x20Connection\x20state:',_0x287ff4);if(_0x287ff4===_0x30c5ae(0x1e0))this['updateStatus']('connected',_0x30c5ae(0x1f5)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x287ff4==='disconnected'||_0x287ff4==='failed')&&(this['updateStatus'](_0x30c5ae(0x178),'Disconnected'),this[_0x30c5ae(0x1e3)]());},this['isHost']?(this['dataChannel']=this[_0x1a285b(0x1e4)]['createDataChannel'](_0x1a285b(0x1a8),{'ordered':!![]}),this['setupDataChannel']()):this[_0x1a285b(0x1e4)]['ondatachannel']=_0x2c1c42=>{this['dataChannel']=_0x2c1c42['channel'],this['setupDataChannel']();};}['setupDataChannel'](){const _0x20325f=_0x34e858;this[_0x20325f(0x1dd)]['onopen']=()=>{const _0xa30a4b=_0x20325f;console['log']('Q-Chat:\x20Data\x20channel\x20open'),this[_0xa30a4b(0x187)]=!![],this['enableChat'](),this['showChatUI']();},this['dataChannel'][_0x20325f(0x20a)]=()=>{const _0x51f119=_0x20325f;console['log'](_0x51f119(0x18b)),this[_0x51f119(0x187)]=![],this['disableChat']();},this[_0x20325f(0x1dd)]['onmessage']=_0x368aac=>{const _0xc34097=_0x20325f,_0x95ed60=JSON['parse'](_0x368aac[_0xc34097(0x180)]);this['receiveMessage'](_0x95ed60);};}async[_0x34e858(0x194)](){const _0x3fa97f=_0x34e858;try{const _0x57ded3=await this[_0x3fa97f(0x1e4)][_0x3fa97f(0x207)]();await this[_0x3fa97f(0x1e4)][_0x3fa97f(0x181)](_0x57ded3),this[_0x3fa97f(0x160)]({'type':'offer','roomId':this[_0x3fa97f(0x1c4)],'sdp':_0x57ded3['sdp']});}catch(_0x24dc70){console['error']('Q-Chat:\x20Error\x20creating\x20offer:',_0x24dc70);}}async[_0x34e858(0x1bb)](_0x3e74ec){const _0x1fecce=_0x34e858;try{!this['peerConnection']&&await this['initializeWebRTC']();await this[_0x1fecce(0x1e4)]['setRemoteDescription'](new RTCSessionDescription({'type':'offer','sdp':_0x3e74ec[_0x1fecce(0x204)]}));const _0x3e12de=await this['peerConnection'][_0x1fecce(0x1c9)]();await this[_0x1fecce(0x1e4)][_0x1fecce(0x181)](_0x3e12de),this['send']({'type':'answer','roomId':this['roomId'],'sdp':_0x3e12de['sdp']});}catch(_0x4566ca){console['error']('Q-Chat:\x20Error\x20handling\x20offer:',_0x4566ca);}}async[_0x34e858(0x200)](_0x5a60ee){const _0x2f2885=_0x34e858;try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x2f2885(0x1ff),'sdp':_0x5a60ee['sdp']}));}catch(_0x1eb4da){console['error'](_0x2f2885(0x1ae),_0x1eb4da);}}async[_0x34e858(0x1b2)](_0x7a32ea){const _0x4bd7d6=_0x34e858;try{_0x7a32ea[_0x4bd7d6(0x16a)]&&this[_0x4bd7d6(0x1e4)]&&(console['log']('Q-Chat:\x20Received\x20ICE\x20candidate:',_0x7a32ea[_0x4bd7d6(0x16a)]['candidate']?.['substring'](0x0,0x32)),await this['peerConnection']['addIceCandidate'](new RTCIceCandidate(_0x7a32ea['candidate'])));}catch(_0x426357){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x426357);}}[_0x34e858(0x20e)](){const _0x1171b2=_0x34e858;if(this['connectSection'])this['connectSection'][_0x1171b2(0x17c)][_0x1171b2(0x1f4)]='none';if(this[_0x1171b2(0x1d7)])this[_0x1171b2(0x1d7)]['style']['display']=_0x1171b2(0x202);this['startMatrixSphereAnimation']();}[_0x34e858(0x1eb)](){const _0x775206=_0x34e858,_0x417228=document['getElementById']('matrixSphereContainer'),_0x3f643f=document['getElementById']('matrixSphere'),_0x52aa58=document[_0x775206(0x19d)]('matrixSphereStatus'),_0x219dc2=document['getElementById']('qchatRoomCodeSection'),_0x330833=document['getElementById']('qchatWaiting');if(!_0x3f643f||!_0x417228){if(this[_0x775206(0x164)])this[_0x775206(0x164)]['textContent']=this['roomId'];return;}this[_0x775206(0x170)](_0x3f643f);const _0x41da06=['Generating\x20Quantum\x20Tunnel...',_0x775206(0x16e),'Establishing\x20Secure\x20Link...',_0x775206(0x162)];let _0x4b1977=0x0;const _0x215eb9=setInterval(()=>{const _0x3f9ad7=_0x775206;_0x4b1977++,_0x4b1977<_0x41da06[_0x3f9ad7(0x1c3)]&&_0x52aa58&&(_0x52aa58[_0x3f9ad7(0x1e2)]=_0x41da06[_0x4b1977]);},0x258);setTimeout(()=>{const _0x452191=_0x775206;clearInterval(_0x215eb9),_0x3f643f['classList'][_0x452191(0x208)](_0x452191(0x1f6));if(_0x52aa58)_0x52aa58['style']['display']='none';setTimeout(()=>{const _0x34d867=_0x452191;_0x417228[_0x34d867(0x17c)][_0x34d867(0x1f4)]=_0x34d867(0x1d4);if(this['roomCodeEl'])this[_0x34d867(0x164)]['textContent']=this[_0x34d867(0x1c4)];_0x219dc2&&(_0x219dc2[_0x34d867(0x1a9)]['remove']('hidden'),_0x219dc2[_0x34d867(0x1a9)][_0x34d867(0x208)]('reveal')),_0x330833&&_0x330833[_0x34d867(0x1a9)][_0x34d867(0x1cd)]('hidden');},0x320);},0x9c4);}['createMatrixSphere'](_0x47d3e3){const _0x1fec0b=_0x34e858;_0x47d3e3['innerHTML']='';const _0x103a97=0x78,_0x2fe198=0x3c;for(let _0x11b529=0x0;_0x11b529<_0x103a97;_0x11b529++){const _0x39842f=document['createElement'](_0x1fec0b(0x18e));_0x39842f['className']='matrix-digit',_0x39842f['textContent']=Math[_0x1fec0b(0x196)](Math[_0x1fec0b(0x1e1)]()*0xa);const _0x12d21d=Math[_0x1fec0b(0x184)](0x1-0x2*(_0x11b529+0.5)/_0x103a97),_0x5efc46=Math['PI']*(0x1+Math[_0x1fec0b(0x1ab)](0x5))*_0x11b529,_0x30b66e=_0x2fe198*Math[_0x1fec0b(0x1b5)](_0x12d21d)*Math['cos'](_0x5efc46),_0x582ea5=_0x2fe198*Math['sin'](_0x12d21d)*Math['sin'](_0x5efc46),_0x1f2dc9=_0x2fe198*Math['cos'](_0x12d21d);_0x39842f[_0x1fec0b(0x17c)]['transform']='translate3d('+_0x30b66e+_0x1fec0b(0x191)+_0x582ea5+'px,\x20'+_0x1f2dc9+'px)',_0x39842f[_0x1fec0b(0x17c)]['left']='50%',_0x39842f[_0x1fec0b(0x17c)][_0x1fec0b(0x210)]='50%',_0x39842f[_0x1fec0b(0x17c)][_0x1fec0b(0x186)]='-7px',_0x39842f[_0x1fec0b(0x17c)]['marginTop']='-10px',_0x39842f['style']['animationDelay']=Math[_0x1fec0b(0x1e1)]()*0.5+'s';const _0x4bf7b8=0.4+(_0x1f2dc9+_0x2fe198)/(0x2*_0x2fe198)*0.6;_0x39842f[_0x1fec0b(0x17c)]['opacity']=_0x4bf7b8,_0x47d3e3[_0x1fec0b(0x183)](_0x39842f);}this[_0x1fec0b(0x1c8)]=setInterval(()=>{const _0x4e4d80=_0x1fec0b,_0x2f0a69=_0x47d3e3[_0x4e4d80(0x1d8)]('.matrix-digit'),_0xc284dc=_0x2f0a69[Math[_0x4e4d80(0x196)](Math[_0x4e4d80(0x1e1)]()*_0x2f0a69['length'])];_0xc284dc&&(_0xc284dc[_0x4e4d80(0x1e2)]=Math['floor'](Math['random']()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}[_0x34e858(0x17a)](){const _0x69ac71=_0x34e858;if(this[_0x69ac71(0x18f)])this['connectSection']['style'][_0x69ac71(0x1f4)]=_0x69ac71(0x1d4);if(this['roomInfoSection'])this[_0x69ac71(0x1d7)][_0x69ac71(0x17c)][_0x69ac71(0x1f4)]=_0x69ac71(0x1d4);if(this['messagesSection'])this['messagesSection']['style'][_0x69ac71(0x1f4)]=_0x69ac71(0x1e9);if(this['inputSection'])this[_0x69ac71(0x206)]['style']['display']='block';}['enableChat'](){const _0x10d0e5=_0x34e858;this['messageInput']&&(this['messageInput'][_0x10d0e5(0x1f2)]=![],this['messageInput']['focus']());if(this[_0x10d0e5(0x167)])this[_0x10d0e5(0x167)][_0x10d0e5(0x1f2)]=![];}['disableChat'](){const _0x5c3b2d=_0x34e858;if(this[_0x5c3b2d(0x15f)])this[_0x5c3b2d(0x15f)]['disabled']=!![];if(this[_0x5c3b2d(0x167)])this[_0x5c3b2d(0x167)]['disabled']=!![];}[_0x34e858(0x169)](){const _0x2f36ab=_0x34e858,_0x5bfe3c=this[_0x2f36ab(0x15f)]?.['value']['trim']();if(!_0x5bfe3c||!this[_0x2f36ab(0x187)])return;const _0xe9a218={'type':_0x2f36ab(0x19b),'text':_0x5bfe3c,'timestamp':Date['now']()};try{this[_0x2f36ab(0x1dd)]['send'](JSON[_0x2f36ab(0x192)](_0xe9a218)),this['addMessage'](_0x5bfe3c,_0x2f36ab(0x213),_0xe9a218['timestamp']),this[_0x2f36ab(0x15f)]['value']='';}catch(_0x45aef5){console['error']('Q-Chat:\x20Error\x20sending\x20message:',_0x45aef5),this[_0x2f36ab(0x215)](_0x2f36ab(0x201));}}[_0x34e858(0x1c1)](_0x448a79){const _0x30d68e=_0x34e858;_0x448a79['type']==='message'&&(this[_0x30d68e(0x189)](_0x448a79['text'],_0x30d68e(0x15e),_0x448a79[_0x30d68e(0x205)]),!this[_0x30d68e(0x1f0)]&&(this['unreadCount']++,this['updateBadge']()));}[_0x34e858(0x189)](_0x40e0d6,_0x476a5e,_0x572fcd){const _0x1339fd=_0x34e858,_0x15ece6=document[_0x1339fd(0x1fa)](_0x1339fd(0x185));_0x15ece6[_0x1339fd(0x1fc)]=_0x1339fd(0x18c)+_0x476a5e;const _0x397d7e=new Date(_0x572fcd)['toLocaleTimeString']([],{'hour':_0x1339fd(0x1da),'minute':_0x1339fd(0x1da)});_0x15ece6['innerHTML']=_0x1339fd(0x218)+this['escapeHtml'](_0x40e0d6)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x476a5e==='sent'?'âœ“\x20':'')+_0x397d7e+_0x1339fd(0x1bd),this['messagesList']?.[_0x1339fd(0x183)](_0x15ece6),this[_0x1339fd(0x19e)]();}['showSystemMessage'](_0x4c2d7b){const _0xe80b97=_0x34e858,_0x426afd=document['createElement']('div');_0x426afd[_0xe80b97(0x1fc)]='qchat-system-message',_0x426afd['textContent']=_0x4c2d7b,this['messagesList']?.[_0xe80b97(0x183)](_0x426afd),this['scrollToBottom']();}[_0x34e858(0x19e)](){const _0x1aaabf=_0x34e858;this['messagesSection']&&(this['messagesSection'][_0x1aaabf(0x174)]=this[_0x1aaabf(0x19c)]['scrollHeight']);}['updateStatus'](_0x5b79c8,_0x183b0d){const _0x206ed6=_0x34e858;if(this[_0x206ed6(0x1ec)]){this[_0x206ed6(0x1ec)][_0x206ed6(0x1fc)]='qchat-status\x20'+_0x5b79c8;const _0x14cbba=this['statusEl'][_0x206ed6(0x1c0)]('.status-text');if(_0x14cbba)_0x14cbba['textContent']=_0x183b0d;}}[_0x34e858(0x1b8)](){const _0x3f0cf8=_0x34e858;this[_0x3f0cf8(0x1d5)]&&(this['unreadCount']>0x0?(this['badge'][_0x3f0cf8(0x1e2)]=this['unreadCount']>0x63?_0x3f0cf8(0x166):this['unreadCount'],this['badge']['style'][_0x3f0cf8(0x1f4)]=_0x3f0cf8(0x1e9)):this[_0x3f0cf8(0x1d5)][_0x3f0cf8(0x17c)][_0x3f0cf8(0x1f4)]=_0x3f0cf8(0x1d4));}[_0x34e858(0x161)](){const _0x2bf6b7=_0x34e858;this[_0x2bf6b7(0x1f9)]=0x0,this['updateBadge']();}[_0x34e858(0x1ad)](){const _0xf77e07=_0x34e858;this[_0xf77e07(0x1c4)]&&navigator['clipboard'][_0xf77e07(0x1e8)](this['roomId'])['then'](()=>{const _0x377024=_0xf77e07;this['showSystemMessage'](_0x377024(0x1b4));})['catch'](()=>{const _0x74abf6=_0xf77e07,_0x1a1a1c=document['createElement'](_0x74abf6(0x1f3));_0x1a1a1c['value']=this[_0x74abf6(0x1c4)],document['body']['appendChild'](_0x1a1a1c),_0x1a1a1c[_0x74abf6(0x1aa)](),document['execCommand'](_0x74abf6(0x20f)),document['body']['removeChild'](_0x1a1a1c),this['showSystemMessage'](_0x74abf6(0x1b4));});}[_0x34e858(0x212)](){const _0x5c7b25=_0x34e858;this[_0x5c7b25(0x187)]=![],this[_0x5c7b25(0x1ba)](_0x5c7b25(0x178),_0x5c7b25(0x1be)),this[_0x5c7b25(0x1e3)]();}['escapeHtml'](_0x4c15b4){const _0x2f05da=_0x34e858,_0x14058c=document[_0x2f05da(0x1fa)]('div');return _0x14058c['textContent']=_0x4c15b4,_0x14058c[_0x2f05da(0x1fb)];}}document['addEventListener']('DOMContentLoaded',()=>{window['qChat']=new QChat();});