const _0x512f12=_0x3704;(function(_0x293b14,_0x3ad440){const _0x504937=_0x3704,_0x3201b9=_0x293b14();while(!![]){try{const _0xaa0db9=parseInt(_0x504937(0x1b0))/0x1+-parseInt(_0x504937(0x1cb))/0x2+parseInt(_0x504937(0x1d7))/0x3*(-parseInt(_0x504937(0x179))/0x4)+parseInt(_0x504937(0x187))/0x5*(parseInt(_0x504937(0x1dc))/0x6)+parseInt(_0x504937(0x1e0))/0x7+parseInt(_0x504937(0x198))/0x8*(parseInt(_0x504937(0x1c8))/0x9)+-parseInt(_0x504937(0x1c9))/0xa;if(_0xaa0db9===_0x3ad440)break;else _0x3201b9['push'](_0x3201b9['shift']());}catch(_0x3dd8bb){_0x3201b9['push'](_0x3201b9['shift']());}}}(_0x3002,0x4ef8f));class QChat{constructor(){const _0x134103=_0x3704;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this['roomId']=null,this['isHost']=![],this['isConnected']=![],this[_0x134103(0x1ec)]=0x0,this[_0x134103(0x191)]=![],this['initElements'](),this[_0x134103(0x209)]();}[_0x512f12(0x165)](){const _0x9bf3f3=_0x512f12;this['panel']=document[_0x9bf3f3(0x1eb)]('qchatPanel'),this['toggleBtn']=document['getElementById'](_0x9bf3f3(0x162)),this['closeBtn']=document[_0x9bf3f3(0x1eb)](_0x9bf3f3(0x1d0)),this[_0x9bf3f3(0x176)]=document[_0x9bf3f3(0x1eb)]('qchatBadge'),this[_0x9bf3f3(0x19b)]=document[_0x9bf3f3(0x1eb)]('qchatConnect'),this[_0x9bf3f3(0x1ee)]=document['getElementById']('qchatRoomInfo'),this[_0x9bf3f3(0x1b3)]=document[_0x9bf3f3(0x1eb)]('qchatMessages'),this[_0x9bf3f3(0x171)]=document[_0x9bf3f3(0x1eb)]('qchatInputSection'),this[_0x9bf3f3(0x1ce)]=document['getElementById']('qchatStatus'),this[_0x9bf3f3(0x17c)]=document['getElementById']('qchatRoomCode'),this['createBtn']=document[_0x9bf3f3(0x1eb)]('qchatCreate'),this[_0x9bf3f3(0x1fd)]=document['getElementById']('qchatJoin'),this['copyCodeBtn']=document['getElementById'](_0x9bf3f3(0x202)),this['sendBtn']=document[_0x9bf3f3(0x1eb)](_0x9bf3f3(0x1fe)),this['roomInput']=document['getElementById'](_0x9bf3f3(0x1a1)),this['messageInput']=document[_0x9bf3f3(0x1eb)](_0x9bf3f3(0x17b)),this['messagesList']=document[_0x9bf3f3(0x1eb)]('qchatMessagesList');}['bindEvents'](){const _0x65cc7c=_0x512f12;this['toggleBtn']?.[_0x65cc7c(0x1bb)]('click',()=>this['togglePanel']()),this['closeBtn']?.['addEventListener'](_0x65cc7c(0x1f8),()=>this[_0x65cc7c(0x1b8)]()),this[_0x65cc7c(0x177)]?.['addEventListener'](_0x65cc7c(0x1f8),()=>this['createRoom']()),this[_0x65cc7c(0x1fd)]?.['addEventListener']('click',()=>this[_0x65cc7c(0x189)]()),this[_0x65cc7c(0x212)]?.[_0x65cc7c(0x1bb)]('keypress',_0x31df33=>{if(_0x31df33['key']==='Enter')this['joinRoom']();}),this[_0x65cc7c(0x1d9)]?.['addEventListener'](_0x65cc7c(0x1f8),()=>this['copyRoomCode']()),this['sendBtn']?.[_0x65cc7c(0x1bb)](_0x65cc7c(0x1f8),()=>this[_0x65cc7c(0x170)]()),this['messageInput']?.[_0x65cc7c(0x1bb)](_0x65cc7c(0x1bd),_0x392d4d=>{const _0x3b1e66=_0x65cc7c;_0x392d4d[_0x3b1e66(0x16a)]==='Enter'&&!_0x392d4d[_0x3b1e66(0x167)]&&(_0x392d4d[_0x3b1e66(0x1b7)](),this['sendMessage']());}),document['addEventListener'](_0x65cc7c(0x1f8),_0x1668cc=>{const _0x889df4=_0x65cc7c;this[_0x889df4(0x191)]&&!this['panel']?.['contains'](_0x1668cc[_0x889df4(0x197)])&&!this['toggleBtn']?.[_0x889df4(0x1d4)](_0x1668cc['target'])&&this[_0x889df4(0x1b8)]();});}[_0x512f12(0x186)](){const _0x1c6839=_0x512f12;this[_0x1c6839(0x191)]?this['closePanel']():this[_0x1c6839(0x164)]();}['openPanel'](){const _0x338ad9=_0x512f12;this['panel']?.[_0x338ad9(0x1a0)][_0x338ad9(0x180)]('open'),this[_0x338ad9(0x16d)]?.[_0x338ad9(0x1a0)][_0x338ad9(0x180)]('active'),this[_0x338ad9(0x191)]=!![],this[_0x338ad9(0x178)]();}[_0x512f12(0x1b8)](){const _0xa408=_0x512f12;this['panel']?.['classList'][_0xa408(0x1d3)](_0xa408(0x1e6)),this['toggleBtn']?.[_0xa408(0x1a0)]['remove']('active'),this['isPanelOpen']=![];}['generateRoomId'](){const _0x2e8269=_0x512f12,_0x1f2f67=_0x2e8269(0x1af);let _0x2aca30='';for(let _0x5b36f2=0x0;_0x5b36f2<0x6;_0x5b36f2++){_0x2aca30+=_0x1f2f67[_0x2e8269(0x1de)](Math[_0x2e8269(0x206)](Math['random']()*_0x1f2f67[_0x2e8269(0x18e)]));}return _0x2aca30;}[_0x512f12(0x17a)](){const _0x4f3bfa=_0x512f12,_0x349658=window[_0x4f3bfa(0x173)]['protocol']==='https:'?'wss:':_0x4f3bfa(0x1cd);return _0x349658+'//'+window[_0x4f3bfa(0x173)][_0x4f3bfa(0x1d8)]+'/ws';}async['connectToServer'](){return new Promise((_0x5a4386,_0x272ffe)=>{const _0x57f04b=_0x3704,_0x4bcba6=this[_0x57f04b(0x17a)]();console[_0x57f04b(0x20f)](_0x57f04b(0x1c1),_0x4bcba6),this['ws']=new WebSocket(_0x4bcba6),this['ws'][_0x57f04b(0x1e7)]=()=>{console['log']('Q-Chat:\x20WebSocket\x20connected'),_0x5a4386();},this['ws']['onerror']=_0x2ba2dc=>{const _0x453124=_0x57f04b;console[_0x453124(0x1b6)]('Q-Chat:\x20WebSocket\x20error:',_0x2ba2dc),_0x272ffe(_0x2ba2dc);},this['ws'][_0x57f04b(0x17f)]=()=>{const _0x239ae5=_0x57f04b;console[_0x239ae5(0x20f)](_0x239ae5(0x18d)),this['handleDisconnect']();},this['ws']['onmessage']=_0x350150=>{const _0x577d12=_0x57f04b,_0x3c3743=JSON['parse'](_0x350150[_0x577d12(0x1f4)]);this['handleSignalingMessage'](_0x3c3743);};});}[_0x512f12(0x1e3)](_0x331087){const _0x1e575=_0x512f12;this['ws']&&this['ws'][_0x1e575(0x16c)]===WebSocket['OPEN']&&this['ws']['send'](JSON[_0x1e575(0x18c)](_0x331087));}async['createRoom'](){const _0x2d10ca=_0x512f12;this['isHost']=!![],this[_0x2d10ca(0x195)]=this['generateRoomId'](),this[_0x2d10ca(0x1ac)]('connecting','Connecting...');try{await this['connectToServer'](),this['send']({'type':_0x2d10ca(0x18b),'roomId':this['roomId']});}catch(_0x337baf){this[_0x2d10ca(0x18f)]('Failed\x20to\x20connect\x20to\x20server'),this['updateStatus'](_0x2d10ca(0x1a8),'Connection\x20failed');}}async['joinRoom'](){const _0x3f9821=_0x512f12,_0x1563e8=this['roomInput']?.[_0x3f9821(0x194)]['trim']()[_0x3f9821(0x1a7)]();if(!_0x1563e8||_0x1563e8['length']<0x4){this[_0x3f9821(0x18f)](_0x3f9821(0x16e));return;}this['isHost']=![],this[_0x3f9821(0x195)]=_0x1563e8,this['updateStatus']('connecting','Joining...');try{await this[_0x3f9821(0x169)](),this[_0x3f9821(0x1e3)]({'type':'join-room','roomId':this['roomId']});}catch(_0x45aa05){this[_0x3f9821(0x18f)]('Failed\x20to\x20connect\x20to\x20server'),this[_0x3f9821(0x1ac)]('disconnected',_0x3f9821(0x190));}}async[_0x512f12(0x1a9)](_0x45a133){const _0x230c35=_0x512f12;switch(_0x45a133['type']){case'room-created':this[_0x230c35(0x1d5)](),this[_0x230c35(0x1ac)](_0x230c35(0x1ba),'Waiting\x20for\x20peer...');break;case'room-joined':this[_0x230c35(0x18f)]('Joined\x20room!\x20Waiting\x20for\x20host...'),this['updateStatus']('connecting',_0x230c35(0x182));break;case _0x230c35(0x1df):this['showSystemMessage']('Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...'),this['updateStatus'](_0x230c35(0x1ba),_0x230c35(0x211)),await this[_0x230c35(0x1b9)]();this[_0x230c35(0x188)]&&await this[_0x230c35(0x1e8)]();break;case _0x230c35(0x16f):this[_0x230c35(0x18f)]('Peer\x20disconnected'),this['updateStatus']('disconnected',_0x230c35(0x1ae)),this[_0x230c35(0x172)]();break;case _0x230c35(0x210):await this[_0x230c35(0x1bf)](_0x45a133);break;case'answer':await this['handleAnswer'](_0x45a133);break;case _0x230c35(0x163):await this['handleIceCandidate'](_0x45a133);break;case'error':this['showSystemMessage']('Error:\x20'+_0x45a133['message']),this[_0x230c35(0x1ac)]('disconnected','Error'),console['error']('Q-Chat\x20Server\x20Error:',_0x45a133['message']);break;}}async['initializeWebRTC'](){const _0x3bb446=_0x512f12,_0x433f6a=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x3bb446(0x20e)}];let _0x786c7=_0x433f6a;try{const _0x4e8226=await fetch(_0x3bb446(0x166)),_0x3dcf42=await _0x4e8226[_0x3bb446(0x18a)]();Array[_0x3bb446(0x1f2)](_0x3dcf42)&&_0x3dcf42[_0x3bb446(0x18e)]>0x0?(_0x786c7=_0x3dcf42,console[_0x3bb446(0x20f)](_0x3bb446(0x20d))):console[_0x3bb446(0x20f)]('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x3935f6){console[_0x3bb446(0x20f)](_0x3bb446(0x1e5));}const _0x58d226={'iceServers':_0x786c7};this[_0x3bb446(0x1aa)]=new RTCPeerConnection(_0x58d226),this['peerConnection']['onicecandidate']=_0xcb0a35=>{const _0x22a610=_0x3bb446;_0xcb0a35[_0x22a610(0x19f)]&&this['send']({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0xcb0a35['candidate']});},this['peerConnection']['onconnectionstatechange']=()=>{const _0x2f0947=_0x3bb446,_0x2ebf81=this[_0x2f0947(0x1aa)][_0x2f0947(0x1c0)];console[_0x2f0947(0x20f)](_0x2f0947(0x1ed),_0x2ebf81);if(_0x2ebf81==='connected')this[_0x2f0947(0x1ac)]('connected',_0x2f0947(0x1f9)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x2ebf81===_0x2f0947(0x1a8)||_0x2ebf81===_0x2f0947(0x1fb))&&(this[_0x2f0947(0x1ac)](_0x2f0947(0x1a8),'Disconnected'),this['disableChat']());},this[_0x3bb446(0x188)]?(this[_0x3bb446(0x1f1)]=this[_0x3bb446(0x1aa)]['createDataChannel'](_0x3bb446(0x1c4),{'ordered':!![]}),this[_0x3bb446(0x19c)]()):this[_0x3bb446(0x1aa)]['ondatachannel']=_0x2237df=>{const _0x227af3=_0x3bb446;this[_0x227af3(0x1f1)]=_0x2237df['channel'],this['setupDataChannel']();};}[_0x512f12(0x19c)](){const _0x5df05e=_0x512f12;this['dataChannel']['onopen']=()=>{const _0x4f06b6=_0x3704;console[_0x4f06b6(0x20f)](_0x4f06b6(0x1a3)),this['isConnected']=!![],this['enableChat'](),this['showChatUI']();},this[_0x5df05e(0x1f1)]['onclose']=()=>{const _0x44d82f=_0x5df05e;console['log']('Q-Chat:\x20Data\x20channel\x20closed'),this[_0x44d82f(0x1da)]=![],this['disableChat']();},this[_0x5df05e(0x1f1)]['onmessage']=_0x17e75a=>{const _0x2d2732=_0x5df05e,_0x16b102=JSON[_0x2d2732(0x1c2)](_0x17e75a[_0x2d2732(0x1f4)]);this['receiveMessage'](_0x16b102);};}async['createAndSendOffer'](){const _0x38d642=_0x512f12;try{const _0xa23265=await this[_0x38d642(0x1aa)][_0x38d642(0x17d)]();await this['peerConnection']['setLocalDescription'](_0xa23265),this[_0x38d642(0x1e3)]({'type':_0x38d642(0x210),'roomId':this[_0x38d642(0x195)],'sdp':_0xa23265[_0x38d642(0x1d1)]});}catch(_0x55092c){console[_0x38d642(0x1b6)]('Q-Chat:\x20Error\x20creating\x20offer:',_0x55092c);}}async[_0x512f12(0x1bf)](_0x5402f1){const _0x4bad7e=_0x512f12;try{!this[_0x4bad7e(0x1aa)]&&await this['initializeWebRTC']();await this[_0x4bad7e(0x1aa)][_0x4bad7e(0x1f3)](new RTCSessionDescription({'type':'offer','sdp':_0x5402f1[_0x4bad7e(0x1d1)]}));const _0x43d492=await this[_0x4bad7e(0x1aa)]['createAnswer']();await this['peerConnection']['setLocalDescription'](_0x43d492),this[_0x4bad7e(0x1e3)]({'type':_0x4bad7e(0x205),'roomId':this[_0x4bad7e(0x195)],'sdp':_0x43d492['sdp']});}catch(_0x523dfa){console['error']('Q-Chat:\x20Error\x20handling\x20offer:',_0x523dfa);}}async[_0x512f12(0x1d2)](_0x57419f){const _0x3f20ea=_0x512f12;try{await this[_0x3f20ea(0x1aa)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x3f20ea(0x205),'sdp':_0x57419f[_0x3f20ea(0x1d1)]}));}catch(_0x184fc6){console[_0x3f20ea(0x1b6)]('Q-Chat:\x20Error\x20handling\x20answer:',_0x184fc6);}}async['handleIceCandidate'](_0x32f87e){const _0xa25b23=_0x512f12;try{_0x32f87e[_0xa25b23(0x19f)]&&this['peerConnection']&&await this[_0xa25b23(0x1aa)][_0xa25b23(0x175)](new RTCIceCandidate(_0x32f87e['candidate']));}catch(_0x11f35f){console[_0xa25b23(0x1b6)](_0xa25b23(0x20c),_0x11f35f);}}['showRoomInfo'](){const _0x1a1e73=_0x512f12;if(this['connectSection'])this['connectSection'][_0x1a1e73(0x208)][_0x1a1e73(0x181)]='none';if(this['roomInfoSection'])this[_0x1a1e73(0x1ee)][_0x1a1e73(0x208)][_0x1a1e73(0x181)]=_0x1a1e73(0x16b);this['startMatrixSphereAnimation']();}[_0x512f12(0x1cc)](){const _0x14c150=_0x512f12,_0x4a921b=document[_0x14c150(0x1eb)](_0x14c150(0x213)),_0x2a5663=document[_0x14c150(0x1eb)](_0x14c150(0x185)),_0x3c180e=document[_0x14c150(0x1eb)](_0x14c150(0x17e)),_0x16c45f=document[_0x14c150(0x1eb)](_0x14c150(0x1db)),_0x51d009=document[_0x14c150(0x1eb)]('qchatWaiting');if(!_0x2a5663||!_0x4a921b){if(this[_0x14c150(0x17c)])this[_0x14c150(0x17c)][_0x14c150(0x1e1)]=this[_0x14c150(0x195)];return;}this['createMatrixSphere'](_0x2a5663);const _0x1c25bb=['Generating\x20Quantum\x20Tunnel...',_0x14c150(0x1f0),_0x14c150(0x203),'Finalizing\x20Quantum\x20Code...'];let _0x246057=0x0;const _0x4c7b7f=setInterval(()=>{const _0x38848c=_0x14c150;_0x246057++,_0x246057<_0x1c25bb[_0x38848c(0x18e)]&&_0x3c180e&&(_0x3c180e['textContent']=_0x1c25bb[_0x246057]);},0x258);setTimeout(()=>{const _0x1f1e64=_0x14c150;clearInterval(_0x4c7b7f),_0x2a5663[_0x1f1e64(0x1a0)]['add']('fade-out');if(_0x3c180e)_0x3c180e['style']['display']=_0x1f1e64(0x1ea);setTimeout(()=>{const _0x33d181=_0x1f1e64;_0x4a921b[_0x33d181(0x208)]['display']=_0x33d181(0x1ea);if(this['roomCodeEl'])this[_0x33d181(0x17c)]['textContent']=this[_0x33d181(0x195)];_0x16c45f&&(_0x16c45f['classList'][_0x33d181(0x1d3)]('hidden'),_0x16c45f[_0x33d181(0x1a0)][_0x33d181(0x180)](_0x33d181(0x1c7))),_0x51d009&&_0x51d009[_0x33d181(0x1a0)][_0x33d181(0x1d3)]('hidden');},0x320);},0x9c4);}[_0x512f12(0x19a)](_0x45d4e0){const _0x3761aa=_0x512f12;_0x45d4e0[_0x3761aa(0x1c6)]='';const _0x378290=0x78,_0x4477a4=0x3c;for(let _0x5e33b5=0x0;_0x5e33b5<_0x378290;_0x5e33b5++){const _0x31d36a=document['createElement'](_0x3761aa(0x1b5));_0x31d36a[_0x3761aa(0x1b2)]=_0x3761aa(0x1c3),_0x31d36a['textContent']=Math['floor'](Math[_0x3761aa(0x1ef)]()*0xa);const _0x5068c7=Math[_0x3761aa(0x168)](0x1-0x2*(_0x5e33b5+0.5)/_0x378290),_0x14c892=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x5e33b5,_0x8c52b=_0x4477a4*Math['sin'](_0x5068c7)*Math['cos'](_0x14c892),_0x4ef1bc=_0x4477a4*Math[_0x3761aa(0x1ad)](_0x5068c7)*Math[_0x3761aa(0x1ad)](_0x14c892),_0x19dd99=_0x4477a4*Math['cos'](_0x5068c7);_0x31d36a[_0x3761aa(0x208)]['transform']=_0x3761aa(0x192)+_0x8c52b+_0x3761aa(0x174)+_0x4ef1bc+_0x3761aa(0x174)+_0x19dd99+'px)',_0x31d36a[_0x3761aa(0x208)]['left']='50%',_0x31d36a['style'][_0x3761aa(0x1dd)]='50%',_0x31d36a['style'][_0x3761aa(0x201)]=_0x3761aa(0x19e),_0x31d36a['style'][_0x3761aa(0x207)]='-10px',_0x31d36a[_0x3761aa(0x208)]['animationDelay']=Math['random']()*0.5+'s';const _0x944e2b=0.4+(_0x19dd99+_0x4477a4)/(0x2*_0x4477a4)*0.6;_0x31d36a['style'][_0x3761aa(0x1a4)]=_0x944e2b,_0x45d4e0[_0x3761aa(0x1e4)](_0x31d36a);}this['digitChangeInterval']=setInterval(()=>{const _0x479101=_0x3761aa,_0x13dd62=_0x45d4e0[_0x479101(0x1fc)]('.matrix-digit'),_0x28e6d2=_0x13dd62[Math[_0x479101(0x206)](Math[_0x479101(0x1ef)]()*_0x13dd62[_0x479101(0x18e)])];_0x28e6d2&&(_0x28e6d2[_0x479101(0x1e1)]=Math[_0x479101(0x206)](Math[_0x479101(0x1ef)]()*0xa));},0x32),setTimeout(()=>{this['digitChangeInterval']&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0x16a53f=_0x512f12;if(this['connectSection'])this[_0x16a53f(0x19b)][_0x16a53f(0x208)][_0x16a53f(0x181)]=_0x16a53f(0x1ea);if(this['roomInfoSection'])this[_0x16a53f(0x1ee)]['style'][_0x16a53f(0x181)]=_0x16a53f(0x1ea);if(this[_0x16a53f(0x1b3)])this['messagesSection'][_0x16a53f(0x208)][_0x16a53f(0x181)]=_0x16a53f(0x1cf);if(this['inputSection'])this[_0x16a53f(0x171)]['style'][_0x16a53f(0x181)]='block';}['enableChat'](){const _0x106b24=_0x512f12;this['messageInput']&&(this[_0x106b24(0x1a6)]['disabled']=![],this[_0x106b24(0x1a6)][_0x106b24(0x20b)]());if(this['sendBtn'])this['sendBtn'][_0x106b24(0x1f5)]=![];}['disableChat'](){const _0x379ec6=_0x512f12;if(this[_0x379ec6(0x1a6)])this[_0x379ec6(0x1a6)][_0x379ec6(0x1f5)]=!![];if(this['sendBtn'])this[_0x379ec6(0x184)][_0x379ec6(0x1f5)]=!![];}['sendMessage'](){const _0x224eb7=_0x512f12,_0x9d39e8=this[_0x224eb7(0x1a6)]?.['value']['trim']();if(!_0x9d39e8||!this[_0x224eb7(0x1da)])return;const _0x1b478c={'type':_0x224eb7(0x19d),'text':_0x9d39e8,'timestamp':Date['now']()};try{this['dataChannel']['send'](JSON[_0x224eb7(0x18c)](_0x1b478c)),this[_0x224eb7(0x1f7)](_0x9d39e8,_0x224eb7(0x1bc),_0x1b478c['timestamp']),this[_0x224eb7(0x1a6)]['value']='';}catch(_0x5e8a3f){console['error'](_0x224eb7(0x1a5),_0x5e8a3f),this['showSystemMessage']('Failed\x20to\x20send\x20message');}}['receiveMessage'](_0x748668){const _0x3851f1=_0x512f12;_0x748668[_0x3851f1(0x200)]===_0x3851f1(0x19d)&&(this['addMessage'](_0x748668['text'],_0x3851f1(0x196),_0x748668['timestamp']),!this[_0x3851f1(0x191)]&&(this['unreadCount']++,this[_0x3851f1(0x199)]()));}[_0x512f12(0x1f7)](_0x71b99e,_0x374a11,_0x59073d){const _0x4533a0=_0x512f12,_0x4d7c65=document['createElement']('div');_0x4d7c65['className']='qchat-message\x20'+_0x374a11;const _0x793d33=new Date(_0x59073d)['toLocaleTimeString']([],{'hour':_0x4533a0(0x183),'minute':'2-digit'});_0x4d7c65[_0x4533a0(0x1c6)]=_0x4533a0(0x1d6)+this[_0x4533a0(0x20a)](_0x71b99e)+_0x4533a0(0x1fa)+(_0x374a11==='sent'?'âœ“\x20':'')+_0x793d33+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x4533a0(0x1b1)]?.[_0x4533a0(0x1e4)](_0x4d7c65),this['scrollToBottom']();}[_0x512f12(0x18f)](_0x3efb17){const _0x29244e=_0x512f12,_0xa42fa9=document[_0x29244e(0x1ca)](_0x29244e(0x1ff));_0xa42fa9['className']='qchat-system-message',_0xa42fa9['textContent']=_0x3efb17,this['messagesList']?.[_0x29244e(0x1e4)](_0xa42fa9),this['scrollToBottom']();}['scrollToBottom'](){const _0x5a8191=_0x512f12;this['messagesSection']&&(this[_0x5a8191(0x1b3)]['scrollTop']=this['messagesSection'][_0x5a8191(0x1e2)]);}[_0x512f12(0x1ac)](_0x5b1760,_0x125ffb){const _0x8b6fcb=_0x512f12;if(this[_0x8b6fcb(0x1ce)]){this['statusEl'][_0x8b6fcb(0x1b2)]='qchat-status\x20'+_0x5b1760;const _0x5cb5c2=this['statusEl']['querySelector']('.status-text');if(_0x5cb5c2)_0x5cb5c2['textContent']=_0x125ffb;}}['updateBadge'](){const _0x10938b=_0x512f12;this['badge']&&(this['unreadCount']>0x0?(this[_0x10938b(0x176)]['textContent']=this['unreadCount']>0x63?'99+':this['unreadCount'],this[_0x10938b(0x176)]['style'][_0x10938b(0x181)]='flex'):this[_0x10938b(0x176)][_0x10938b(0x208)][_0x10938b(0x181)]=_0x10938b(0x1ea));}[_0x512f12(0x178)](){const _0x325f72=_0x512f12;this['unreadCount']=0x0,this[_0x325f72(0x199)]();}[_0x512f12(0x1b4)](){const _0x33dc30=_0x512f12;this['roomId']&&navigator['clipboard'][_0x33dc30(0x1a2)](this['roomId'])['then'](()=>{this['showSystemMessage']('Room\x20code\x20copied!');})[_0x33dc30(0x1be)](()=>{const _0x32db76=_0x33dc30,_0x245e4a=document['createElement']('textarea');_0x245e4a['value']=this[_0x32db76(0x195)],document[_0x32db76(0x1c5)]['appendChild'](_0x245e4a),_0x245e4a['select'](),document[_0x32db76(0x1e9)](_0x32db76(0x1f6)),document['body']['removeChild'](_0x245e4a),this['showSystemMessage']('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x4fb6da=_0x512f12;this['isConnected']=![],this['updateStatus'](_0x4fb6da(0x1a8),_0x4fb6da(0x193)),this['disableChat']();}['escapeHtml'](_0x3d06ef){const _0x39b10c=_0x512f12,_0x1ff2d5=document[_0x39b10c(0x1ca)](_0x39b10c(0x1ff));return _0x1ff2d5['textContent']=_0x3d06ef,_0x1ff2d5[_0x39b10c(0x1c6)];}}document['addEventListener'](_0x512f12(0x1ab),()=>{const _0x4cd2b6=_0x512f12;window[_0x4cd2b6(0x204)]=new QChat();});function _0x3704(_0x1dfd47,_0x23f46d){_0x1dfd47=_0x1dfd47-0x162;const _0x30029b=_0x3002();let _0x3704a1=_0x30029b[_0x1dfd47];return _0x3704a1;}function _0x3002(){const _0x73d68c=['</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','failed','querySelectorAll','joinBtn','qchatSendBtn','div','type','marginLeft','qchatCopyCode','Establishing\x20Secure\x20Link...','qChat','answer','floor','marginTop','style','bindEvents','escapeHtml','focus','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal','stun:stun1.l.google.com:19302','log','offer','Establishing\x20P2P...','roomInput','matrixSphereContainer','qchatToggle','ice-candidate','openPanel','initElements','/api/turn-credentials','shiftKey','acos','connectToServer','key','block','readyState','toggleBtn','Please\x20enter\x20a\x20valid\x20room\x20code','peer-left','sendMessage','inputSection','disableChat','location','px,\x20','addIceCandidate','badge','createBtn','clearUnread','4BzXnCF','getWebSocketUrl','qchatMessageInput','roomCodeEl','createOffer','matrixSphereStatus','onclose','add','display','Waiting\x20for\x20host...','2-digit','sendBtn','matrixSphere','togglePanel','15OpEVnY','isHost','joinRoom','json','create-room','stringify','Q-Chat:\x20WebSocket\x20closed','length','showSystemMessage','Connection\x20failed','isPanelOpen','translate3d(','Disconnected','value','roomId','received','target','101448kCgIhy','updateBadge','createMatrixSphere','connectSection','setupDataChannel','message','-7px','candidate','classList','qchatRoomInput','writeText','Q-Chat:\x20Data\x20channel\x20open','opacity','Q-Chat:\x20Error\x20sending\x20message:','messageInput','toUpperCase','disconnected','handleSignalingMessage','peerConnection','DOMContentLoaded','updateStatus','sin','Peer\x20left','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','245865LzWrnm','messagesList','className','messagesSection','copyRoomCode','span','error','preventDefault','closePanel','initializeWebRTC','connecting','addEventListener','sent','keypress','catch','handleOffer','connectionState','Q-Chat:\x20Connecting\x20to:','parse','matrix-digit','qchat','body','innerHTML','reveal','18ZkfTQO','4722760bOfpqm','createElement','703040RipFoO','startMatrixSphereAnimation','ws:','statusEl','flex','qchatClose','sdp','handleAnswer','remove','contains','showRoomInfo','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','70887bcMQOB','host','copyCodeBtn','isConnected','qchatRoomCodeSection','640314onNfJy','top','charAt','peer-joined','4056584qVZopQ','textContent','scrollHeight','send','appendChild','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','open','onopen','createAndSendOffer','execCommand','none','getElementById','unreadCount','Q-Chat:\x20Connection\x20state:','roomInfoSection','random','Encrypting\x20Neural\x20Pathway...','dataChannel','isArray','setRemoteDescription','data','disabled','copy','addMessage','click','Secure\x20P2P'];_0x3002=function(){return _0x73d68c;};return _0x3002();}