const _0x1fde51=_0x1fad;function _0x1fc7(){const _0x5603f1=['open','clipboard','classList','qchatClose','ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)','textContent','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','div','toggleBtn','candidate','216hSzQTu','.status-text','closePanel','random','marginTop','Disconnected','Encrypting\x20Neural\x20Pathway...','peer-left','badge','handleIceCandidate','dataChannel','floor','qchatSendBtn','className','connectSection','Room\x20code\x20copied!','2101990rYNObK','receiveMessage','message','isConnected','roomCodeEl','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','digitChangeInterval','appendChild','Enter','Q-Chat:\x20Error\x20sending\x20message:','charAt','isPanelOpen','showChatUI','panel','textarea','sendBtn','Failed\x20to\x20connect\x20to\x20server','qchatRoomCode','5MAXmmw','statusEl','room-created','none','Q-Chat:\x20Error\x20handling\x20answer:','peerConnection','protocol','copy','timestamp','select','inputSection','answer','createAnswer','roomId','preventDefault','messagesSection','scrollToBottom','Joining...','99+','Finalizing\x20Quantum\x20Code...','active','Q-Chat\x20Server\x20Error:','parse','value','Secure\x20P2P','2-digit','generateRoomId','togglePanel','reveal','3YCNOfy','style','handleSignalingMessage','left','updateBadge','block','remove','getElementById','sdp','9xdiuce','copyCodeBtn','length','218AbFliL','sqrt','.matrix-digit','display','roomInfoSection','qchat-message\x20','initializeWebRTC','px)','Error','createRoom','fade-out','animationDelay','qchatRoomCodeSection','/ws','peer-joined','log','DOMContentLoaded','matrixSphere','stun:stun1.l.google.com:19302','initElements','ice-candidate','isHost','hidden','addIceCandidate','shiftKey','Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback','onconnectionstatechange','ondatachannel','offer','50%','clearUnread','2113AnQOWK','now','Q-Chat:\x20WebSocket\x20connected','add','qchatRoomInput','updateStatus','onopen','qchatCopyCode','setLocalDescription','messageInput','messagesList','Generating\x20Quantum\x20Tunnel...','qchatMessageInput','2636304kRbKoR','Q-Chat:\x20Connecting\x20to:','translate3d(','disconnected','883839XXnWYs','qchatWaiting','setupDataChannel','transform','createBtn','isArray','data','roomInput','disableChat','text','qchatInputSection','click','enableChat','error','trim','1725012FaTUvc','target','join-room','then','createElement','unreadCount','addEventListener','qchatConnect','connecting','openPanel','addMessage','escapeHtml','Q-Chat:\x20Data\x20channel\x20open','https:','Q-Chat:\x20Data\x20channel\x20closed','joinRoom','onclose','Establishing\x20Secure\x20Link...','send','flex','Q-Chat:\x20WebSocket\x20error:','qchat-system-message','2809768wfvmXA','sin','Error:\x20','joinBtn','showSystemMessage','3833858FYZGlu','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','createMatrixSphere','connectionState','bindEvents','Q-Chat:\x20Error\x20creating\x20offer:','key','writeText'];_0x1fc7=function(){return _0x5603f1;};return _0x1fc7();}(function(_0x410840,_0x3c66ed){const _0x2e4961=_0x1fad,_0x2ea9e5=_0x410840();while(!![]){try{const _0x1b16ae=-parseInt(_0x2e4961(0x89))/0x1*(parseInt(_0x2e4961(0x121))/0x2)+parseInt(_0x2e4961(0x115))/0x3*(parseInt(_0x2e4961(0xbf))/0x4)+-parseInt(_0x2e4961(0xf8))/0x5*(-parseInt(_0x2e4961(0xa9))/0x6)+parseInt(_0x2e4961(0xc4))/0x7+parseInt(_0x2e4961(0x96))/0x8+-parseInt(_0x2e4961(0x11e))/0x9*(-parseInt(_0x2e4961(0xe6))/0xa)+-parseInt(_0x2e4961(0x9a))/0xb*(parseInt(_0x2e4961(0xd6))/0xc);if(_0x1b16ae===_0x3c66ed)break;else _0x2ea9e5['push'](_0x2ea9e5['shift']());}catch(_0x4f748f){_0x2ea9e5['push'](_0x2ea9e5['shift']());}}}(_0x1fc7,0x61d88));class QChat{constructor(){const _0x36d630=_0x1fad;this['ws']=null,this[_0x36d630(0xfd)]=null,this[_0x36d630(0xe0)]=null,this['roomId']=null,this[_0x36d630(0x136)]=![],this['isConnected']=![],this[_0x36d630(0xae)]=0x0,this[_0x36d630(0xf1)]=![],this['initElements'](),this[_0x36d630(0xc8)]();}[_0x1fde51(0x134)](){const _0x17c831=_0x1fde51;this[_0x17c831(0xf3)]=document['getElementById']('qchatPanel'),this['toggleBtn']=document['getElementById']('qchatToggle'),this['closeBtn']=document[_0x17c831(0x11c)](_0x17c831(0xcf)),this[_0x17c831(0xde)]=document[_0x17c831(0x11c)]('qchatBadge'),this['connectSection']=document[_0x17c831(0x11c)](_0x17c831(0xb0)),this['roomInfoSection']=document['getElementById']('qchatRoomInfo'),this[_0x17c831(0x107)]=document[_0x17c831(0x11c)]('qchatMessages'),this['inputSection']=document[_0x17c831(0x11c)](_0x17c831(0xa4)),this[_0x17c831(0xf9)]=document[_0x17c831(0x11c)]('qchatStatus'),this['roomCodeEl']=document[_0x17c831(0x11c)](_0x17c831(0xf7)),this['createBtn']=document[_0x17c831(0x11c)]('qchatCreate'),this[_0x17c831(0xc2)]=document['getElementById']('qchatJoin'),this[_0x17c831(0x11f)]=document['getElementById'](_0x17c831(0x90)),this[_0x17c831(0xf5)]=document[_0x17c831(0x11c)](_0x17c831(0xe2)),this['roomInput']=document[_0x17c831(0x11c)](_0x17c831(0x8d)),this[_0x17c831(0x92)]=document[_0x17c831(0x11c)](_0x17c831(0x95)),this[_0x17c831(0x93)]=document['getElementById']('qchatMessagesList');}['bindEvents'](){const _0x36512d=_0x1fde51;this['toggleBtn']?.[_0x36512d(0xaf)]('click',()=>this[_0x36512d(0x113)]()),this['closeBtn']?.['addEventListener']('click',()=>this[_0x36512d(0xd8)]()),this[_0x36512d(0x9e)]?.[_0x36512d(0xaf)](_0x36512d(0xa5),()=>this[_0x36512d(0x12a)]()),this['joinBtn']?.[_0x36512d(0xaf)]('click',()=>this[_0x36512d(0xb8)]()),this[_0x36512d(0xa1)]?.[_0x36512d(0xaf)]('keypress',_0x4a99e0=>{const _0x1f28a5=_0x36512d;if(_0x4a99e0['key']===_0x1f28a5(0xee))this['joinRoom']();}),this['copyCodeBtn']?.['addEventListener']('click',()=>this['copyRoomCode']()),this[_0x36512d(0xf5)]?.[_0x36512d(0xaf)](_0x36512d(0xa5),()=>this['sendMessage']()),this[_0x36512d(0x92)]?.['addEventListener']('keypress',_0x319915=>{const _0x1c498e=_0x36512d;_0x319915[_0x1c498e(0xca)]===_0x1c498e(0xee)&&!_0x319915[_0x1c498e(0x82)]&&(_0x319915[_0x1c498e(0x106)](),this['sendMessage']());}),document[_0x36512d(0xaf)]('click',_0x745990=>{const _0x4b7ba3=_0x36512d;this['isPanelOpen']&&!this['panel']?.['contains'](_0x745990[_0x4b7ba3(0xaa)])&&!this['toggleBtn']?.['contains'](_0x745990[_0x4b7ba3(0xaa)])&&this['closePanel']();});}['togglePanel'](){const _0x3a9937=_0x1fde51;this['isPanelOpen']?this[_0x3a9937(0xd8)]():this['openPanel']();}[_0x1fde51(0xb2)](){const _0x480812=_0x1fde51;this['panel']?.['classList']['add']('open'),this[_0x480812(0xd4)]?.[_0x480812(0xce)][_0x480812(0x8c)](_0x480812(0x10c)),this[_0x480812(0xf1)]=!![],this[_0x480812(0x88)]();}['closePanel'](){const _0x5ea470=_0x1fde51;this['panel']?.[_0x5ea470(0xce)]['remove'](_0x5ea470(0xcc)),this[_0x5ea470(0xd4)]?.[_0x5ea470(0xce)]['remove'](_0x5ea470(0x10c)),this['isPanelOpen']=![];}['generateRoomId'](){const _0x1a8c31=_0x1fde51,_0x1191e8=_0x1a8c31(0xd2);let _0x4f9efe='';for(let _0x486168=0x0;_0x486168<0x6;_0x486168++){_0x4f9efe+=_0x1191e8[_0x1a8c31(0xf0)](Math[_0x1a8c31(0xe1)](Math['random']()*_0x1191e8['length']));}return _0x4f9efe;}['getWebSocketUrl'](){const _0x1f9ad3=_0x1fde51,_0x568ede=window['location'][_0x1f9ad3(0xfe)]===_0x1f9ad3(0xb6)?'wss:':'ws:';return _0x568ede+'//'+window['location']['host']+_0x1f9ad3(0x12e);}async['connectToServer'](){return new Promise((_0x5d4be7,_0x3611b8)=>{const _0x280117=_0x1fad,_0x17b8ff=this['getWebSocketUrl']();console['log'](_0x280117(0x97),_0x17b8ff),this['ws']=new WebSocket(_0x17b8ff),this['ws']['onopen']=()=>{const _0x53f2e0=_0x280117;console[_0x53f2e0(0x130)](_0x53f2e0(0x8b)),_0x5d4be7();},this['ws']['onerror']=_0x137e27=>{const _0x351b8f=_0x280117;console[_0x351b8f(0xa7)](_0x351b8f(0xbd),_0x137e27),_0x3611b8(_0x137e27);},this['ws'][_0x280117(0xb9)]=()=>{const _0x336c8b=_0x280117;console[_0x336c8b(0x130)]('Q-Chat:\x20WebSocket\x20closed'),this['handleDisconnect']();},this['ws']['onmessage']=_0x259df1=>{const _0x515a22=_0x280117,_0x2cef28=JSON[_0x515a22(0x10e)](_0x259df1[_0x515a22(0xa0)]);this[_0x515a22(0x117)](_0x2cef28);};});}['send'](_0x55e5da){const _0x5a4312=_0x1fde51;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws'][_0x5a4312(0xbb)](JSON['stringify'](_0x55e5da));}async['createRoom'](){const _0x526296=_0x1fde51;this['isHost']=!![],this[_0x526296(0x105)]=this[_0x526296(0x112)](),this['updateStatus'](_0x526296(0xb1),'Connecting...');try{await this['connectToServer'](),this[_0x526296(0xbb)]({'type':'create-room','roomId':this[_0x526296(0x105)]});}catch(_0x5254ec){this['showSystemMessage'](_0x526296(0xf6)),this[_0x526296(0x8e)]('disconnected','Connection\x20failed');}}async['joinRoom'](){const _0x2d4b94=_0x1fde51,_0x1d758f=this['roomInput']?.[_0x2d4b94(0x10f)][_0x2d4b94(0xa8)]()['toUpperCase']();if(!_0x1d758f||_0x1d758f[_0x2d4b94(0x120)]<0x4){this['showSystemMessage']('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this[_0x2d4b94(0x136)]=![],this['roomId']=_0x1d758f,this['updateStatus']('connecting',_0x2d4b94(0x109));try{await this['connectToServer'](),this[_0x2d4b94(0xbb)]({'type':_0x2d4b94(0xab),'roomId':this['roomId']});}catch(_0xe0e772){this['showSystemMessage'](_0x2d4b94(0xf6)),this[_0x2d4b94(0x8e)](_0x2d4b94(0x99),'Connection\x20failed');}}async['handleSignalingMessage'](_0x195bd5){const _0x572975=_0x1fde51;switch(_0x195bd5['type']){case _0x572975(0xfa):this['showRoomInfo'](),this['updateStatus']('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this['showSystemMessage']('Joined\x20room!\x20Waiting\x20for\x20host...'),this['updateStatus']('connecting','Waiting\x20for\x20host...');break;case _0x572975(0x12f):this['showSystemMessage'](_0x572975(0xc5)),this[_0x572975(0x8e)](_0x572975(0xb1),'Establishing\x20P2P...'),await this['initializeWebRTC']();this[_0x572975(0x136)]&&await this['createAndSendOffer']();break;case _0x572975(0xdd):this[_0x572975(0xc3)]('Peer\x20disconnected'),this['updateStatus']('disconnected','Peer\x20left'),this[_0x572975(0xa2)]();break;case'offer':await this['handleOffer'](_0x195bd5);break;case _0x572975(0x103):await this['handleAnswer'](_0x195bd5);break;case _0x572975(0x135):await this[_0x572975(0xdf)](_0x195bd5);break;case _0x572975(0xa7):this['showSystemMessage'](_0x572975(0xc1)+_0x195bd5[_0x572975(0xe8)]),this[_0x572975(0x8e)](_0x572975(0x99),_0x572975(0x129)),console['error'](_0x572975(0x10d),_0x195bd5['message']);break;}}async[_0x1fde51(0x127)](){const _0x3a9594=_0x1fde51,_0x3da26d=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x3a9594(0x133)}];let _0x48d0b0=_0x3da26d;try{const _0x5a6700=await fetch('/api/turn-credentials'),_0x4b39d2=await _0x5a6700['json']();Array[_0x3a9594(0x9f)](_0x4b39d2)&&_0x4b39d2[_0x3a9594(0x120)]>0x0?(_0x48d0b0=_0x4b39d2,console[_0x3a9594(0x130)]('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console[_0x3a9594(0x130)](_0x3a9594(0x83));}catch(_0x58ef0d){console[_0x3a9594(0x130)](_0x3a9594(0xeb));}const _0x2bf65a={'iceServers':_0x48d0b0};this[_0x3a9594(0xfd)]=new RTCPeerConnection(_0x2bf65a),this['peerConnection']['onicecandidate']=_0x2b9f6b=>{const _0x509919=_0x3a9594;_0x2b9f6b[_0x509919(0xd5)]&&this['send']({'type':_0x509919(0x135),'roomId':this[_0x509919(0x105)],'candidate':_0x2b9f6b[_0x509919(0xd5)]});},this['peerConnection'][_0x3a9594(0x84)]=()=>{const _0x9ac53f=_0x3a9594,_0x1446fd=this[_0x9ac53f(0xfd)][_0x9ac53f(0xc7)];console['log']('Q-Chat:\x20Connection\x20state:',_0x1446fd);if(_0x1446fd==='connected')this['updateStatus']('connected',_0x9ac53f(0x110)),this[_0x9ac53f(0xc3)](_0x9ac53f(0xd0));else(_0x1446fd==='disconnected'||_0x1446fd==='failed')&&(this[_0x9ac53f(0x8e)]('disconnected',_0x9ac53f(0xdb)),this['disableChat']());},this['isHost']?(this[_0x3a9594(0xe0)]=this[_0x3a9594(0xfd)]['createDataChannel']('qchat',{'ordered':!![]}),this[_0x3a9594(0x9c)]()):this[_0x3a9594(0xfd)][_0x3a9594(0x85)]=_0x225ff2=>{const _0x38fdb4=_0x3a9594;this[_0x38fdb4(0xe0)]=_0x225ff2['channel'],this['setupDataChannel']();};}[_0x1fde51(0x9c)](){const _0x105729=_0x1fde51;this['dataChannel'][_0x105729(0x8f)]=()=>{const _0x564040=_0x105729;console['log'](_0x564040(0xb5)),this[_0x564040(0xe9)]=!![],this[_0x564040(0xa6)](),this[_0x564040(0xf2)]();},this[_0x105729(0xe0)]['onclose']=()=>{const _0x35db5b=_0x105729;console['log'](_0x35db5b(0xb7)),this['isConnected']=![],this['disableChat']();},this[_0x105729(0xe0)]['onmessage']=_0x58486f=>{const _0x37862d=_0x105729,_0x3c9140=JSON['parse'](_0x58486f[_0x37862d(0xa0)]);this['receiveMessage'](_0x3c9140);};}async['createAndSendOffer'](){const _0x2cddfa=_0x1fde51;try{const _0x1c3134=await this[_0x2cddfa(0xfd)]['createOffer']();await this[_0x2cddfa(0xfd)][_0x2cddfa(0x91)](_0x1c3134),this['send']({'type':'offer','roomId':this[_0x2cddfa(0x105)],'sdp':_0x1c3134[_0x2cddfa(0x11d)]});}catch(_0x231b83){console['error'](_0x2cddfa(0xc9),_0x231b83);}}async['handleOffer'](_0x9352ad){const _0x1bfcb4=_0x1fde51;try{await this[_0x1bfcb4(0x127)](),await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x1bfcb4(0x86),'sdp':_0x9352ad[_0x1bfcb4(0x11d)]}));const _0x146db0=await this[_0x1bfcb4(0xfd)][_0x1bfcb4(0x104)]();await this[_0x1bfcb4(0xfd)][_0x1bfcb4(0x91)](_0x146db0),this[_0x1bfcb4(0xbb)]({'type':_0x1bfcb4(0x103),'roomId':this['roomId'],'sdp':_0x146db0['sdp']});}catch(_0x6ddffc){console['error']('Q-Chat:\x20Error\x20handling\x20offer:',_0x6ddffc);}}async['handleAnswer'](_0x4826ef){const _0x92196=_0x1fde51;try{await this[_0x92196(0xfd)]['setRemoteDescription'](new RTCSessionDescription({'type':_0x92196(0x103),'sdp':_0x4826ef[_0x92196(0x11d)]}));}catch(_0x2eb3e1){console[_0x92196(0xa7)](_0x92196(0xfc),_0x2eb3e1);}}async[_0x1fde51(0xdf)](_0x56c5fe){const _0x1a778e=_0x1fde51;try{_0x56c5fe['candidate']&&await this['peerConnection'][_0x1a778e(0x81)](new RTCIceCandidate(_0x56c5fe[_0x1a778e(0xd5)]));}catch(_0x31a0c2){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x31a0c2);}}['showRoomInfo'](){const _0x5e3bdc=_0x1fde51;if(this['connectSection'])this[_0x5e3bdc(0xe4)][_0x5e3bdc(0x116)][_0x5e3bdc(0x124)]=_0x5e3bdc(0xfb);if(this['roomInfoSection'])this['roomInfoSection']['style'][_0x5e3bdc(0x124)]='block';this['startMatrixSphereAnimation']();}['startMatrixSphereAnimation'](){const _0x211377=_0x1fde51,_0xf608f=document['getElementById']('matrixSphereContainer'),_0xb2da99=document[_0x211377(0x11c)](_0x211377(0x132)),_0x1fdacd=document[_0x211377(0x11c)]('matrixSphereStatus'),_0x4765b1=document['getElementById'](_0x211377(0x12d)),_0x4e8876=document[_0x211377(0x11c)](_0x211377(0x9b));if(!_0xb2da99||!_0xf608f){if(this[_0x211377(0xea)])this[_0x211377(0xea)]['textContent']=this['roomId'];return;}this['createMatrixSphere'](_0xb2da99);const _0xb27f8c=[_0x211377(0x94),_0x211377(0xdc),_0x211377(0xba),_0x211377(0x10b)];let _0x4c83f9=0x0;const _0x6db8d7=setInterval(()=>{const _0x51a06e=_0x211377;_0x4c83f9++,_0x4c83f9<_0xb27f8c['length']&&_0x1fdacd&&(_0x1fdacd[_0x51a06e(0xd1)]=_0xb27f8c[_0x4c83f9]);},0x258);setTimeout(()=>{const _0x10ac2a=_0x211377;clearInterval(_0x6db8d7),_0xb2da99['classList']['add'](_0x10ac2a(0x12b));if(_0x1fdacd)_0x1fdacd[_0x10ac2a(0x116)][_0x10ac2a(0x124)]=_0x10ac2a(0xfb);setTimeout(()=>{const _0x3aedfd=_0x10ac2a;_0xf608f[_0x3aedfd(0x116)]['display']='none';if(this['roomCodeEl'])this['roomCodeEl'][_0x3aedfd(0xd1)]=this[_0x3aedfd(0x105)];_0x4765b1&&(_0x4765b1[_0x3aedfd(0xce)][_0x3aedfd(0x11b)](_0x3aedfd(0x80)),_0x4765b1['classList']['add'](_0x3aedfd(0x114))),_0x4e8876&&_0x4e8876['classList']['remove']('hidden');},0x320);},0x9c4);}[_0x1fde51(0xc6)](_0x32d827){const _0x4707=_0x1fde51;_0x32d827['innerHTML']='';const _0x393704=0x78,_0xb2ed47=0x3c;for(let _0x2ab52e=0x0;_0x2ab52e<_0x393704;_0x2ab52e++){const _0x2b85a1=document[_0x4707(0xad)]('span');_0x2b85a1[_0x4707(0xe3)]='matrix-digit',_0x2b85a1[_0x4707(0xd1)]=Math[_0x4707(0xe1)](Math['random']()*0xa);const _0x145b2e=Math['acos'](0x1-0x2*(_0x2ab52e+0.5)/_0x393704),_0x3201c0=Math['PI']*(0x1+Math[_0x4707(0x122)](0x5))*_0x2ab52e,_0x1367f1=_0xb2ed47*Math['sin'](_0x145b2e)*Math['cos'](_0x3201c0),_0x3440a5=_0xb2ed47*Math[_0x4707(0xc0)](_0x145b2e)*Math['sin'](_0x3201c0),_0x2a9bae=_0xb2ed47*Math['cos'](_0x145b2e);_0x2b85a1[_0x4707(0x116)][_0x4707(0x9d)]=_0x4707(0x98)+_0x1367f1+'px,\x20'+_0x3440a5+'px,\x20'+_0x2a9bae+_0x4707(0x128),_0x2b85a1['style'][_0x4707(0x118)]=_0x4707(0x87),_0x2b85a1[_0x4707(0x116)]['top']=_0x4707(0x87),_0x2b85a1[_0x4707(0x116)]['marginLeft']='-7px',_0x2b85a1[_0x4707(0x116)][_0x4707(0xda)]='-10px',_0x2b85a1['style'][_0x4707(0x12c)]=Math[_0x4707(0xd9)]()*0.5+'s';const _0x30e0b3=0.4+(_0x2a9bae+_0xb2ed47)/(0x2*_0xb2ed47)*0.6;_0x2b85a1[_0x4707(0x116)]['opacity']=_0x30e0b3,_0x32d827[_0x4707(0xed)](_0x2b85a1);}this[_0x4707(0xec)]=setInterval(()=>{const _0x3744d5=_0x4707,_0x41ecc8=_0x32d827['querySelectorAll'](_0x3744d5(0x123)),_0xaa0765=_0x41ecc8[Math['floor'](Math[_0x3744d5(0xd9)]()*_0x41ecc8[_0x3744d5(0x120)])];_0xaa0765&&(_0xaa0765['textContent']=Math[_0x3744d5(0xe1)](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x161d8f=_0x4707;this[_0x161d8f(0xec)]&&clearInterval(this[_0x161d8f(0xec)]);},0xdac);}[_0x1fde51(0xf2)](){const _0x1358fd=_0x1fde51;if(this[_0x1358fd(0xe4)])this[_0x1358fd(0xe4)]['style']['display']='none';if(this['roomInfoSection'])this[_0x1358fd(0x125)]['style']['display']=_0x1358fd(0xfb);if(this[_0x1358fd(0x107)])this['messagesSection']['style']['display']=_0x1358fd(0xbc);if(this[_0x1358fd(0x102)])this[_0x1358fd(0x102)][_0x1358fd(0x116)]['display']=_0x1358fd(0x11a);}[_0x1fde51(0xa6)](){const _0x51c47c=_0x1fde51;this[_0x51c47c(0x92)]&&(this[_0x51c47c(0x92)]['disabled']=![],this['messageInput']['focus']());if(this['sendBtn'])this[_0x51c47c(0xf5)]['disabled']=![];}[_0x1fde51(0xa2)](){const _0x3749b3=_0x1fde51;if(this[_0x3749b3(0x92)])this['messageInput']['disabled']=!![];if(this[_0x3749b3(0xf5)])this['sendBtn']['disabled']=!![];}['sendMessage'](){const _0x24b9c5=_0x1fde51,_0x373e1a=this['messageInput']?.[_0x24b9c5(0x10f)][_0x24b9c5(0xa8)]();if(!_0x373e1a||!this[_0x24b9c5(0xe9)])return;const _0x4ad311={'type':_0x24b9c5(0xe8),'text':_0x373e1a,'timestamp':Date[_0x24b9c5(0x8a)]()};try{this[_0x24b9c5(0xe0)][_0x24b9c5(0xbb)](JSON['stringify'](_0x4ad311)),this[_0x24b9c5(0xb3)](_0x373e1a,'sent',_0x4ad311[_0x24b9c5(0x100)]),this[_0x24b9c5(0x92)]['value']='';}catch(_0x3074fe){console['error'](_0x24b9c5(0xef),_0x3074fe),this['showSystemMessage']('Failed\x20to\x20send\x20message');}}[_0x1fde51(0xe7)](_0x5bb9f1){const _0x1bb3f9=_0x1fde51;_0x5bb9f1['type']===_0x1bb3f9(0xe8)&&(this['addMessage'](_0x5bb9f1[_0x1bb3f9(0xa3)],'received',_0x5bb9f1[_0x1bb3f9(0x100)]),!this[_0x1bb3f9(0xf1)]&&(this[_0x1bb3f9(0xae)]++,this[_0x1bb3f9(0x119)]()));}['addMessage'](_0x3127d1,_0x9efa9,_0x3e3e4d){const _0x5b53f0=_0x1fde51,_0x5a2110=document[_0x5b53f0(0xad)](_0x5b53f0(0xd3));_0x5a2110['className']=_0x5b53f0(0x126)+_0x9efa9;const _0x55dab6=new Date(_0x3e3e4d)['toLocaleTimeString']([],{'hour':_0x5b53f0(0x111),'minute':'2-digit'});_0x5a2110['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this[_0x5b53f0(0xb4)](_0x3127d1)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x9efa9==='sent'?'âœ“\x20':'')+_0x55dab6+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this['messagesList']?.[_0x5b53f0(0xed)](_0x5a2110),this[_0x5b53f0(0x108)]();}[_0x1fde51(0xc3)](_0x427516){const _0x4c37f4=_0x1fde51,_0x2c6de7=document['createElement'](_0x4c37f4(0xd3));_0x2c6de7[_0x4c37f4(0xe3)]=_0x4c37f4(0xbe),_0x2c6de7[_0x4c37f4(0xd1)]=_0x427516,this[_0x4c37f4(0x93)]?.['appendChild'](_0x2c6de7),this[_0x4c37f4(0x108)]();}[_0x1fde51(0x108)](){const _0x2097e4=_0x1fde51;this['messagesSection']&&(this[_0x2097e4(0x107)]['scrollTop']=this['messagesSection']['scrollHeight']);}['updateStatus'](_0x1413d0,_0x216f77){const _0x307aa9=_0x1fde51;if(this[_0x307aa9(0xf9)]){this['statusEl']['className']='qchat-status\x20'+_0x1413d0;const _0x5ea9aa=this['statusEl']['querySelector'](_0x307aa9(0xd7));if(_0x5ea9aa)_0x5ea9aa['textContent']=_0x216f77;}}['updateBadge'](){const _0x1a4045=_0x1fde51;this['badge']&&(this['unreadCount']>0x0?(this[_0x1a4045(0xde)][_0x1a4045(0xd1)]=this[_0x1a4045(0xae)]>0x63?_0x1a4045(0x10a):this[_0x1a4045(0xae)],this['badge'][_0x1a4045(0x116)]['display']='flex'):this['badge'][_0x1a4045(0x116)][_0x1a4045(0x124)]=_0x1a4045(0xfb));}[_0x1fde51(0x88)](){this['unreadCount']=0x0,this['updateBadge']();}['copyRoomCode'](){const _0x21be0d=_0x1fde51;this['roomId']&&navigator[_0x21be0d(0xcd)][_0x21be0d(0xcb)](this[_0x21be0d(0x105)])[_0x21be0d(0xac)](()=>{const _0x1ccdd5=_0x21be0d;this['showSystemMessage'](_0x1ccdd5(0xe5));})['catch'](()=>{const _0x1ffe82=_0x21be0d,_0x316352=document[_0x1ffe82(0xad)](_0x1ffe82(0xf4));_0x316352['value']=this['roomId'],document['body']['appendChild'](_0x316352),_0x316352[_0x1ffe82(0x101)](),document['execCommand'](_0x1ffe82(0xff)),document['body']['removeChild'](_0x316352),this[_0x1ffe82(0xc3)]('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x2d0247=_0x1fde51;this[_0x2d0247(0xe9)]=![],this['updateStatus'](_0x2d0247(0x99),'Disconnected'),this['disableChat']();}['escapeHtml'](_0x2e8a6b){const _0x1ea184=_0x1fde51,_0x4e3a99=document[_0x1ea184(0xad)](_0x1ea184(0xd3));return _0x4e3a99[_0x1ea184(0xd1)]=_0x2e8a6b,_0x4e3a99['innerHTML'];}}function _0x1fad(_0x350422,_0x3b8d71){_0x350422=_0x350422-0x80;const _0x1fc7a5=_0x1fc7();let _0x1fadf6=_0x1fc7a5[_0x350422];return _0x1fadf6;}document['addEventListener'](_0x1fde51(0x131),()=>{window['qChat']=new QChat();});