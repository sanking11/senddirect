const _0x5ca9e4=_0x4d10;function _0xb892(){const _0x1e205c=['Error:\x20','Finalizing\x20Quantum\x20Code...','querySelectorAll','flex','3582360XKbDZY','roomId','Joining...','messagesList','-7px','qchatCreate','classList','select','Q-Chat:\x20Connecting\x20to:','peerConnection','Q-Chat\x20Server\x20Error:','handleOffer','matrixSphereContainer','8SnUepv','connecting','Q-Chat:\x20Data\x20channel\x20open','unreadCount','acos','animationDelay','qchatToggle','isHost','Encrypting\x20Neural\x20Pathway...','copyCodeBtn','Joined\x20room!\x20Waiting\x20for\x20host...','Q-Chat:\x20Error\x20sending\x20message:','showSystemMessage','joinRoom','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20','531055ymEdoO','room-created','Disconnected','scrollToBottom','onmessage','host','execCommand','remove','setupDataChannel','joinBtn','px)','createBtn','send','sendMessage','qchatCopyCode','textContent','badge','5SltWhE','disabled','DOMContentLoaded','message','</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','key','error','sendBtn','isConnected','timestamp','appendChild','location','hidden','answer','onopen','data','join-room','scrollHeight','writeText','roomInput','receiveMessage','peer-joined','qChat','generateRoomId','createAndSendOffer','sin','qchatConnect','opacity','https:','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','Connecting...','createAnswer','startMatrixSphereAnimation','addEventListener','onclose','Q-Chat:\x20WebSocket\x20closed','onerror','matrixSphere','active','updateStatus','none','Error','offer','handleSignalingMessage','querySelector','Peer\x20left','ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)','connectSection','disableChat','Secure\x20P2P','enableChat','.matrix-digit','click','createOffer','closePanel','setLocalDescription','candidate','body','sdp','keypress','marginTop','getWebSocketUrl','disconnected','roomCodeEl','setRemoteDescription','sent','copyRoomCode','handleAnswer','qchat-status\x20','50%','OPEN','display','Please\x20enter\x20a\x20valid\x20room\x20code','/api/turn-credentials','stringify','digitChangeInterval','qchatRoomCodeSection','received','Q-Chat:\x20Error\x20handling\x20offer:','Failed\x20to\x20connect\x20to\x20server','7892710pDxwBs','qchatRoomInfo','target','cos','qchatRoomCode','Establishing\x20Secure\x20Link...','className','messageInput','handleIceCandidate','floor','block','dataChannel','44886546JJHFWI','panel','initializeWebRTC','qchatJoin','togglePanel','isPanelOpen','connectionState','6086496EWDLtf','getElementById','statusEl','Q-Chat:\x20Error\x20creating\x20offer:','qchatPanel','Enter','ice-candidate','style','preventDefault','inputSection','Waiting\x20for\x20host...','qchatMessages','translate3d(','roomInfoSection','connected','sqrt','-10px','div','messagesSection','length','random','qchatWaiting','readyState','contains','closeBtn','open','log','/ws','qchatRoomInput','4317516jQievA','2-digit','addMessage','updateBadge','clipboard','connectToServer','toggleBtn','3716206rTsShF','Q-Chat:\x20Error\x20handling\x20answer:','type','px,\x20','bindEvents'];_0xb892=function(){return _0x1e205c;};return _0xb892();}(function(_0x41f651,_0x286f71){const _0x533af0=_0x4d10,_0x936d6b=_0x41f651();while(!![]){try{const _0x8801e=parseInt(_0x533af0(0xe1))/0x1+-parseInt(_0x533af0(0xbc))/0x2+-parseInt(_0x533af0(0xb5))/0x3+parseInt(_0x533af0(0xc5))/0x4+parseInt(_0x533af0(0xf2))/0x5*(-parseInt(_0x533af0(0x155))/0x6)+-parseInt(_0x533af0(0x142))/0x7+-parseInt(_0x533af0(0xd2))/0x8*(-parseInt(_0x533af0(0x14e))/0x9);if(_0x8801e===_0x286f71)break;else _0x936d6b['push'](_0x936d6b['shift']());}catch(_0x61048b){_0x936d6b['push'](_0x936d6b['shift']());}}}(_0xb892,0xedfe2));class QChat{constructor(){const _0x509896=_0x4d10;this['ws']=null,this['peerConnection']=null,this[_0x509896(0x14d)]=null,this['roomId']=null,this[_0x509896(0xd9)]=![],this['isConnected']=![],this['unreadCount']=0x0,this['isPanelOpen']=![],this['initElements'](),this[_0x509896(0xc0)]();}['initElements'](){const _0x4e9138=_0x4d10;this[_0x4e9138(0x14f)]=document['getElementById'](_0x4e9138(0x159)),this[_0x4e9138(0xbb)]=document[_0x4e9138(0x156)](_0x4e9138(0xd8)),this[_0x4e9138(0xb0)]=document[_0x4e9138(0x156)]('qchatClose'),this[_0x4e9138(0xf1)]=document[_0x4e9138(0x156)]('qchatBadge'),this['connectSection']=document['getElementById'](_0x4e9138(0x10c)),this['roomInfoSection']=document['getElementById'](_0x4e9138(0x143)),this[_0x4e9138(0x167)]=document[_0x4e9138(0x156)](_0x4e9138(0x160)),this[_0x4e9138(0x15e)]=document['getElementById']('qchatInputSection'),this['statusEl']=document[_0x4e9138(0x156)]('qchatStatus'),this[_0x4e9138(0x131)]=document[_0x4e9138(0x156)](_0x4e9138(0x146)),this[_0x4e9138(0xec)]=document['getElementById'](_0x4e9138(0xca)),this[_0x4e9138(0xea)]=document[_0x4e9138(0x156)](_0x4e9138(0x151)),this[_0x4e9138(0xdb)]=document[_0x4e9138(0x156)](_0x4e9138(0xef)),this['sendBtn']=document['getElementById']('qchatSendBtn'),this[_0x4e9138(0x105)]=document['getElementById'](_0x4e9138(0xb4)),this['messageInput']=document[_0x4e9138(0x156)]('qchatMessageInput'),this['messagesList']=document[_0x4e9138(0x156)]('qchatMessagesList');}[_0x5ca9e4(0xc0)](){const _0x40c190=_0x5ca9e4;this[_0x40c190(0xbb)]?.[_0x40c190(0x113)](_0x40c190(0x126),()=>this['togglePanel']()),this[_0x40c190(0xb0)]?.['addEventListener'](_0x40c190(0x126),()=>this[_0x40c190(0x128)]()),this['createBtn']?.['addEventListener']('click',()=>this['createRoom']()),this['joinBtn']?.['addEventListener'](_0x40c190(0x126),()=>this[_0x40c190(0xdf)]()),this[_0x40c190(0x105)]?.[_0x40c190(0x113)]('keypress',_0xcf3d05=>{const _0x5e8c28=_0x40c190;if(_0xcf3d05['key']==='Enter')this[_0x5e8c28(0xdf)]();}),this[_0x40c190(0xdb)]?.[_0x40c190(0x113)]('click',()=>this['copyRoomCode']()),this['sendBtn']?.['addEventListener'](_0x40c190(0x126),()=>this[_0x40c190(0xee)]()),this[_0x40c190(0x149)]?.[_0x40c190(0x113)](_0x40c190(0x12d),_0x1d84c3=>{const _0x42ecba=_0x40c190;_0x1d84c3[_0x42ecba(0xf7)]===_0x42ecba(0x15a)&&!_0x1d84c3['shiftKey']&&(_0x1d84c3[_0x42ecba(0x15d)](),this['sendMessage']());}),document[_0x40c190(0x113)]('click',_0x450f7c=>{const _0x40d1d0=_0x40c190;this['isPanelOpen']&&!this['panel']?.[_0x40d1d0(0xaf)](_0x450f7c['target'])&&!this['toggleBtn']?.[_0x40d1d0(0xaf)](_0x450f7c[_0x40d1d0(0x144)])&&this[_0x40d1d0(0x128)]();});}[_0x5ca9e4(0x152)](){this['isPanelOpen']?this['closePanel']():this['openPanel']();}['openPanel'](){const _0x480288=_0x5ca9e4;this['panel']?.['classList']['add']('open'),this[_0x480288(0xbb)]?.[_0x480288(0xcb)]['add']('active'),this[_0x480288(0x153)]=!![],this['clearUnread']();}[_0x5ca9e4(0x128)](){const _0x346ec3=_0x5ca9e4;this[_0x346ec3(0x14f)]?.[_0x346ec3(0xcb)]['remove'](_0x346ec3(0xb1)),this[_0x346ec3(0xbb)]?.[_0x346ec3(0xcb)][_0x346ec3(0xe8)](_0x346ec3(0x118)),this[_0x346ec3(0x153)]=![];}['generateRoomId'](){const _0x2b5245=_0x5ca9e4,_0x387d18='ABCDEFGHJKLMNPQRSTUVWXYZ23456789';let _0x4bd7ed='';for(let _0x4dfdf1=0x0;_0x4dfdf1<0x6;_0x4dfdf1++){_0x4bd7ed+=_0x387d18['charAt'](Math[_0x2b5245(0x14b)](Math['random']()*_0x387d18[_0x2b5245(0x168)]));}return _0x4bd7ed;}['getWebSocketUrl'](){const _0x3d0b83=_0x5ca9e4,_0x14f16a=window[_0x3d0b83(0xfd)]['protocol']===_0x3d0b83(0x10e)?'wss:':'ws:';return _0x14f16a+'//'+window[_0x3d0b83(0xfd)][_0x3d0b83(0xe6)]+_0x3d0b83(0xb3);}async[_0x5ca9e4(0xba)](){return new Promise((_0x3c793a,_0x4a81cf)=>{const _0x4cf480=_0x4d10,_0x402815=this[_0x4cf480(0x12f)]();console[_0x4cf480(0xb2)](_0x4cf480(0xcd),_0x402815),this['ws']=new WebSocket(_0x402815),this['ws'][_0x4cf480(0x100)]=()=>{console['log']('Q-Chat:\x20WebSocket\x20connected'),_0x3c793a();},this['ws'][_0x4cf480(0x116)]=_0x40010f=>{console['error']('Q-Chat:\x20WebSocket\x20error:',_0x40010f),_0x4a81cf(_0x40010f);},this['ws'][_0x4cf480(0x114)]=()=>{const _0x3e2735=_0x4cf480;console[_0x3e2735(0xb2)](_0x3e2735(0x115)),this['handleDisconnect']();},this['ws']['onmessage']=_0xb3d8c=>{const _0x5912f6=JSON['parse'](_0xb3d8c['data']);this['handleSignalingMessage'](_0x5912f6);};});}[_0x5ca9e4(0xed)](_0x3ad170){const _0x3e518a=_0x5ca9e4;this['ws']&&this['ws'][_0x3e518a(0x16b)]===WebSocket[_0x3e518a(0x138)]&&this['ws'][_0x3e518a(0xed)](JSON['stringify'](_0x3ad170));}async['createRoom'](){const _0x11fe17=_0x5ca9e4;this['isHost']=!![],this[_0x11fe17(0xc6)]=this[_0x11fe17(0x109)](),this['updateStatus'](_0x11fe17(0xd3),_0x11fe17(0x110));try{await this['connectToServer'](),this[_0x11fe17(0xed)]({'type':'create-room','roomId':this['roomId']});}catch(_0x4ba768){this['showSystemMessage'](_0x11fe17(0x141)),this[_0x11fe17(0x119)](_0x11fe17(0x130),'Connection\x20failed');}}async[_0x5ca9e4(0xdf)](){const _0x18bc21=_0x5ca9e4,_0x4c0441=this[_0x18bc21(0x105)]?.['value']['trim']()['toUpperCase']();if(!_0x4c0441||_0x4c0441['length']<0x4){this[_0x18bc21(0xde)](_0x18bc21(0x13a));return;}this[_0x18bc21(0xd9)]=![],this['roomId']=_0x4c0441,this[_0x18bc21(0x119)](_0x18bc21(0xd3),_0x18bc21(0xc7));try{await this[_0x18bc21(0xba)](),this[_0x18bc21(0xed)]({'type':_0x18bc21(0x102),'roomId':this[_0x18bc21(0xc6)]});}catch(_0x53f7d9){this['showSystemMessage']('Failed\x20to\x20connect\x20to\x20server'),this[_0x18bc21(0x119)]('disconnected','Connection\x20failed');}}async[_0x5ca9e4(0x11d)](_0xcf30a4){const _0x2f76fa=_0x5ca9e4;switch(_0xcf30a4[_0x2f76fa(0xbe)]){case _0x2f76fa(0xe2):this['showRoomInfo'](),this['updateStatus']('connecting','Waiting\x20for\x20peer...');break;case'room-joined':this[_0x2f76fa(0xde)](_0x2f76fa(0xdc)),this['updateStatus'](_0x2f76fa(0xd3),_0x2f76fa(0x15f));break;case _0x2f76fa(0x107):this['showSystemMessage']('Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...'),this['updateStatus']('connecting','Establishing\x20P2P...'),await this['initializeWebRTC']();this['isHost']&&await this['createAndSendOffer']();break;case'peer-left':this[_0x2f76fa(0xde)]('Peer\x20disconnected'),this[_0x2f76fa(0x119)]('disconnected',_0x2f76fa(0x11f)),this['disableChat']();break;case _0x2f76fa(0x11c):await this['handleOffer'](_0xcf30a4);break;case'answer':await this[_0x2f76fa(0x135)](_0xcf30a4);break;case _0x2f76fa(0x15b):await this['handleIceCandidate'](_0xcf30a4);break;case'error':this['showSystemMessage'](_0x2f76fa(0xc1)+_0xcf30a4['message']),this[_0x2f76fa(0x119)]('disconnected',_0x2f76fa(0x11b)),console['error'](_0x2f76fa(0xcf),_0xcf30a4[_0x2f76fa(0xf5)]);break;}}async[_0x5ca9e4(0x150)](){const _0x35b32b=_0x5ca9e4,_0x15ffa3=[{'urls':'stun:stun.l.google.com:19302'},{'urls':'stun:stun1.l.google.com:19302'}];let _0x29a1b8=_0x15ffa3;try{const _0x930f13=await fetch(_0x35b32b(0x13b)),_0x119e9a=await _0x930f13['json']();Array['isArray'](_0x119e9a)&&_0x119e9a[_0x35b32b(0x168)]>0x0?(_0x29a1b8=_0x119e9a,console['log']('Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal')):console[_0x35b32b(0xb2)]('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x3e1573){console[_0x35b32b(0xb2)](_0x35b32b(0x10f));}const _0x47eb19={'iceServers':_0x29a1b8};this[_0x35b32b(0xce)]=new RTCPeerConnection(_0x47eb19),this['peerConnection']['onicecandidate']=_0x2a127c=>{const _0x3e9a75=_0x35b32b;_0x2a127c[_0x3e9a75(0x12a)]&&this[_0x3e9a75(0xed)]({'type':'ice-candidate','roomId':this[_0x3e9a75(0xc6)],'candidate':_0x2a127c['candidate']});},this[_0x35b32b(0xce)]['onconnectionstatechange']=()=>{const _0x2ee2aa=_0x35b32b,_0x7aa15c=this[_0x2ee2aa(0xce)][_0x2ee2aa(0x154)];console[_0x2ee2aa(0xb2)]('Q-Chat:\x20Connection\x20state:',_0x7aa15c);if(_0x7aa15c===_0x2ee2aa(0x163))this[_0x2ee2aa(0x119)]('connected',_0x2ee2aa(0x123)),this[_0x2ee2aa(0xde)](_0x2ee2aa(0x120));else(_0x7aa15c===_0x2ee2aa(0x130)||_0x7aa15c==='failed')&&(this['updateStatus']('disconnected',_0x2ee2aa(0xe3)),this['disableChat']());},this['isHost']?(this['dataChannel']=this[_0x35b32b(0xce)]['createDataChannel']('qchat',{'ordered':!![]}),this[_0x35b32b(0xe9)]()):this['peerConnection']['ondatachannel']=_0x1beb2d=>{const _0x9bddfe=_0x35b32b;this[_0x9bddfe(0x14d)]=_0x1beb2d['channel'],this[_0x9bddfe(0xe9)]();};}[_0x5ca9e4(0xe9)](){const _0x4c6295=_0x5ca9e4;this[_0x4c6295(0x14d)]['onopen']=()=>{const _0x312934=_0x4c6295;console[_0x312934(0xb2)](_0x312934(0xd4)),this['isConnected']=!![],this[_0x312934(0x124)](),this['showChatUI']();},this['dataChannel'][_0x4c6295(0x114)]=()=>{const _0x127ffb=_0x4c6295;console['log']('Q-Chat:\x20Data\x20channel\x20closed'),this[_0x127ffb(0xfa)]=![],this[_0x127ffb(0x122)]();},this['dataChannel'][_0x4c6295(0xe5)]=_0x363542=>{const _0x30fa08=_0x4c6295,_0x7b361b=JSON['parse'](_0x363542[_0x30fa08(0x101)]);this[_0x30fa08(0x106)](_0x7b361b);};}async[_0x5ca9e4(0x10a)](){const _0x4b557e=_0x5ca9e4;try{const _0x1c4eb6=await this['peerConnection'][_0x4b557e(0x127)]();await this['peerConnection'][_0x4b557e(0x129)](_0x1c4eb6),this[_0x4b557e(0xed)]({'type':_0x4b557e(0x11c),'roomId':this['roomId'],'sdp':_0x1c4eb6[_0x4b557e(0x12c)]});}catch(_0x213cab){console[_0x4b557e(0xf8)](_0x4b557e(0x158),_0x213cab);}}async[_0x5ca9e4(0xd0)](_0x256d52){const _0x123bc9=_0x5ca9e4;try{await this[_0x123bc9(0x150)](),await this[_0x123bc9(0xce)][_0x123bc9(0x132)](new RTCSessionDescription({'type':'offer','sdp':_0x256d52[_0x123bc9(0x12c)]}));const _0x1a628e=await this[_0x123bc9(0xce)][_0x123bc9(0x111)]();await this[_0x123bc9(0xce)]['setLocalDescription'](_0x1a628e),this[_0x123bc9(0xed)]({'type':_0x123bc9(0xff),'roomId':this[_0x123bc9(0xc6)],'sdp':_0x1a628e['sdp']});}catch(_0x3b1c85){console['error'](_0x123bc9(0x140),_0x3b1c85);}}async[_0x5ca9e4(0x135)](_0xc86f5d){const _0x154992=_0x5ca9e4;try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':_0x154992(0xff),'sdp':_0xc86f5d['sdp']}));}catch(_0x2f7b3a){console['error'](_0x154992(0xbd),_0x2f7b3a);}}async[_0x5ca9e4(0x14a)](_0x1c996e){const _0x3c56ac=_0x5ca9e4;try{_0x1c996e['candidate']&&await this[_0x3c56ac(0xce)]['addIceCandidate'](new RTCIceCandidate(_0x1c996e[_0x3c56ac(0x12a)]));}catch(_0x5008f2){console['error']('Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:',_0x5008f2);}}['showRoomInfo'](){const _0x5ef21b=_0x5ca9e4;if(this[_0x5ef21b(0x121)])this[_0x5ef21b(0x121)][_0x5ef21b(0x15c)]['display']=_0x5ef21b(0x11a);if(this[_0x5ef21b(0x162)])this['roomInfoSection'][_0x5ef21b(0x15c)]['display']=_0x5ef21b(0x14c);this['startMatrixSphereAnimation']();}[_0x5ca9e4(0x112)](){const _0x316f71=_0x5ca9e4,_0x169b75=document['getElementById'](_0x316f71(0xd1)),_0x235c89=document[_0x316f71(0x156)](_0x316f71(0x117)),_0x3d4d9f=document['getElementById']('matrixSphereStatus'),_0x3ed6f9=document['getElementById'](_0x316f71(0x13e)),_0x571fd2=document[_0x316f71(0x156)](_0x316f71(0x16a));if(!_0x235c89||!_0x169b75){if(this[_0x316f71(0x131)])this['roomCodeEl']['textContent']=this['roomId'];return;}this['createMatrixSphere'](_0x235c89);const _0x504fa3=['Generating\x20Quantum\x20Tunnel...',_0x316f71(0xda),_0x316f71(0x147),_0x316f71(0xc2)];let _0x10e3f1=0x0;const _0x472dba=setInterval(()=>{_0x10e3f1++,_0x10e3f1<_0x504fa3['length']&&_0x3d4d9f&&(_0x3d4d9f['textContent']=_0x504fa3[_0x10e3f1]);},0x258);setTimeout(()=>{const _0x172854=_0x316f71;clearInterval(_0x472dba),_0x235c89['classList']['add']('fade-out');if(_0x3d4d9f)_0x3d4d9f['style'][_0x172854(0x139)]='none';setTimeout(()=>{const _0xaadf2=_0x172854;_0x169b75['style'][_0xaadf2(0x139)]=_0xaadf2(0x11a);if(this['roomCodeEl'])this['roomCodeEl']['textContent']=this['roomId'];_0x3ed6f9&&(_0x3ed6f9[_0xaadf2(0xcb)]['remove'](_0xaadf2(0xfe)),_0x3ed6f9['classList']['add']('reveal')),_0x571fd2&&_0x571fd2[_0xaadf2(0xcb)][_0xaadf2(0xe8)]('hidden');},0x320);},0x9c4);}['createMatrixSphere'](_0x12396f){const _0x55fe51=_0x5ca9e4;_0x12396f['innerHTML']='';const _0x446d8f=0x78,_0x1c652c=0x3c;for(let _0x29efb4=0x0;_0x29efb4<_0x446d8f;_0x29efb4++){const _0x533931=document['createElement']('span');_0x533931['className']='matrix-digit',_0x533931[_0x55fe51(0xf0)]=Math['floor'](Math['random']()*0xa);const _0x46525a=Math[_0x55fe51(0xd6)](0x1-0x2*(_0x29efb4+0.5)/_0x446d8f),_0x2a055e=Math['PI']*(0x1+Math[_0x55fe51(0x164)](0x5))*_0x29efb4,_0x53bed2=_0x1c652c*Math[_0x55fe51(0x10b)](_0x46525a)*Math[_0x55fe51(0x145)](_0x2a055e),_0x367458=_0x1c652c*Math[_0x55fe51(0x10b)](_0x46525a)*Math[_0x55fe51(0x10b)](_0x2a055e),_0x4a57e3=_0x1c652c*Math['cos'](_0x46525a);_0x533931['style']['transform']=_0x55fe51(0x161)+_0x53bed2+'px,\x20'+_0x367458+_0x55fe51(0xbf)+_0x4a57e3+_0x55fe51(0xeb),_0x533931[_0x55fe51(0x15c)]['left']=_0x55fe51(0x137),_0x533931[_0x55fe51(0x15c)]['top']='50%',_0x533931['style']['marginLeft']=_0x55fe51(0xc9),_0x533931['style'][_0x55fe51(0x12e)]=_0x55fe51(0x165),_0x533931[_0x55fe51(0x15c)][_0x55fe51(0xd7)]=Math[_0x55fe51(0x169)]()*0.5+'s';const _0x379ff8=0.4+(_0x4a57e3+_0x1c652c)/(0x2*_0x1c652c)*0.6;_0x533931[_0x55fe51(0x15c)][_0x55fe51(0x10d)]=_0x379ff8,_0x12396f['appendChild'](_0x533931);}this[_0x55fe51(0x13d)]=setInterval(()=>{const _0x45f503=_0x55fe51,_0x550ca7=_0x12396f[_0x45f503(0xc3)](_0x45f503(0x125)),_0x159938=_0x550ca7[Math[_0x45f503(0x14b)](Math[_0x45f503(0x169)]()*_0x550ca7['length'])];_0x159938&&(_0x159938[_0x45f503(0xf0)]=Math[_0x45f503(0x14b)](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x7a866d=_0x55fe51;this[_0x7a866d(0x13d)]&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0x430fa0=_0x5ca9e4;if(this[_0x430fa0(0x121)])this['connectSection']['style']['display']=_0x430fa0(0x11a);if(this['roomInfoSection'])this['roomInfoSection'][_0x430fa0(0x15c)][_0x430fa0(0x139)]=_0x430fa0(0x11a);if(this[_0x430fa0(0x167)])this[_0x430fa0(0x167)][_0x430fa0(0x15c)][_0x430fa0(0x139)]='flex';if(this[_0x430fa0(0x15e)])this['inputSection'][_0x430fa0(0x15c)][_0x430fa0(0x139)]='block';}[_0x5ca9e4(0x124)](){const _0x46e21f=_0x5ca9e4;this['messageInput']&&(this['messageInput']['disabled']=![],this[_0x46e21f(0x149)]['focus']());if(this[_0x46e21f(0xf9)])this[_0x46e21f(0xf9)][_0x46e21f(0xf3)]=![];}[_0x5ca9e4(0x122)](){const _0x87c7dd=_0x5ca9e4;if(this['messageInput'])this['messageInput']['disabled']=!![];if(this['sendBtn'])this[_0x87c7dd(0xf9)][_0x87c7dd(0xf3)]=!![];}[_0x5ca9e4(0xee)](){const _0x56d390=_0x5ca9e4,_0x1abc32=this[_0x56d390(0x149)]?.['value']['trim']();if(!_0x1abc32||!this[_0x56d390(0xfa)])return;const _0x412e8b={'type':_0x56d390(0xf5),'text':_0x1abc32,'timestamp':Date['now']()};try{this[_0x56d390(0x14d)]['send'](JSON[_0x56d390(0x13c)](_0x412e8b)),this[_0x56d390(0xb7)](_0x1abc32,_0x56d390(0x133),_0x412e8b[_0x56d390(0xfb)]),this[_0x56d390(0x149)]['value']='';}catch(_0x22644c){console['error'](_0x56d390(0xdd),_0x22644c),this['showSystemMessage']('Failed\x20to\x20send\x20message');}}[_0x5ca9e4(0x106)](_0x220c0e){const _0x51dfb7=_0x5ca9e4;_0x220c0e[_0x51dfb7(0xbe)]==='message'&&(this['addMessage'](_0x220c0e['text'],_0x51dfb7(0x13f),_0x220c0e[_0x51dfb7(0xfb)]),!this['isPanelOpen']&&(this[_0x51dfb7(0xd5)]++,this['updateBadge']()));}[_0x5ca9e4(0xb7)](_0x2bc0b7,_0x3b4748,_0x1d38a1){const _0x2cfe43=_0x5ca9e4,_0x56ffaa=document['createElement'](_0x2cfe43(0x166));_0x56ffaa['className']='qchat-message\x20'+_0x3b4748;const _0x2891c0=new Date(_0x1d38a1)['toLocaleTimeString']([],{'hour':'2-digit','minute':_0x2cfe43(0xb6)});_0x56ffaa['innerHTML']='\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>'+this['escapeHtml'](_0x2bc0b7)+_0x2cfe43(0xf6)+(_0x3b4748==='sent'?'âœ“\x20':'')+_0x2891c0+_0x2cfe43(0xe0),this[_0x2cfe43(0xc8)]?.[_0x2cfe43(0xfc)](_0x56ffaa),this['scrollToBottom']();}[_0x5ca9e4(0xde)](_0x16bd48){const _0x43ef71=_0x5ca9e4,_0x1e1a08=document['createElement']('div');_0x1e1a08[_0x43ef71(0x148)]='qchat-system-message',_0x1e1a08['textContent']=_0x16bd48,this[_0x43ef71(0xc8)]?.[_0x43ef71(0xfc)](_0x1e1a08),this[_0x43ef71(0xe4)]();}['scrollToBottom'](){const _0x1fefee=_0x5ca9e4;this['messagesSection']&&(this['messagesSection']['scrollTop']=this['messagesSection'][_0x1fefee(0x103)]);}[_0x5ca9e4(0x119)](_0x30353e,_0x18e38c){const _0x135ed2=_0x5ca9e4;if(this['statusEl']){this['statusEl']['className']=_0x135ed2(0x136)+_0x30353e;const _0x883f12=this[_0x135ed2(0x157)][_0x135ed2(0x11e)]('.status-text');if(_0x883f12)_0x883f12['textContent']=_0x18e38c;}}[_0x5ca9e4(0xb8)](){const _0x4e69c4=_0x5ca9e4;this[_0x4e69c4(0xf1)]&&(this[_0x4e69c4(0xd5)]>0x0?(this['badge'][_0x4e69c4(0xf0)]=this['unreadCount']>0x63?'99+':this[_0x4e69c4(0xd5)],this['badge']['style'][_0x4e69c4(0x139)]=_0x4e69c4(0xc4)):this[_0x4e69c4(0xf1)][_0x4e69c4(0x15c)]['display']='none');}['clearUnread'](){const _0x572cfb=_0x5ca9e4;this['unreadCount']=0x0,this[_0x572cfb(0xb8)]();}[_0x5ca9e4(0x134)](){const _0x13c61b=_0x5ca9e4;this['roomId']&&navigator[_0x13c61b(0xb9)][_0x13c61b(0x104)](this[_0x13c61b(0xc6)])['then'](()=>{this['showSystemMessage']('Room\x20code\x20copied!');})['catch'](()=>{const _0x3d58f1=_0x13c61b,_0x4a9a97=document['createElement']('textarea');_0x4a9a97['value']=this['roomId'],document[_0x3d58f1(0x12b)]['appendChild'](_0x4a9a97),_0x4a9a97[_0x3d58f1(0xcc)](),document[_0x3d58f1(0xe7)]('copy'),document[_0x3d58f1(0x12b)]['removeChild'](_0x4a9a97),this['showSystemMessage']('Room\x20code\x20copied!');});}['handleDisconnect'](){const _0x146fa4=_0x5ca9e4;this[_0x146fa4(0xfa)]=![],this[_0x146fa4(0x119)]('disconnected','Disconnected'),this['disableChat']();}['escapeHtml'](_0x1f17bc){const _0x2afaf5=document['createElement']('div');return _0x2afaf5['textContent']=_0x1f17bc,_0x2afaf5['innerHTML'];}}function _0x4d10(_0x2a07ac,_0x3dfcfb){_0x2a07ac=_0x2a07ac-0xaf;const _0xb89259=_0xb892();let _0x4d10c3=_0xb89259[_0x2a07ac];return _0x4d10c3;}document[_0x5ca9e4(0x113)](_0x5ca9e4(0xf4),()=>{const _0x201ec8=_0x5ca9e4;window[_0x201ec8(0x108)]=new QChat();});