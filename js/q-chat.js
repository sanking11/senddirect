const _0x472813=_0x30fe;(function(_0x50550b,_0x21a7a8){const _0xd1e2d1=_0x30fe,_0x590de4=_0x50550b();while(!![]){try{const _0x6c8d36=parseInt(_0xd1e2d1(0x1fb))/0x1+-parseInt(_0xd1e2d1(0x1d9))/0x2+parseInt(_0xd1e2d1(0x24b))/0x3*(parseInt(_0xd1e2d1(0x22d))/0x4)+parseInt(_0xd1e2d1(0x26b))/0x5*(-parseInt(_0xd1e2d1(0x25c))/0x6)+-parseInt(_0xd1e2d1(0x237))/0x7+parseInt(_0xd1e2d1(0x1e5))/0x8+parseInt(_0xd1e2d1(0x205))/0x9;if(_0x6c8d36===_0x21a7a8)break;else _0x590de4['push'](_0x590de4['shift']());}catch(_0x10f44b){_0x590de4['push'](_0x590de4['shift']());}}}(_0x169d,0xdde24));function _0x30fe(_0x1fe727,_0x32b946){_0x1fe727=_0x1fe727-0x1d9;const _0x169d90=_0x169d();let _0x30fe3e=_0x169d90[_0x1fe727];return _0x30fe3e;}function _0x169d(){const _0x5bbb69=['\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-text\x22>','isPanelOpen','cos','clearUnread','qchatToggle','value','Secure\x20P2P','matrix-digit','px)','updateStatus','119044BPVvoH','classList','getElementById','active','Connection\x20failed','hidden','roomInfoSection','Q-Chat:\x20Connecting\x20to:','messagesList','Disconnected','10900505rloMWb','messagesSection','createAndSendOffer','select','stringify','flex','qchat-status\x20','generateRoomId','qchatCreate','qchat-message\x20','createRoom','qChat','qchatInputSection','qchatJoin','addEventListener','openPanel','inputSection','json','handleIceCandidate','Room\x20code\x20copied!','141eLonzH','trim','escapeHtml','Waiting\x20for\x20host...','togglePanel','Q-Chat:\x20Using\x20TURN\x20servers\x20for\x20NAT\x20traversal','left','isConnected','sent','.status-text','location','roomInput','digitChangeInterval','unreadCount','display','shiftKey','99+','408aGWEqe','reveal','Failed\x20to\x20connect\x20to\x20server','peer-joined','disabled','innerHTML','addMessage','Q-Chat:\x20Error\x20handling\x20offer:','error','ws:','createElement','connectToServer','stun:stun1.l.google.com:19302','add','then','46705SkOjSP','createBtn','roomCodeEl','showRoomInfo','join-room','remove','scrollToBottom','showChatUI','qchatPanel','-10px','initializeWebRTC','Q-Chat:\x20Data\x20channel\x20closed','2-digit','disconnected','offer','roomId','toggleBtn','/api/turn-credentials','setLocalDescription','answer','joinRoom','keypress','setRemoteDescription','handleSignalingMessage','statusEl','key','click','bindEvents','Peer\x20disconnected','copyRoomCode','DOMContentLoaded','Q-Chat:\x20WebSocket\x20connected','log','block','onclose','now','ABCDEFGHJKLMNPQRSTUVWXYZ23456789','1620964sHocxU','transform','disableChat','candidate','setupDataChannel','handleOffer','Q-Chat:\x20Error\x20handling\x20ICE\x20candidate:','onicecandidate','message','fade-out','clipboard','preventDefault','10869008kYAxuK','qchatClose','writeText','top','contains','Q-Chat:\x20TURN\x20fetch\x20failed,\x20using\x20STUN\x20fallback','qchatRoomInput','send','className','connectSection','Q-Chat:\x20Error\x20creating\x20offer:','none','Q-Chat:\x20Connection\x20state:','peer-left','Peer\x20connected!\x20Setting\x20up\x20secure\x20channel...','dataChannel','Q-Chat:\x20Error\x20sending\x20message:','execCommand','type','qchatWaiting','peerConnection','copyCodeBtn','544183xkcojd','sdp','messageInput','qchatMessageInput','50%','closePanel','body','Joined\x20room!\x20Waiting\x20for\x20host...','marginTop','onopen','5491305TbFwCh','catch','div','closeBtn','sendMessage','random','wss:','Establishing\x20Secure\x20Link...','panel','connecting','badge','style','startMatrixSphereAnimation','isHost','textContent','sin','receiveMessage','Q-Chat:\x20Error\x20handling\x20answer:','sendBtn','createAnswer','qchatMessagesList','enableChat','textarea','qchatConnect','px,\x20','showSystemMessage','floor','target','length','Error'];_0x169d=function(){return _0x5bbb69;};return _0x169d();}class QChat{constructor(){const _0x1105c0=_0x30fe;this['ws']=null,this['peerConnection']=null,this['dataChannel']=null,this[_0x1105c0(0x27a)]=null,this['isHost']=![],this['isConnected']=![],this['unreadCount']=0x0,this[_0x1105c0(0x224)]=![],this['initElements'](),this[_0x1105c0(0x286)]();}['initElements'](){const _0x49c076=_0x30fe;this['panel']=document[_0x49c076(0x22f)](_0x49c076(0x273)),this[_0x49c076(0x27b)]=document['getElementById'](_0x49c076(0x227)),this['closeBtn']=document[_0x49c076(0x22f)](_0x49c076(0x1e6)),this[_0x49c076(0x20f)]=document[_0x49c076(0x22f)]('qchatBadge'),this[_0x49c076(0x1ee)]=document[_0x49c076(0x22f)](_0x49c076(0x21c)),this['roomInfoSection']=document[_0x49c076(0x22f)]('qchatRoomInfo'),this['messagesSection']=document['getElementById']('qchatMessages'),this['inputSection']=document[_0x49c076(0x22f)](_0x49c076(0x243)),this['statusEl']=document[_0x49c076(0x22f)]('qchatStatus'),this['roomCodeEl']=document[_0x49c076(0x22f)]('qchatRoomCode'),this[_0x49c076(0x26c)]=document[_0x49c076(0x22f)](_0x49c076(0x23f)),this['joinBtn']=document['getElementById'](_0x49c076(0x244)),this[_0x49c076(0x1fa)]=document['getElementById']('qchatCopyCode'),this['sendBtn']=document[_0x49c076(0x22f)]('qchatSendBtn'),this[_0x49c076(0x256)]=document['getElementById'](_0x49c076(0x1eb)),this['messageInput']=document['getElementById'](_0x49c076(0x1fe)),this['messagesList']=document['getElementById'](_0x49c076(0x219));}['bindEvents'](){const _0x3d9dee=_0x30fe;this['toggleBtn']?.[_0x3d9dee(0x245)](_0x3d9dee(0x285),()=>this[_0x3d9dee(0x24f)]()),this[_0x3d9dee(0x208)]?.[_0x3d9dee(0x245)]('click',()=>this['closePanel']()),this['createBtn']?.['addEventListener']('click',()=>this[_0x3d9dee(0x241)]()),this['joinBtn']?.['addEventListener'](_0x3d9dee(0x285),()=>this['joinRoom']()),this['roomInput']?.['addEventListener'](_0x3d9dee(0x280),_0x10fd14=>{if(_0x10fd14['key']==='Enter')this['joinRoom']();}),this['copyCodeBtn']?.[_0x3d9dee(0x245)](_0x3d9dee(0x285),()=>this['copyRoomCode']()),this[_0x3d9dee(0x217)]?.[_0x3d9dee(0x245)](_0x3d9dee(0x285),()=>this[_0x3d9dee(0x209)]()),this['messageInput']?.[_0x3d9dee(0x245)]('keypress',_0x445ae3=>{const _0x4c4528=_0x3d9dee;_0x445ae3[_0x4c4528(0x284)]==='Enter'&&!_0x445ae3[_0x4c4528(0x25a)]&&(_0x445ae3[_0x4c4528(0x1e4)](),this[_0x4c4528(0x209)]());}),document['addEventListener']('click',_0x12237d=>{const _0x5c7d5e=_0x3d9dee;this['isPanelOpen']&&!this['panel']?.['contains'](_0x12237d[_0x5c7d5e(0x220)])&&!this[_0x5c7d5e(0x27b)]?.[_0x5c7d5e(0x1e9)](_0x12237d[_0x5c7d5e(0x220)])&&this[_0x5c7d5e(0x200)]();});}[_0x472813(0x24f)](){const _0x4ade5c=_0x472813;this[_0x4ade5c(0x224)]?this['closePanel']():this[_0x4ade5c(0x246)]();}[_0x472813(0x246)](){const _0x2437fb=_0x472813;this[_0x2437fb(0x20d)]?.[_0x2437fb(0x22e)][_0x2437fb(0x269)]('open'),this[_0x2437fb(0x27b)]?.['classList']['add']('active'),this[_0x2437fb(0x224)]=!![],this['clearUnread']();}[_0x472813(0x200)](){const _0x586287=_0x472813;this[_0x586287(0x20d)]?.[_0x586287(0x22e)][_0x586287(0x270)]('open'),this['toggleBtn']?.[_0x586287(0x22e)][_0x586287(0x270)](_0x586287(0x230)),this[_0x586287(0x224)]=![];}[_0x472813(0x23e)](){const _0x1c369a=_0x472813,_0x4c9a9e=_0x1c369a(0x28f);let _0x554c9b='';for(let _0x5aca38=0x0;_0x5aca38<0x6;_0x5aca38++){_0x554c9b+=_0x4c9a9e['charAt'](Math[_0x1c369a(0x21f)](Math[_0x1c369a(0x20a)]()*_0x4c9a9e[_0x1c369a(0x221)]));}return _0x554c9b;}['getWebSocketUrl'](){const _0x24383f=_0x472813,_0x4c2071=window['location']['protocol']==='https:'?_0x24383f(0x20b):_0x24383f(0x265);return _0x4c2071+'//'+window[_0x24383f(0x255)]['host']+'/ws';}async[_0x472813(0x267)](){return new Promise((_0x4795b4,_0x269e50)=>{const _0x4f7f00=_0x30fe,_0x37c667=this['getWebSocketUrl']();console[_0x4f7f00(0x28b)](_0x4f7f00(0x234),_0x37c667),this['ws']=new WebSocket(_0x37c667),this['ws'][_0x4f7f00(0x204)]=()=>{const _0x53facc=_0x4f7f00;console[_0x53facc(0x28b)](_0x53facc(0x28a)),_0x4795b4();},this['ws']['onerror']=_0x19e92c=>{const _0x30014c=_0x4f7f00;console[_0x30014c(0x264)]('Q-Chat:\x20WebSocket\x20error:',_0x19e92c),_0x269e50(_0x19e92c);},this['ws'][_0x4f7f00(0x28d)]=()=>{const _0x322b7c=_0x4f7f00;console[_0x322b7c(0x28b)]('Q-Chat:\x20WebSocket\x20closed'),this['handleDisconnect']();},this['ws']['onmessage']=_0x2dfc62=>{const _0x33ba1b=_0x4f7f00,_0x14a9f1=JSON['parse'](_0x2dfc62['data']);this[_0x33ba1b(0x282)](_0x14a9f1);};});}[_0x472813(0x1ec)](_0x3e8d98){const _0x44f65a=_0x472813;this['ws']&&this['ws']['readyState']===WebSocket['OPEN']&&this['ws']['send'](JSON[_0x44f65a(0x23b)](_0x3e8d98));}async[_0x472813(0x241)](){const _0x1824c5=_0x472813;this['isHost']=!![],this['roomId']=this[_0x1824c5(0x23e)](),this[_0x1824c5(0x22c)](_0x1824c5(0x20e),'Connecting...');try{await this['connectToServer'](),this[_0x1824c5(0x1ec)]({'type':'create-room','roomId':this['roomId']});}catch(_0x2c37ac){this['showSystemMessage'](_0x1824c5(0x25e)),this[_0x1824c5(0x22c)](_0x1824c5(0x278),'Connection\x20failed');}}async[_0x472813(0x27f)](){const _0x27a47d=_0x472813,_0x39580d=this['roomInput']?.['value']['trim']()['toUpperCase']();if(!_0x39580d||_0x39580d['length']<0x4){this[_0x27a47d(0x21e)]('Please\x20enter\x20a\x20valid\x20room\x20code');return;}this[_0x27a47d(0x212)]=![],this['roomId']=_0x39580d,this['updateStatus']('connecting','Joining...');try{await this[_0x27a47d(0x267)](),this['send']({'type':_0x27a47d(0x26f),'roomId':this[_0x27a47d(0x27a)]});}catch(_0x35d8d3){this['showSystemMessage'](_0x27a47d(0x25e)),this['updateStatus']('disconnected',_0x27a47d(0x231));}}async[_0x472813(0x282)](_0x5308e6){const _0x2ca3f6=_0x472813;switch(_0x5308e6['type']){case'room-created':this[_0x2ca3f6(0x26e)](),this[_0x2ca3f6(0x22c)](_0x2ca3f6(0x20e),'Waiting\x20for\x20peer...');break;case'room-joined':this[_0x2ca3f6(0x21e)](_0x2ca3f6(0x202)),this['updateStatus']('connecting',_0x2ca3f6(0x24e));break;case _0x2ca3f6(0x25f):this[_0x2ca3f6(0x21e)](_0x2ca3f6(0x1f3)),this[_0x2ca3f6(0x22c)]('connecting','Establishing\x20P2P...'),await this[_0x2ca3f6(0x275)]();this['isHost']&&await this['createAndSendOffer']();break;case _0x2ca3f6(0x1f2):this[_0x2ca3f6(0x21e)](_0x2ca3f6(0x287)),this[_0x2ca3f6(0x22c)]('disconnected','Peer\x20left'),this[_0x2ca3f6(0x1db)]();break;case'offer':await this['handleOffer'](_0x5308e6);break;case _0x2ca3f6(0x27e):await this['handleAnswer'](_0x5308e6);break;case'ice-candidate':await this[_0x2ca3f6(0x249)](_0x5308e6);break;case'error':this['showSystemMessage']('Error:\x20'+_0x5308e6['message']),this[_0x2ca3f6(0x22c)]('disconnected',_0x2ca3f6(0x222)),console[_0x2ca3f6(0x264)]('Q-Chat\x20Server\x20Error:',_0x5308e6[_0x2ca3f6(0x1e1)]);break;}}async['initializeWebRTC'](){const _0x3c24a6=_0x472813,_0x656f12=[{'urls':'stun:stun.l.google.com:19302'},{'urls':_0x3c24a6(0x268)}];let _0x52f508=_0x656f12;try{const _0x1d9435=await fetch(_0x3c24a6(0x27c)),_0x1071ae=await _0x1d9435[_0x3c24a6(0x248)]();Array['isArray'](_0x1071ae)&&_0x1071ae[_0x3c24a6(0x221)]>0x0?(_0x52f508=_0x1071ae,console['log'](_0x3c24a6(0x250))):console['log']('Q-Chat:\x20Invalid\x20TURN\x20response,\x20using\x20STUN\x20fallback');}catch(_0x1fd461){console['log'](_0x3c24a6(0x1ea));}const _0x2d5939={'iceServers':_0x52f508};this['peerConnection']=new RTCPeerConnection(_0x2d5939),this[_0x3c24a6(0x1f9)][_0x3c24a6(0x1e0)]=_0x4f52ab=>{const _0x1b5a1a=_0x3c24a6;_0x4f52ab['candidate']&&this[_0x1b5a1a(0x1ec)]({'type':'ice-candidate','roomId':this['roomId'],'candidate':_0x4f52ab[_0x1b5a1a(0x1dc)]});},this[_0x3c24a6(0x1f9)]['onconnectionstatechange']=()=>{const _0x5b91dd=_0x3c24a6,_0x4eff7c=this['peerConnection']['connectionState'];console[_0x5b91dd(0x28b)](_0x5b91dd(0x1f1),_0x4eff7c);if(_0x4eff7c==='connected')this[_0x5b91dd(0x22c)]('connected',_0x5b91dd(0x229)),this['showSystemMessage']('ðŸ”’\x20Secure\x20connection\x20established\x20(DTLS\x201.3)');else(_0x4eff7c==='disconnected'||_0x4eff7c==='failed')&&(this['updateStatus'](_0x5b91dd(0x278),'Disconnected'),this[_0x5b91dd(0x1db)]());},this[_0x3c24a6(0x212)]?(this[_0x3c24a6(0x1f4)]=this[_0x3c24a6(0x1f9)]['createDataChannel']('qchat',{'ordered':!![]}),this['setupDataChannel']()):this['peerConnection']['ondatachannel']=_0x5832ee=>{const _0xfa87d6=_0x3c24a6;this['dataChannel']=_0x5832ee['channel'],this[_0xfa87d6(0x1dd)]();};}[_0x472813(0x1dd)](){const _0x1d2588=_0x472813;this['dataChannel']['onopen']=()=>{const _0x5615af=_0x30fe;console['log']('Q-Chat:\x20Data\x20channel\x20open'),this['isConnected']=!![],this[_0x5615af(0x21a)](),this[_0x5615af(0x272)]();},this[_0x1d2588(0x1f4)][_0x1d2588(0x28d)]=()=>{const _0x279e31=_0x1d2588;console['log'](_0x279e31(0x276)),this['isConnected']=![],this['disableChat']();},this[_0x1d2588(0x1f4)]['onmessage']=_0x1f4b55=>{const _0x1ff4da=_0x1d2588,_0x206702=JSON['parse'](_0x1f4b55['data']);this[_0x1ff4da(0x215)](_0x206702);};}async[_0x472813(0x239)](){const _0x1fbe03=_0x472813;try{const _0x4a7525=await this[_0x1fbe03(0x1f9)]['createOffer']();await this['peerConnection']['setLocalDescription'](_0x4a7525),this['send']({'type':_0x1fbe03(0x279),'roomId':this['roomId'],'sdp':_0x4a7525[_0x1fbe03(0x1fc)]});}catch(_0x46dc6b){console[_0x1fbe03(0x264)](_0x1fbe03(0x1ef),_0x46dc6b);}}async[_0x472813(0x1de)](_0x593102){const _0x40a8f7=_0x472813;try{await this[_0x40a8f7(0x275)](),await this[_0x40a8f7(0x1f9)][_0x40a8f7(0x281)](new RTCSessionDescription({'type':_0x40a8f7(0x279),'sdp':_0x593102['sdp']}));const _0x42fd4f=await this['peerConnection'][_0x40a8f7(0x218)]();await this[_0x40a8f7(0x1f9)][_0x40a8f7(0x27d)](_0x42fd4f),this[_0x40a8f7(0x1ec)]({'type':'answer','roomId':this[_0x40a8f7(0x27a)],'sdp':_0x42fd4f['sdp']});}catch(_0x164fb2){console[_0x40a8f7(0x264)](_0x40a8f7(0x263),_0x164fb2);}}async['handleAnswer'](_0x2561fc){const _0x5a5cf1=_0x472813;try{await this['peerConnection']['setRemoteDescription'](new RTCSessionDescription({'type':'answer','sdp':_0x2561fc[_0x5a5cf1(0x1fc)]}));}catch(_0xf5a689){console['error'](_0x5a5cf1(0x216),_0xf5a689);}}async[_0x472813(0x249)](_0x4e7dd1){const _0xc83c0f=_0x472813;try{_0x4e7dd1[_0xc83c0f(0x1dc)]&&await this[_0xc83c0f(0x1f9)]['addIceCandidate'](new RTCIceCandidate(_0x4e7dd1['candidate']));}catch(_0x4134b1){console['error'](_0xc83c0f(0x1df),_0x4134b1);}}[_0x472813(0x26e)](){const _0x5b95bd=_0x472813;if(this[_0x5b95bd(0x1ee)])this[_0x5b95bd(0x1ee)]['style'][_0x5b95bd(0x259)]=_0x5b95bd(0x1f0);if(this[_0x5b95bd(0x233)])this['roomInfoSection']['style'][_0x5b95bd(0x259)]='block';this[_0x5b95bd(0x211)]();}['startMatrixSphereAnimation'](){const _0x25ba56=_0x472813,_0x27b0e4=document[_0x25ba56(0x22f)]('matrixSphereContainer'),_0xa31a0=document['getElementById']('matrixSphere'),_0xf223d4=document[_0x25ba56(0x22f)]('matrixSphereStatus'),_0x127dd2=document['getElementById']('qchatRoomCodeSection'),_0x50a28f=document['getElementById'](_0x25ba56(0x1f8));if(!_0xa31a0||!_0x27b0e4){if(this['roomCodeEl'])this['roomCodeEl']['textContent']=this[_0x25ba56(0x27a)];return;}this['createMatrixSphere'](_0xa31a0);const _0x5d9809=['Generating\x20Quantum\x20Tunnel...','Encrypting\x20Neural\x20Pathway...',_0x25ba56(0x20c),'Finalizing\x20Quantum\x20Code...'];let _0x41f87f=0x0;const _0x406af8=setInterval(()=>{_0x41f87f++,_0x41f87f<_0x5d9809['length']&&_0xf223d4&&(_0xf223d4['textContent']=_0x5d9809[_0x41f87f]);},0x258);setTimeout(()=>{const _0xcae1dc=_0x25ba56;clearInterval(_0x406af8),_0xa31a0['classList']['add'](_0xcae1dc(0x1e2));if(_0xf223d4)_0xf223d4[_0xcae1dc(0x210)]['display']='none';setTimeout(()=>{const _0x391dfc=_0xcae1dc;_0x27b0e4['style'][_0x391dfc(0x259)]='none';if(this['roomCodeEl'])this[_0x391dfc(0x26d)][_0x391dfc(0x213)]=this[_0x391dfc(0x27a)];_0x127dd2&&(_0x127dd2[_0x391dfc(0x22e)][_0x391dfc(0x270)]('hidden'),_0x127dd2[_0x391dfc(0x22e)][_0x391dfc(0x269)](_0x391dfc(0x25d))),_0x50a28f&&_0x50a28f[_0x391dfc(0x22e)]['remove'](_0x391dfc(0x232));},0x320);},0x9c4);}['createMatrixSphere'](_0x5212fc){const _0x4230d5=_0x472813;_0x5212fc[_0x4230d5(0x261)]='';const _0x1de33f=0x78,_0x1d2e0e=0x3c;for(let _0x4bbf53=0x0;_0x4bbf53<_0x1de33f;_0x4bbf53++){const _0x5aaffb=document[_0x4230d5(0x266)]('span');_0x5aaffb[_0x4230d5(0x1ed)]=_0x4230d5(0x22a),_0x5aaffb['textContent']=Math['floor'](Math[_0x4230d5(0x20a)]()*0xa);const _0x4f79a5=Math['acos'](0x1-0x2*(_0x4bbf53+0.5)/_0x1de33f),_0x4086c8=Math['PI']*(0x1+Math['sqrt'](0x5))*_0x4bbf53,_0x303991=_0x1d2e0e*Math[_0x4230d5(0x214)](_0x4f79a5)*Math[_0x4230d5(0x225)](_0x4086c8),_0x54cb31=_0x1d2e0e*Math['sin'](_0x4f79a5)*Math['sin'](_0x4086c8),_0x672121=_0x1d2e0e*Math[_0x4230d5(0x225)](_0x4f79a5);_0x5aaffb['style'][_0x4230d5(0x1da)]='translate3d('+_0x303991+_0x4230d5(0x21d)+_0x54cb31+'px,\x20'+_0x672121+_0x4230d5(0x22b),_0x5aaffb['style'][_0x4230d5(0x251)]=_0x4230d5(0x1ff),_0x5aaffb[_0x4230d5(0x210)][_0x4230d5(0x1e8)]='50%',_0x5aaffb['style']['marginLeft']='-7px',_0x5aaffb[_0x4230d5(0x210)][_0x4230d5(0x203)]=_0x4230d5(0x274),_0x5aaffb['style']['animationDelay']=Math[_0x4230d5(0x20a)]()*0.5+'s';const _0x133d82=0.4+(_0x672121+_0x1d2e0e)/(0x2*_0x1d2e0e)*0.6;_0x5aaffb['style']['opacity']=_0x133d82,_0x5212fc['appendChild'](_0x5aaffb);}this[_0x4230d5(0x257)]=setInterval(()=>{const _0x5c9f70=_0x4230d5,_0x447ef9=_0x5212fc['querySelectorAll']('.matrix-digit'),_0x181bed=_0x447ef9[Math['floor'](Math['random']()*_0x447ef9[_0x5c9f70(0x221)])];_0x181bed&&(_0x181bed[_0x5c9f70(0x213)]=Math['floor'](Math['random']()*0xa));},0x32),setTimeout(()=>{const _0x5e4730=_0x4230d5;this[_0x5e4730(0x257)]&&clearInterval(this['digitChangeInterval']);},0xdac);}['showChatUI'](){const _0x21528a=_0x472813;if(this['connectSection'])this[_0x21528a(0x1ee)]['style'][_0x21528a(0x259)]=_0x21528a(0x1f0);if(this['roomInfoSection'])this['roomInfoSection']['style'][_0x21528a(0x259)]=_0x21528a(0x1f0);if(this[_0x21528a(0x238)])this['messagesSection']['style']['display']=_0x21528a(0x23c);if(this[_0x21528a(0x247)])this[_0x21528a(0x247)]['style']['display']=_0x21528a(0x28c);}[_0x472813(0x21a)](){const _0x43a540=_0x472813;this[_0x43a540(0x1fd)]&&(this['messageInput'][_0x43a540(0x260)]=![],this['messageInput']['focus']());if(this['sendBtn'])this['sendBtn'][_0x43a540(0x260)]=![];}['disableChat'](){const _0x4ab112=_0x472813;if(this['messageInput'])this['messageInput'][_0x4ab112(0x260)]=!![];if(this[_0x4ab112(0x217)])this[_0x4ab112(0x217)][_0x4ab112(0x260)]=!![];}[_0x472813(0x209)](){const _0x462b7c=_0x472813,_0x323717=this[_0x462b7c(0x1fd)]?.['value'][_0x462b7c(0x24c)]();if(!_0x323717||!this[_0x462b7c(0x252)])return;const _0x449eba={'type':_0x462b7c(0x1e1),'text':_0x323717,'timestamp':Date[_0x462b7c(0x28e)]()};try{this['dataChannel']['send'](JSON[_0x462b7c(0x23b)](_0x449eba)),this['addMessage'](_0x323717,'sent',_0x449eba['timestamp']),this[_0x462b7c(0x1fd)][_0x462b7c(0x228)]='';}catch(_0x378983){console['error'](_0x462b7c(0x1f5),_0x378983),this['showSystemMessage']('Failed\x20to\x20send\x20message');}}['receiveMessage'](_0x430da0){const _0x1e45e6=_0x472813;_0x430da0[_0x1e45e6(0x1f7)]==='message'&&(this[_0x1e45e6(0x262)](_0x430da0['text'],'received',_0x430da0['timestamp']),!this[_0x1e45e6(0x224)]&&(this['unreadCount']++,this['updateBadge']()));}[_0x472813(0x262)](_0x5d1e1b,_0x263ef1,_0x28d774){const _0x3b0d30=_0x472813,_0x20f123=document['createElement'](_0x3b0d30(0x207));_0x20f123['className']=_0x3b0d30(0x240)+_0x263ef1;const _0x4c4709=new Date(_0x28d774)['toLocaleTimeString']([],{'hour':'2-digit','minute':_0x3b0d30(0x277)});_0x20f123[_0x3b0d30(0x261)]=_0x3b0d30(0x223)+this[_0x3b0d30(0x24d)](_0x5d1e1b)+'</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<div\x20class=\x22qchat-message-time\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20'+(_0x263ef1===_0x3b0d30(0x253)?'âœ“\x20':'')+_0x4c4709+'\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</div>\x0a\x20\x20\x20\x20\x20\x20\x20\x20',this[_0x3b0d30(0x235)]?.['appendChild'](_0x20f123),this['scrollToBottom']();}['showSystemMessage'](_0xae7b17){const _0x2481b0=_0x472813,_0x14f42f=document[_0x2481b0(0x266)](_0x2481b0(0x207));_0x14f42f['className']='qchat-system-message',_0x14f42f[_0x2481b0(0x213)]=_0xae7b17,this[_0x2481b0(0x235)]?.['appendChild'](_0x14f42f),this[_0x2481b0(0x271)]();}[_0x472813(0x271)](){const _0xed4ebe=_0x472813;this[_0xed4ebe(0x238)]&&(this['messagesSection']['scrollTop']=this[_0xed4ebe(0x238)]['scrollHeight']);}[_0x472813(0x22c)](_0x34eb01,_0x5ab48e){const _0x5351e5=_0x472813;if(this[_0x5351e5(0x283)]){this['statusEl']['className']=_0x5351e5(0x23d)+_0x34eb01;const _0x22781e=this['statusEl']['querySelector'](_0x5351e5(0x254));if(_0x22781e)_0x22781e[_0x5351e5(0x213)]=_0x5ab48e;}}['updateBadge'](){const _0x1e0fde=_0x472813;this['badge']&&(this[_0x1e0fde(0x258)]>0x0?(this['badge']['textContent']=this[_0x1e0fde(0x258)]>0x63?_0x1e0fde(0x25b):this[_0x1e0fde(0x258)],this['badge'][_0x1e0fde(0x210)][_0x1e0fde(0x259)]='flex'):this['badge']['style'][_0x1e0fde(0x259)]='none');}[_0x472813(0x226)](){this['unreadCount']=0x0,this['updateBadge']();}[_0x472813(0x288)](){const _0x3299a4=_0x472813;this[_0x3299a4(0x27a)]&&navigator[_0x3299a4(0x1e3)][_0x3299a4(0x1e7)](this['roomId'])[_0x3299a4(0x26a)](()=>{this['showSystemMessage']('Room\x20code\x20copied!');})[_0x3299a4(0x206)](()=>{const _0x26ef03=_0x3299a4,_0x12a273=document[_0x26ef03(0x266)](_0x26ef03(0x21b));_0x12a273['value']=this['roomId'],document[_0x26ef03(0x201)]['appendChild'](_0x12a273),_0x12a273[_0x26ef03(0x23a)](),document[_0x26ef03(0x1f6)]('copy'),document['body']['removeChild'](_0x12a273),this[_0x26ef03(0x21e)](_0x26ef03(0x24a));});}['handleDisconnect'](){const _0x1e40e3=_0x472813;this[_0x1e40e3(0x252)]=![],this[_0x1e40e3(0x22c)](_0x1e40e3(0x278),_0x1e40e3(0x236)),this[_0x1e40e3(0x1db)]();}[_0x472813(0x24d)](_0x5f2d26){const _0x18ff31=_0x472813,_0x339463=document['createElement'](_0x18ff31(0x207));return _0x339463['textContent']=_0x5f2d26,_0x339463['innerHTML'];}}document[_0x472813(0x245)](_0x472813(0x289),()=>{const _0x34177c=_0x472813;window[_0x34177c(0x242)]=new QChat();});